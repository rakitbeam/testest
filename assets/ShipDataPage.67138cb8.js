import{k as t,j as C,F as S,bs as D,r as n,av as d,by as x,v as y,m as A}from"./index.5a896925.js";import{C as P,c as b,S as T}from"./ShipDataTable.0ffabfca.js";import{S as v,c as N,a as j}from"./ShipTypeFilterButton.8075f6f6.js";import{A as E}from"./ActionBar.5b344b0d.js";import{N as I,P as L}from"./PageContent.c559d23b.js";import{P as M}from"./PageFooter.d06ace01.js";import{c as h,b as f}from"./boolMapUtils.54d90c14.js";import"./domUtils.ce5f88bb.js";import"./MenuItem.b4a29107.js";import"./Popper.84b8af9b.js";import"./ClickAwayListener.267e8ab2.js";import"./useTable.1c5ac90f.js";import"./TableRow.a7a04fd6.js";import"./useFormControl.b1470b8f.js";const R=r=>{const{shipFilter:p,columnConfig:e,onFilterChange:c,onColumnConfigChange:o}=r;return t(E,{left:s=>C(S,{children:[t(P,{columnConfig:e,onChange:o,buttonProps:s},"columnConfig"),t(v,{filter:p,onChange:c,buttonProps:s},"filter")]})})},W=()=>{var u,g;const[r,p]=D(),[e,c]=n.exports.useState(()=>h(r.getAll("filter"),N())),[o,s]=n.exports.useState(()=>h(r.getAll("columns"),b({name:!0,row:!0,type:!0,cost:!0,operationLimit:!0}))),[l,B]=n.exports.useState([(u=r.get("sortBy"))!=null?u:"type",(g=r.get("sortDirection"))!=null?g:"asc"]);n.exports.useEffect(()=>{var i,a;p(d.shipData.createSearchParams({filter:f(e),columns:f(o),sortBy:(i=l[0])!=null?i:null,sortDirection:(a=l[1])!=null?a:"asc"}))},[e,o,l]);const F=n.exports.useMemo(()=>j(A,e).filter(i=>{var a;return((a=i.tags)==null?void 0:a.includes(x.CURRENTLY_UNOBTAINABLE))!==!0}),[e]),m=Object.values(o).filter(i=>i).length>3;return C(S,{children:[t(I,{currentRoute:"/shipData"}),t(R,{shipFilter:e,columnConfig:o,onFilterChange:c,onColumnConfigChange:s}),t(L,{disableContainer:m,children:t(y,{component:"div",p:1,children:t(T,{shipDefinitions:F,columnConfig:o,initialSorting:l,onChangeSorting:B})})}),t(M,{disableContainer:m})]})};export{W as ShipDataPage,W as default};

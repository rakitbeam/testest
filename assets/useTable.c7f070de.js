import{D as U,t as P,c as G,s as _}from"./sorting.c6946657.js";import{L as J,k as a,A as K,C as V,D as k,E as W,K as z,_ as x,r as T,O as q,G as Q,I as X,j as H,J as M,aa as Y,T as w,F as v}from"./index.42651cfe.js";import{T as Z,a as tt,b as et,c as j,d as A,e as ot}from"./TableRow.cb7a34c4.js";var rt=J(a("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function nt(t){return K("MuiTableSortLabel",t)}const st=V("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);var L=st;const at=["active","children","className","direction","hideSortIcon","IconComponent"],ct=t=>{const{classes:o,direction:r,active:e}=t,n={root:["root",e&&"active"],icon:["icon",`iconDirection${z(r)}`]};return X(n,nt,o)},it=k(W,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.root,r.active&&o.active]}})(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${L.icon}`]:{opacity:.5}},[`&.${L.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${L.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}})),lt=k("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,o)=>{const{ownerState:r}=t;return[o.icon,o[`iconDirection${z(r.direction)}`]]}})(({theme:t,ownerState:o})=>x({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},o.direction==="desc"&&{transform:"rotate(0deg)"},o.direction==="asc"&&{transform:"rotate(180deg)"})),dt=T.exports.forwardRef(function(o,r){const e=q({props:o,name:"MuiTableSortLabel"}),{active:n=!1,children:s,className:f,direction:u="asc",hideSortIcon:p=!1,IconComponent:b=rt}=e,c=Q(e,at),i=x({},e,{active:n,direction:u,hideSortIcon:p,IconComponent:b}),l=ct(i);return H(it,x({className:M(l.root,f),component:"span",disableRipple:!0,ownerState:i,ref:r},c,{children:[s,p&&!n?null:a(lt,{as:b,className:M(l.icon),ownerState:i})]}))});var ut=dt;const Tt=t=>{const{table:o,size:r="medium"}=t;return a(Z,{component:Y,children:H(tt,{size:r,children:[a(et,{children:a(j,{children:o.header.map(e=>{var n,s;return a(A,{sortDirection:(n=e.sortDirection)!=null?n:!1,children:e.toggleSort?a(ut,{active:!!e.sortDirection,direction:(s=e.sortDirection)!=null?s:U,onClick:e.toggleSort,children:typeof e.content=="string"?a(w,{variant:"body2",children:e.content}):a(v,{children:e.content})}):a(v,{children:typeof e.content=="string"?a(w,{variant:"body2",children:e.content}):a(v,{children:e.content})})},e.id)})})}),a(ot,{children:o.rows.map(e=>a(j,{children:e.cells.map(n=>a(A,{component:"th",scope:"row",children:typeof n.content=="string"?a(w,{variant:"body2",children:n.content}):a(v,{children:n.content})},n.id))},e.id))})]})})};function D(t,o,r,e){if(!t.sortFn)return{id:`header_${t.id}`,content:t.renderHeader(null,null),sortDirection:null,toggleSort:null};const n=()=>{e(t.id,t.id===o?P(r):U)},s=t.id===o?r:null;return{id:`header_${t.id}`,content:t.renderHeader(s,n),sortDirection:s,toggleSort:n}}function N(t,o){return t.data.map(r=>({id:t.rowIdFn(r),cells:o.map(e=>({id:`${t.rowIdFn(r)}_${e.id}`,content:e.renderCell(r)}))}))}const St=(t={})=>{var p,b;const{initialSorting:o,onChangeSorting:r}=t,[e,n]=T.exports.useState({header:[],rows:[],sortBy:(p=o==null?void 0:o[0])!=null?p:null,sortDirection:(b=o==null?void 0:o[1])!=null?b:null}),s=T.exports.useRef(null),f=T.exports.useCallback(c=>{var S,d;const i=((S=s.current)==null?void 0:S.columns)!==c.columns,l=((d=s.current)==null?void 0:d.data)!==c.data;!i&&!l||(s.current={...s.current,...c},n(m=>{var I,R,$,F,C;const{initialSortBy:B,initialSortDirection:E}=G(c.columns),g=(R=(I=m.sortBy)!=null?I:B)!=null?R:null,y=($=m.sortDirection)!=null?$:E,O=(C=(F=c.columns.find(h=>h.id===g))==null?void 0:F.sortFn)!=null?C:null;return{...m,header:i?c.columns.map(h=>D(h,g,y,u)):m.header,rows:i||l?N(_(c,O,y),c.columns):m.rows,sortBy:g,sortDirection:y}}))},[]),u=T.exports.useCallback((c,i)=>{var l;if(s.current){const S=(l=s.current.columns.find(d=>d.id===c))==null?void 0:l.sortFn;n({...e,header:s.current.columns.map(d=>D(d,c,i,u)),rows:N(_(s.current,S,i),s.current.columns),sortBy:c,sortDirection:i}),r==null||r([c,i])}},[e,s,r]);return{table:e,setTableData:f,setSorting:u}};export{Tt as T,St as u};

import{m as re,n as ie,o as ne,y as ae,_ as y,r as S,D as ue,q as se,w as le,j as i,x as ce,b3 as Me,b4 as N,b5 as j,l as Re,c as We,aV as oe,aT as de,R as A,N as B,O as z,J as Pe,aU as Ee,b6 as Ie,a2 as ke,af as Ne,a as g,b as C,T as h,ah as D,V as U,X as V,Y as H,ap as _e,u as Ge,b7 as Oe,b8 as Le,F as M,E as he,G as pe,H as me,$ as x,B as fe,b1 as ze,S as G,Z as je}from"./index.5b9e6c17.js";import{N as Ue,P as Ve}from"./PageContent.59c6dd11.js";import{u as He,T as qe}from"./useTable.4adcbeeb.js";import{E as Je}from"./ExpandStack.2c27f760.js";import{T as R}from"./Tooltip.34d70b12.js";import{T as Ye,a as K}from"./ToggleButtonGroup.908f27b4.js";import{F as P,I as E,S as I}from"./Select.2ede06bf.js";import{a as F}from"./MenuItem.0a801ece.js";import{R as Ze}from"./ResponsiveDialog.fa2d055c.js";import{P as Qe}from"./PageFooter.6d9d24ac.js";import"./sorting.c6946657.js";function Xe(r){return re("MuiListSubheader",r)}ie("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Ke=["className","color","component","disableGutters","disableSticky","inset"],et=r=>{const{classes:t,color:n,disableGutters:a,inset:u,disableSticky:c}=r,l={root:["root",n!=="default"&&`color${ae(n)}`,!a&&"gutters",u&&"inset",!c&&"sticky"]};return le(l,Xe,t)},tt=ne("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.root,n.color!=="default"&&t[`color${ae(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:r,ownerState:t})=>y({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:r.palette.text.secondary,fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(14)},t.color==="primary"&&{color:r.palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:r.palette.background.paper})),rt=S.exports.forwardRef(function(t,n){const a=ue({props:t,name:"MuiListSubheader"}),{className:u,color:c="default",component:l="li",disableGutters:o=!1,disableSticky:p=!1,inset:m=!1}=a,f=se(a,Ke),e=y({},a,{color:c,component:l,disableGutters:o,disableSticky:p,inset:m}),s=et(e);return i(tt,y({as:l,className:ce(s.root,u),ref:n,ownerState:e},f))});var O=rt;const it=S.exports.createContext();var ee=it;function nt(r){return re("MuiGrid",r)}const at=[0,1,2,3,4,5,6,7,8,9,10],ut=["column-reverse","column","row-reverse","row"],st=["nowrap","wrap-reverse","wrap"],$=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],q=ie("MuiGrid",["root","container","item","zeroMinWidth",...at.map(r=>`spacing-xs-${r}`),...ut.map(r=>`direction-xs-${r}`),...st.map(r=>`wrap-xs-${r}`),...$.map(r=>`grid-xs-${r}`),...$.map(r=>`grid-sm-${r}`),...$.map(r=>`grid-md-${r}`),...$.map(r=>`grid-lg-${r}`),...$.map(r=>`grid-xl-${r}`)]),lt=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function T(r){const t=parseFloat(r);return`${t}${String(r).replace(String(t),"")||"px"}`}function ct({theme:r,ownerState:t}){let n;return r.breakpoints.keys.reduce((a,u)=>{let c={};if(t[u]&&(n=t[u]),!n)return a;if(n===!0)c={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=N({values:t.columns,breakpoints:r.breakpoints.values}),o=typeof l=="object"?l[u]:l;if(o==null)return a;const p=`${Math.round(n/o*1e8)/1e6}%`;let m={};if(t.container&&t.item&&t.columnSpacing!==0){const f=r.spacing(t.columnSpacing);if(f!=="0px"){const e=`calc(${p} + ${T(f)})`;m={flexBasis:e,maxWidth:e}}}c=y({flexBasis:p,flexGrow:0,maxWidth:p},m)}return r.breakpoints.values[u]===0?Object.assign(a,c):a[r.breakpoints.up(u)]=c,a},{})}function ot({theme:r,ownerState:t}){const n=N({values:t.direction,breakpoints:r.breakpoints.values});return j({theme:r},n,a=>{const u={flexDirection:a};return a.indexOf("column")===0&&(u[`& > .${q.item}`]={maxWidth:"none"}),u})}function dt({theme:r,ownerState:t}){const{container:n,rowSpacing:a}=t;let u={};if(n&&a!==0){const c=N({values:a,breakpoints:r.breakpoints.values});u=j({theme:r},c,l=>{const o=r.spacing(l);return o!=="0px"?{marginTop:`-${T(o)}`,[`& > .${q.item}`]:{paddingTop:T(o)}}:{}})}return u}function ht({theme:r,ownerState:t}){const{container:n,columnSpacing:a}=t;let u={};if(n&&a!==0){const c=N({values:a,breakpoints:r.breakpoints.values});u=j({theme:r},c,l=>{const o=r.spacing(l);return o!=="0px"?{width:`calc(100% + ${T(o)})`,marginLeft:`-${T(o)}`,[`& > .${q.item}`]:{paddingLeft:T(o)}}:{}})}return u}function ge(r,t,n={}){if(!t||!r||r<=0)return[];if(typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number")return[n[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`];const{xs:a,sm:u,md:c,lg:l,xl:o}=r;return[Number(a)>0&&(n[`spacing-xs-${String(a)}`]||`spacing-xs-${String(a)}`),Number(u)>0&&(n[`spacing-sm-${String(u)}`]||`spacing-sm-${String(u)}`),Number(c)>0&&(n[`spacing-md-${String(c)}`]||`spacing-md-${String(c)}`),Number(l)>0&&(n[`spacing-lg-${String(l)}`]||`spacing-lg-${String(l)}`),Number(o)>0&&(n[`spacing-xl-${String(o)}`]||`spacing-xl-${String(o)}`)]}const pt=ne("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,t)=>{const{container:n,direction:a,item:u,lg:c,md:l,sm:o,spacing:p,wrap:m,xl:f,xs:e,zeroMinWidth:s}=r.ownerState;return[t.root,n&&t.container,u&&t.item,s&&t.zeroMinWidth,...ge(p,n,t),a!=="row"&&t[`direction-xs-${String(a)}`],m!=="wrap"&&t[`wrap-xs-${String(m)}`],e!==!1&&t[`grid-xs-${String(e)}`],o!==!1&&t[`grid-sm-${String(o)}`],l!==!1&&t[`grid-md-${String(l)}`],c!==!1&&t[`grid-lg-${String(c)}`],f!==!1&&t[`grid-xl-${String(f)}`]]}})(({ownerState:r})=>y({boxSizing:"border-box"},r.container&&{display:"flex",flexWrap:"wrap",width:"100%"},r.item&&{margin:0},r.zeroMinWidth&&{minWidth:0},r.wrap==="nowrap"&&{flexWrap:"nowrap"},r.wrap==="reverse"&&{flexWrap:"wrap-reverse"}),ot,dt,ht,ct),mt=r=>{const{classes:t,container:n,direction:a,item:u,lg:c,md:l,sm:o,spacing:p,wrap:m,xl:f,xs:e,zeroMinWidth:s}=r,d={root:["root",n&&"container",u&&"item",s&&"zeroMinWidth",...ge(p,n),a!=="row"&&`direction-xs-${String(a)}`,m!=="wrap"&&`wrap-xs-${String(m)}`,e!==!1&&`grid-xs-${String(e)}`,o!==!1&&`grid-sm-${String(o)}`,l!==!1&&`grid-md-${String(l)}`,c!==!1&&`grid-lg-${String(c)}`,f!==!1&&`grid-xl-${String(f)}`]};return le(d,nt,t)},ft=S.exports.forwardRef(function(t,n){const a=ue({props:t,name:"MuiGrid"}),u=Me(a),{className:c,columns:l,columnSpacing:o,component:p="div",container:m=!1,direction:f="row",item:e=!1,lg:s=!1,md:d=!1,rowSpacing:b,sm:W=!1,spacing:Z=0,wrap:be="wrap",xl:xe=!1,xs:ve=!1,zeroMinWidth:we=!1}=u,Te=se(u,lt),$e=b||Z,Ae=o||Z,Be=S.exports.useContext(ee),_=l||Be||12,Q=y({},u,{columns:_,container:m,direction:f,item:e,lg:s,md:d,sm:W,rowSpacing:$e,columnSpacing:Ae,wrap:be,xl:xe,xs:ve,zeroMinWidth:we}),De=mt(Q);return(X=>_!==12?i(ee.Provider,{value:_,children:X}):X)(i(pt,y({ownerState:Q,className:ce(De.root,c),as:p,ref:n},Te)))});var v=ft;function gt(){return Re.filter(r=>!!r.researchManufacturer||!!r.researchStrategyTypes||!!r.researchTacticTypes)}function St(r,t){const n=[],a=[],u=[],c=[];return r.forEach(l=>{const o=We(l,t);if(o.length>0){a.push({shipDefinition:l,modules:o});return}if(oe(l.id,t)){u.push(l);return}if(de(l.id,t)){n.push(l);return}c.push(l)}),{wantedShips:n.sort((l,o)=>l.name.localeCompare(o.name)),shipsWithWantedModule:a.sort((l,o)=>l.shipDefinition.name.localeCompare(o.shipDefinition.name)),possessedShips:u.sort((l,o)=>l.name.localeCompare(o.name)),remainingShips:c.sort((l,o)=>l.name.localeCompare(o.name))}}function Ft(){const r=[A.NOMA_SHIPPING_GROUP,A.JUPITER_INDUSTRIES,A.ANTONIOS_CONSORTIUM,A.DAWN_ACCORD,null],t=[B.OUTSTANDING_FIREPOWER,B.SUSTAINED_COMBAT,B.STRATEGY_AND_SUPPORT,B.FIGHTER_AND_CORVETTE,null],n=[z.PROJECTILE_WEAPONS,z.DIRECT_FIRE_WEAPONS,null];return r.flatMap(a=>t.flatMap(u=>n.map(c=>({shipId:null,manufacturerFilter:a,strategyTypeFilter:u,tacticTypeFilter:c}))))}let Ct=0;function yt(r,t,n){const a=t.filter(e=>!(r.manufacturerFilter!==null&&e.researchManufacturer!==r.manufacturerFilter||r.strategyTypeFilter!==null&&e.researchStrategyTypes&&!e.researchStrategyTypes.includes(r.strategyTypeFilter)||r.tacticTypeFilter!==null&&e.researchTacticTypes&&!e.researchTacticTypes.includes(r.tacticTypeFilter))),u=a.reduce((e,s)=>e+s.weight,0),c=a.map(e=>{const s=oe(e.id,n),d=e.weight/u,b=Pe(e,n);return{shipDefinition:e,chance:d,formula:`${e.weight} / ${u}`,possessed:s,wished:de(e.id,n),unwished:Ee(e.id,n),modules:b.map(W=>({module:W,chance:d/b.length,formula:`${d} / ${b.length}`,wished:Ie(W.id,e.id,n)}))}});let l=0,o=0,p=0,m=0,f=0;return c.forEach(e=>{if(e.possessed){if(e.modules.length>0){o+=e.chance,e.modules.find(s=>s.wished)&&(p+=e.chance);return}f+=e.chance;return}else{l+=e.chance,e.wished&&(p+=e.chance),e.unwished&&(m+=e.chance);return}}),{id:`${Ct++}`,filterState:r,shipChances:c,totalShipChance:l,totalModuleChance:o,wishedShipChance:p,unwishedShipChance:m,techPointChance:f}}function bt(r){var t,n,a;return`${(t=r.manufacturerFilter)!=null?t:"null"}.${(n=r.strategyTypeFilter)!=null?n:"null"}.${(a=r.tacticTypeFilter)!=null?a:"null"}`}function xt(r,t){if(t.shipId!==null)return r.filter(u=>!u.filterState.manufacturerFilter&&!u.filterState.strategyTypeFilter&&!u.filterState.tacticTypeFilter?!1:u.shipChances.find(c=>c.shipDefinition.id===t.shipId)).sort((u,c)=>{var p,m,f,e;const l=(m=(p=u.shipChances.find(s=>s.shipDefinition.id===t.shipId))==null?void 0:p.chance)!=null?m:0;return((e=(f=c.shipChances.find(s=>s.shipDefinition.id===t.shipId))==null?void 0:f.chance)!=null?e:0)-l});const n=[],a=r.filter(u=>t.manufacturerFilter!==null&&u.filterState.manufacturerFilter!==t.manufacturerFilter||t.strategyTypeFilter!==null&&u.filterState.strategyTypeFilter!==t.strategyTypeFilter||t.tacticTypeFilter!==null&&u.filterState.tacticTypeFilter!==t.tacticTypeFilter||!u.filterState.manufacturerFilter&&!u.filterState.strategyTypeFilter&&!u.filterState.tacticTypeFilter?!1:u.filterState.manufacturerFilter===t.manufacturerFilter&&u.filterState.strategyTypeFilter===t.strategyTypeFilter&&u.filterState.tacticTypeFilter===t.tacticTypeFilter?(n.push(u),!1):u);return[...n,...a]}const vt=r=>{const{configurations:t,filterState:n,onClickConfiguration:a}=r,{table:u,setTableData:c}=He(),l=ke(),p=Ne(l.breakpoints.down("sm"))?"38px":"50px",m=n.shipId;return S.exports.useEffect(()=>{const f={columns:[{id:"filter",renderHeader:()=>"\u30D5\u30A3\u30EB\u30BF\u30FC",renderCell:e=>g(C,{sx:{minWidth:"120px"},children:[e.filterState.manufacturerFilter&&i(h,{variant:"body2",children:i(D,{onClick:()=>a(e),children:U(e.filterState.manufacturerFilter)})}),e.filterState.strategyTypeFilter&&i(h,{variant:"body2",children:i(D,{onClick:()=>a(e),children:V(e.filterState.strategyTypeFilter)})}),e.filterState.tacticTypeFilter&&i(h,{variant:"body2",children:i(D,{onClick:()=>a(e),children:H(e.filterState.tacticTypeFilter)})}),!e.filterState.manufacturerFilter&&!e.filterState.strategyTypeFilter&&!e.filterState.tacticTypeFilter&&i(h,{variant:"body2",children:i(D,{onClick:()=>a(e),children:"\u7121\u3057"})})]})},...m?[{id:"selectedShipChance",renderHeader:()=>"\u9078\u629E\u3057\u305F\u8266\u8239",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(L(e,m))})}),sortFn:[(e,s)=>L(e,m)-L(s,m),(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]}]:[],{id:"totalShipChance",renderHeader:()=>"\u65B0\u898F\u8266\u8239",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(e.totalShipChance)})}),sortFn:[(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"totalModuleChance",renderHeader:()=>"\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(e.totalModuleChance)})}),sortFn:[(e,s)=>e.totalModuleChance-s.totalModuleChance,(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"techPointChance",renderHeader:()=>"\u6280\u8853Pt",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(e.techPointChance)})}),sortFn:[(e,s)=>e.techPointChance-s.techPointChance,(e,s)=>s.totalShipChance-e.totalShipChance,(e,s)=>s.wishedShipChance-e.wishedShipChance,(e,s)=>e.unwishedShipChance-s.unwishedShipChance]},{id:"wishedShipChance",renderHeader:()=>"\u6B32\u3057\u3044\u8266\u8239",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(e.wishedShipChance)})}),sortFn:[(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"unwishedShipChance",renderHeader:()=>"\u6B32\u3057\u304F\u306A\u3044\u8266\u8239",renderCell:e=>i(C,{sx:{minWidth:p},children:i(h,{variant:"body2",children:w(e.unwishedShipChance)})}),sortFn:[(e,s)=>e.unwishedShipChance-s.unwishedShipChance,(e,s)=>s.totalShipChance-e.totalShipChance,(e,s)=>s.wishedShipChance-e.wishedShipChance,(e,s)=>e.techPointChance-s.techPointChance]}],data:t,rowIdFn:e=>bt(e.filterState)};c(f)},[c,t,m,a,p]),i(qe,{table:u,size:"small"})};function w(r){return`${Number((r*100).toFixed(2))} %`}function L(r,t){var n,a;return(a=(n=r.shipChances.find(u=>u.shipDefinition.id===t))==null?void 0:n.chance)!=null?a:0}const wt=r=>{const{shipDefinition:t}=r,{openShipDetailDialog:n}=_e();return i(h,{variant:"body2",component:"span",children:i(D,{onClick:()=>{n(t.id)},children:t.name})})},Se=r=>{const{configuration:t}=r,{userSettings:n}=Ge();return i(Oe,{rows:[{key:`${t.id}.wishedShipChance`,label:"\u6B32\u3057\u3044\u8266\u8239",value:k(t.wishedShipChance),separatorAfter:!0},...t.techPointChance>0?[{key:`${t.id}.techPointChance`,label:i(h,{variant:"body2",sx:t.techPointChance>0?{color:"red"}:void 0,children:"\u6280\u8853Pt"}),value:i(h,{variant:"body2",sx:t.techPointChance>0?{color:"red"}:void 0,children:k(t.techPointChance)}),separatorAfter:!0}]:[],...t.shipChances.flatMap(a=>{const u=a.possessed&&a.modules.length>0,c=a.wished||Le(a.shipDefinition.id,n);return[{key:`${t.id}.${a.shipDefinition.id}`,label:g(M,{children:[i(wt,{shipDefinition:a.shipDefinition}),u&&i(h,{variant:"body2",component:"span",children:"\uFF08\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0\uFF09"}),!u&&a.possessed&&i(h,{variant:"body2",component:"span",children:"\uFF08\u6280\u8853Pt\uFF09"}),c&&i(R,{arrow:!0,disableFocusListener:!0,title:"\u6B32\u3057\u3044\u8266\u8239",children:i(h,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:i(R,{arrow:!0,disableFocusListener:!0,title:g(M,{children:[i(h,{variant:"body2",gutterBottom:!0,children:"\u78BA\u7387\u306E\u91CD\u307F / \u5408\u8A08"}),i(h,{variant:"body2",children:a.formula})]}),children:i(h,{variant:"body2",sx:{color:!u&&a.possessed?"red":void 0},children:k(a.chance)})})},...u?a.modules.map(l=>({key:`${t.id}.${a.shipDefinition.id}.${l.module.id}`,label:g(M,{children:[i(h,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517"}),i(h,{variant:"body2",component:"span",color:"text.secondary",children:`${l.module.category}${l.module.categoryNumber} ${l.module.name}`}),l.wished&&i(R,{arrow:!0,disableFocusListener:!0,title:"\u6B32\u3057\u3044\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0",children:i(h,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:i(R,{arrow:!0,disableFocusListener:!0,title:g(M,{children:[i(h,{variant:"body2",gutterBottom:!0,children:"\u8266\u8239\u78BA\u7387 / \u6B8B\u308A\u30B7\u30B9\u30C6\u30E0\u6570"}),i(h,{variant:"body2",children:l.formula})]}),children:i(h,{variant:"body2",color:"text.secondary",children:k(l.chance)})})})):[]]})],rowGap:1})};function k(r){return`${Number((r*100).toFixed(3))} %`}const Fe=r=>{var a,u;const{configuration:t,filterState:n}=r;return g(h,{variant:"body2",children:[[...t.filterState.manufacturerFilter!==null?[U(t.filterState.manufacturerFilter)]:[],...t.filterState.strategyTypeFilter!==null?[V(t.filterState.strategyTypeFilter)]:[],...t.filterState.tacticTypeFilter!==null?[H(t.filterState.tacticTypeFilter)]:[],...!t.filterState.manufacturerFilter&&!t.filterState.strategyTypeFilter&&!t.filterState.tacticTypeFilter?["\u7121\u3057"]:[]].map(c=>`\u300C${c}\u300D`).join("+"),n.shipId===null&&t.wishedShipChance>0&&i(R,{arrow:!0,disableFocusListener:!0,title:`\u6B32\u3057\u3044\u8266\u8239\u304C\u5F53\u305F\u308B\u78BA\u7387\uFF1A${te(t.wishedShipChance)}`,children:i(h,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})}),n.shipId!==null&&i(h,{variant:"body2",component:"span",children:`\u3000\u21D2\u3000${te((u=(a=t.shipChances.find(c=>c.shipDefinition.id===n.shipId))==null?void 0:a.chance)!=null?u:0)}`})]})};function te(r){return`${Number((r*100).toFixed(3))} %`}const Tt=r=>{const{configurations:t,filterState:n}=r,a=!!n.manufacturerFilter||!!n.strategyTypeFilter||!!n.tacticTypeFilter;return i(Je,{expandables:t.map(u=>({id:u.id,initiallyOpened:a,summary:i(Fe,{configuration:u,filterState:n}),details:i(Se,{configuration:u})})),unmount:!0})};var J={},$t=pe.exports;Object.defineProperty(J,"__esModule",{value:!0});var Ce=J.default=void 0,At=$t(he),Bt=me,Dt=(0,At.default)((0,Bt.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");Ce=J.default=Dt;var Y={},Mt=pe.exports;Object.defineProperty(Y,"__esModule",{value:!0});var ye=Y.default=void 0,Rt=Mt(he),Wt=me,Pt=(0,Rt.default)((0,Wt.jsx)("path",{d:"M21 8H3V4h18v4zm0 2H3v4h18v-4zm0 6H3v4h18v-4z"}),"TableRows");ye=Y.default=Pt;const Et=r=>{const{mode:t,onChange:n}=r;return g(Ye,{value:t,exclusive:!0,onChange:(u,c)=>{n(c)},size:"small","aria-label":"view mode",children:[i(K,{value:"ships","aria-label":"ships",children:i(Ce,{})}),i(K,{value:"table","aria-label":"table",children:i(ye,{})})]})},It=r=>{var m,f,e,s;const{filterState:t,shipFilterOptions:n,onChange:a}=r,u=d=>{a({...t,shipId:d.target.value===""?null:d.target.value,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})},c=d=>{a({...t,shipId:null,manufacturerFilter:d.target.value===""?null:d.target.value})},l=d=>{a({...t,shipId:null,strategyTypeFilter:d.target.value===""?null:d.target.value})},o=d=>{a({...t,shipId:null,tacticTypeFilter:d.target.value===""?null:d.target.value})},p=()=>{a({...t,shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})};return g(v,{container:!0,spacing:2,children:[i(v,{item:!0,xs:12,sm:8,md:4,children:g(P,{fullWidth:!0,size:"small",children:[i(E,{id:"manufacturer-select-label",children:"\u59D4\u8A17\u4F01\u696D"}),g(I,{labelId:"manufacturer-select-label",value:(m=t.manufacturerFilter)!=null?m:"",label:"\u59D4\u8A17\u4F01\u696D",onChange:c,children:[i(F,{value:"",children:"\u7121\u3057"}),i(x,{}),Object.values(A).map(d=>i(F,{value:d,children:U(d)},d))]})]})}),i(v,{item:!0,xs:12,sm:8,md:4,children:g(P,{fullWidth:!0,size:"small",children:[i(E,{id:"strategy-select-label",children:"\u6226\u7565\u80FD\u529B"}),g(I,{labelId:"strategy-select-label",value:(f=t.strategyTypeFilter)!=null?f:"",label:"\u6226\u7565\u80FD\u529B",onChange:l,children:[i(F,{value:"",children:"\u7121\u3057"}),i(x,{}),Object.values(B).map(d=>i(F,{value:d,children:V(d)},d))]})]})}),i(v,{item:!0,xs:12,sm:8,md:4,children:g(P,{fullWidth:!0,size:"small",children:[i(E,{id:"tactics-select-label",children:"\u6226\u8853\u6027\u80FD"}),g(I,{labelId:"tactics-select-label",value:(e=t.tacticTypeFilter)!=null?e:"",label:"\u6226\u8853\u6027\u80FD",onChange:o,children:[i(F,{value:"",children:"\u7121\u3057"}),i(x,{}),Object.values(z).map(d=>i(F,{value:d,children:H(d)},d))]})]})}),i(v,{item:!0,xs:12,sm:8,children:g(P,{fullWidth:!0,size:"small",children:[i(E,{id:"ship-select-label",children:"\u8266\u8239"}),g(I,{labelId:"ship-select-label",value:(s=t.shipId)!=null?s:"",label:"\u8266\u8239",onChange:u,children:[i(F,{value:"",children:"\u7121\u3057"}),n.wantedShips.length+n.shipsWithWantedModule.length>0&&i(x,{}),n.wantedShips.length+n.shipsWithWantedModule.length>0&&i(O,{disableSticky:!0,children:"\u6B32\u3057\u3044\u8266\u8239\uFF1A"}),n.wantedShips.map(d=>g(F,{value:d.id,children:[d.name,i(h,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},d.id)),n.shipsWithWantedModule.map(({shipDefinition:d,modules:b})=>g(F,{value:d.id,children:[`${d.name}\uFF08\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0\uFF09`,i(h,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},d.id)),n.remainingShips.length>0&&i(x,{}),n.remainingShips.length>0&&i(O,{disableSticky:!0,children:"\u53D6\u5F97\u53EF\u80FD\u306A\u8266\u8239\uFF1A"}),n.remainingShips.map(d=>i(F,{value:d.id,children:d.name},d.id)),n.possessedShips.length>0&&i(x,{}),n.possessedShips.length>0&&i(O,{disableSticky:!0,children:"\u53D6\u5F97\u6E08\u307F\u306E\u8266\u8239\uFF1A"}),n.possessedShips.map(d=>i(F,{value:d.id,children:d.name},d.id))]})]})}),i(v,{item:!0,xs:12,sm:4,sx:{display:"flex",justifyContent:"end"},children:i(fe,{variant:"outlined",onClick:p,children:"\u30EA\u30BB\u30C3\u30C8"})})]})},kt=S.exports.memo(vt),Nt=S.exports.memo(Tt),Zt=()=>{const[r,t]=S.exports.useState("ships"),n=S.exports.useMemo(()=>gt(),[]),a=S.exports.useMemo(()=>ze(),[]),u=S.exports.useMemo(()=>Ft(),[]),c=S.exports.useMemo(()=>u.map(s=>yt(s,n,a)),[u,n]),l=S.exports.useMemo(()=>St(n,a),[n,a]),[o,p]=S.exports.useState({shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null}),m=S.exports.useMemo(()=>xt(c,o),[c,o]),[f,e]=S.exports.useState(null);return g(M,{children:[i(Ue,{currentRoute:"/researchAgreement"}),i(Ve,{children:i(C,{p:1,children:g(G,{spacing:1,children:[g(G,{pt:1,pb:1,spacing:2,children:[i(h,{variant:"body2",children:"\u3053\u3053\u3067\u306F\u300C\u7814\u7A76\u5354\u5B9A\u300D\u306B\u95A2\u3059\u308B\u5404\u7A2E\u78BA\u7387\u3092\u8868\u793A\u3057\u3066\u3044\u307E\u3059\u3002"}),i(h,{variant:"body2",children:"\u7814\u7A76\u65B9\u91DD\uFF08\u59D4\u8A17\u4F01\u696D\u3001\u6226\u7565\u80FD\u529B\u3001\u6226\u8853\u80FD\u529B\uFF09\u3092\u9078\u629E\u3057\u305F\u5834\u5408\u306F\u305D\u306E\u7D44\u307F\u5408\u308F\u305B\u3067\u624B\u306B\u5165\u308B\u8A2D\u8A08\u56F3\u3084\u8FFD\u52A0\u30E2\u30B8\u30E5\u30FC\u30EB\u306E\u78BA\u7387\u304C\u8868\u793A\u3055\u308C\u307E\u3059\u3002\u8266\u8239\u3092\u9078\u629E\u3057\u305F\u5834\u5408\u306F\u305D\u306E\u8266\u8239\u3092\u542B\u3080\u7814\u7A76\u65B9\u91DD\u304C\u78BA\u7387\u9806\u306B\u8868\u793A\u3055\u308C\u307E\u3059\u3002"}),i(h,{variant:"body2",children:"\u53D6\u5F97\u6E08\u307F\u306E\u8A2D\u8A08\u56F3\u306F\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u8A2D\u5B9A\u3057\u3066\u304F\u3060\u3055\u3044\u3002"})]}),i(je,{children:i(C,{p:2,children:g(G,{spacing:2,children:[i(h,{variant:"body2",children:"\u7814\u7A76\u65B9\u91DD"}),i("div",{children:i(It,{filterState:o,onChange:p,shipFilterOptions:l})}),i(C,{sx:{display:"flex",justifyContent:"end"},children:i(Et,{mode:r,onChange:t})})]})})}),r==="ships"&&i(Nt,{configurations:m,filterState:o})]})})}),r==="table"&&i(C,{p:1,children:i(kt,{configurations:m,filterState:o,onClickConfiguration:e})}),f&&i(Ze,{maxWidth:"sm",title:i(Fe,{configuration:f,filterState:o}),content:i(Se,{configuration:f}),actions:i(fe,{variant:"outlined",onClick:()=>e(null),children:"\u9589\u3058\u308B"}),onClose:()=>e(null)}),i(Qe,{disableContainer:r==="table"})]})};export{Zt as ResearchAgreementPage,Zt as default};

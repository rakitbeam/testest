var R=Object.defineProperty,k=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var j=(i,s,t)=>s in i?R(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,D=(i,s)=>{for(var t in s||(s={}))L.call(s,t)&&j(i,t,s[t]);if(b)for(var t of b(s))U.call(s,t)&&j(i,t,s[t]);return i},g=(i,s)=>k(i,$(s));import{j as u,b as h,F as m,h as f,r as l,S as y,T as d,c as v,p as I,q as M}from"./vendor.d72687a6.js";import{d as O}from"./Settings.95cfa736.js";import{d as N,E as V,a as W,b as _,c as z}from"./clipboardUtils.c13731ea.js";import{S as G,c as H,a as K,e as q,b as J,d as P,f as Q}from"./ShipTypeFilterButton.da41f98d.js";import{A as X}from"./ActionBar.6c4cab2b.js";import{C as Y,S as Z,c as uu}from"./ShipDataTable.24e92fb3.js";import{g as eu}from"./userSettingsUtils.3d65d0ff.js";import{t as E,S as B,a as w,b as A,s as T,c as su}from"./index.d5846f0d.js";import{n as tu}from"./sorting.c6946657.js";import{R as iu}from"./ResponsiveDialog.3bf70d89.js";import{N as au,C as nu}from"./NavigationBar.60fa7a4c.js";import"./ExpandMore.bb7d9853.js";import"./WishState.3db35fd5.js";import"./domUtils.e9df6b0f.js";import"./useTable.4ca8cd5d.js";const ou=i=>{const{shipFilter:s,columnConfig:t,onEdit:p,onFilter:o,onShare:n,onColumnConfigChange:a}=i;return u(X,{left:e=>h(m,{children:[u(Y,{columnConfig:t,onChange:a,buttonProps:e},"columnConfig"),u(G,{filter:s,onChange:o,buttonProps:e},"filter"),u(f,g(D({variant:"outlined",startIcon:u(O,{}),onClick:p},e),{children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A"}),"edit")]}),right:e=>u(m,{children:u(f,g(D({variant:"outlined",startIcon:u(N,{}),onClick:n},e),{children:"\u5171\u6709"}),"share")})})},F=l.exports.memo(Z),ru=i=>{const{shipListState:s,columnConfig:t}=i;return l.exports.useState({possessed:!0,wished:!1,unwishedByUser:!1,unwishedByData:!1}),h(y,{spacing:1,children:[u(V,{expandables:[{id:"possessed-ships",initiallyOpened:!0,summary:u(d,{variant:"body1",children:"\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3"}),details:u(F,{shipDefinitions:s.possessed,columnConfig:t})},{id:"wished-ships",initiallyOpened:!1,summary:u(d,{variant:"body1",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3"}),details:u(F,{shipDefinitions:s.wished,columnConfig:t})},{id:"unwished-by-user-ships",initiallyOpened:!1,summary:u(d,{variant:"body1",children:"\u6B32\u3057\u304F\u306A\u3044\u8A2D\u8A08\u56F3"}),details:u(F,{shipDefinitions:s.unwishedByUser,columnConfig:t})},{id:"unwished-by-data-ships",initiallyOpened:!1,summary:u(d,{variant:"body1",children:"\u88AB\u3063\u3066\u6B32\u3057\u304F\u306A\u3044\u8266\u8239"}),details:h(m,{children:[u(F,{shipDefinitions:s.unwishedByData,columnConfig:t}),u(v,{pt:1,children:u(d,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u88AB\u308A\u3067\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u304B\u300C\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044\u300D\u30B5\u30D6\u30E2\u30C7\u30EB\u306B\u306A\u308B\u8266\u8239\u304C\u81EA\u52D5\u7684\u306B\u8868\u793A\u3055\u308C\u307E\u3059"})})]})}]}),u(d,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})]})};function lu(i){const s=[],t=[],p=[],o=[],n=[];i.forEach(e=>{switch(e.row){case B.FRONT:{s.push(e);break}case B.MIDDLE:{t.push(e);break}case B.BACK:{p.push(e);break}default:switch(e.type){case A.CORVETTE:{o.push(e);break}case A.FIGHTER:{n.push(e);break}}}});const a=tu([(e,r)=>T(e.type,e.subType)-T(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]);return["\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",[`\u3010${E(B.FRONT)}\u3011`,...s.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.MIDDLE)}\u3011`,...t.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.BACK)}\u3011`,...p.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${w(A.CORVETTE)}\u3011`,...o.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${w(A.FIGHTER)}\u3011`,...n.sort(a).map(e=>`\u3000${e.name}`)].join(`
`)].join(`

`)}const du=i=>{const{ships:s,onClose:t}=i,[p,o]=l.exports.useState(!1),[n,a]=l.exports.useState(()=>lu(s.possessed)),e=()=>{n&&z(n).then(()=>{o(!0)})},r=S=>{a(S.target.value)},C=()=>{t(),o(!1)};return u(iu,{title:"\u5171\u6709",content:h(y,{spacing:1,children:[u(I,{variant:"filled",id:"outlined-multiline-static",multiline:!0,onChange:r,rows:10,defaultValue:n,fullWidth:!0}),!!navigator.clipboard&&u(f,{variant:"outlined",startIcon:p?u(W,{}):u(_,{}),onClick:e,fullWidth:!0,children:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"})]}),actions:u(f,{variant:"outlined",onClick:C,children:"\u9589\u3058\u308B"}),onClose:C})},vu=()=>{const i=M(),s=l.exports.useMemo(()=>eu(),[]),[t,p]=l.exports.useState(H),[o,n]=l.exports.useState(null),[a,e]=l.exports.useState(()=>uu({name:!0,row:!0,type:!0,cost:!1,operationLimit:!1})),r=l.exports.useMemo(()=>{const c=K(su,t);return{possessed:q(c,s.ships),wished:J(c,s.ships),unwishedByUser:P(c,s.ships),unwishedByData:Q(c,s.ships)}},[s,t]),C=()=>{i("/myList/edit")},S=()=>{n(r)},x=()=>{n(null)};return h(m,{children:[u(au,{currentRoute:"/myList"}),u(ou,{shipFilter:t,columnConfig:a,onEdit:C,onFilter:p,onShare:S,onColumnConfigChange:e}),u(nu,{disabled:Object.values(a).filter(c=>c).length>3,children:h(v,{p:1,children:[h(y,{pt:1,pb:2,spacing:2,children:[u(d,{variant:"body2",children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u306F\u8266\u8239\u306E\u6240\u6709\u72B6\u614B\u3084\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u7B49\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u51FA\u6765\u307E\u3059\u3002"}),u(d,{variant:"body2",children:"\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u500B\u4EBA\u306B\u5408\u308F\u305B\u305F\u7D30\u304B\u3044\u78BA\u7387\u306E\u8A08\u7B97\u304C\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\uFF08\u30B5\u30D6\u30E2\u30C7\u30EB\u306E\u78BA\u7387\u3084\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u306E\u78BA\u7387\u304C\u5909\u52D5\u3057\u307E\u3059\uFF09\u3002"}),u(d,{variant:"body2",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u305D\u308C\u3089\u306E\u5408\u8A08\u78BA\u7387\u304C\u30D1\u30A4\u30C1\u30E3\u30FC\u30C8\u3067\u8868\u793A\u3055\u308C\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002"})]}),u(ru,{shipListState:r,columnConfig:a})]})}),o&&u(du,{ships:o,onClose:x})]})};export{vu as MyListPage,vu as default};

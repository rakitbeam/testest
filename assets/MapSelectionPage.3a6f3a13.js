import{N as y,P as w}from"./PageContent.76ceca57.js";import{E as k}from"./ExpandStack.13ac6443.js";import{d as C,r as i,z as x,j as o,w as p,k as a,T as h,q as g,t as l,B as U,au as m,F as b,aA as u}from"./index.907ac258.js";import{T as S}from"./TextField.d9787842.js";import{P}from"./PageFooter.d36674ac.js";import"./MenuItem.8eb70083.js";import"./Select.c58ed4f9.js";import"./useFormControl.3b10ec93.js";function j(e){try{return new URL(e),!0}catch{return!1}}function f(){const e=C();return{fullMapExample:n("Full map",e==="ja"?"fullMap_ja.txt":"fullMap.txt"),markerExample:n("Marker","marker.txt"),planetsExample:n("Planets","planets.txt"),regionsExample:n("Regions","regions.txt"),citiesExample:n("Cities","cities.txt"),baseExample:n("Player bases","base.txt"),areaExample:n("Areas","areas.txt")}}function T(){return[n("9000 x 9000","template9k.txt"),n("10000 x 10000","template10k.txt")]}function n(e,r){return{name:e,url:window.location.origin+window.location.pathname+"mapExamples/"+r}}const B=()=>{const[e,r]=i.exports.useState(()=>f().fullMapExample.url),[s,d]=i.exports.useState(null),[t,c]=i.exports.useState(!1),E=x(),M=()=>{if(!j(e)){d(!1),c(!0);return}E(m.mapSelected.createPath({d:window.btoa(e)}))};return o(p,{spacing:1,children:[a(h,{variant:"body1",children:"URL"}),o(p,{direction:"row",spacing:1,children:[a(g,{component:"div",sx:{flexGrow:1},children:a(S,{id:"url-input",variant:"outlined",value:e,onChange:v=>{c(!1),r(v.target.value)},error:t&&!s,helperText:t&&!s?l("mapEdit.invalidUrl"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),a("div",{children:a(U,{variant:"outlined",onClick:M,disabled:e.length===0,children:l("mapEdit.loadAndOpenMap")})})]})]})},G=()=>{const e=x(),r=t=>{e(m.mapSelected.createPath({d:window.btoa(t)}))},s=i.exports.useMemo(()=>Object.values(f()),[]),d=i.exports.useMemo(()=>T(),[]);return o(b,{children:[a(y,{currentRoute:m.map.path}),a(w,{children:a(g,{component:"div",p:1,children:a(k,{expandables:[{id:"load",summary:l("mapEdit.openExternalMap"),details:a(B,{}),initiallyOpened:!1},{id:"examples",summary:l("mapEdit.openExampleMap"),details:a(p,{spacing:1,children:s.map(t=>a(u,{onClick:()=>r(t.url),children:t.name},t.url))}),initiallyOpened:!1},{id:"empty",summary:l("mapEdit.openEmptyMap"),details:o(p,{spacing:1,children:[d.map(t=>a(u,{onClick:()=>r(t.url),children:t.name},t.url)),a(h,{variant:"body2",color:"text.secondary",children:l("mapEdit.sizeCanBeAdjustedBrackets")})]}),initiallyOpened:!1}]})})}),a(P,{})]})};export{G as default};

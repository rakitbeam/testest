import{D as X,t as Q,c as Y,s as P}from"./sorting.c6946657.js";import{r as b,q as h,v as w,w as x,_ as p,I as $,y as R,A as S,j as i,C as m,D as T,aU as Z,H as I,aV as ee,E as oe,x as te,a as G,a4 as ae,T as A,F as U}from"./index.f0bc6bc0.js";const re=b.exports.createContext();var K=re;function ne(e){return h("MuiTable",e)}w("MuiTable",["root","stickyHeader"]);const se=["className","component","padding","size","stickyHeader"],le=e=>{const{classes:o,stickyHeader:t}=e;return S({root:["root",t&&"stickyHeader"]},ne,o)},ie=x("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>p({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":p({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},o.stickyHeader&&{borderCollapse:"separate"})),F="table",ce=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTable"}),{className:n,component:r=F,padding:s="normal",size:l="medium",stickyHeader:c=!1}=a,d=R(a,se),u=p({},a,{component:r,padding:s,size:l,stickyHeader:c}),v=le(u),y=b.exports.useMemo(()=>({padding:s,size:l,stickyHeader:c}),[s,l,c]);return i(K.Provider,{value:y,children:i(ie,p({as:r,role:r===F?null:"table",ref:t,className:m(v.root,n),ownerState:u},d))})});var de=ce;const pe=b.exports.createContext();var _=pe;function ue(e){return h("MuiTableBody",e)}w("MuiTableBody",["root"]);const be=["className","component"],ge=e=>{const{classes:o}=e;return S({root:["root"]},ue,o)},ve=x("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-row-group"}),ye={variant:"body"},D="tbody",fe=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableBody"}),{className:n,component:r=D}=a,s=R(a,be),l=p({},a,{component:r}),c=ge(l);return i(_.Provider,{value:ye,children:i(ve,p({className:m(c.root,n),as:r,ref:t,role:r===D?null:"rowgroup",ownerState:l},s))})});var Te=fe;function me(e){return h("MuiTableCell",e)}const xe=w("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var Ce=xe;const he=["align","className","component","padding","scope","size","sortDirection","variant"],we=e=>{const{classes:o,variant:t,align:a,padding:n,size:r,stickyHeader:s}=e,l={root:["root",t,s&&"stickyHeader",a!=="inherit"&&`align${T(a)}`,n!=="normal"&&`padding${T(n)}`,`size${T(r)}`]};return S(l,me,o)},$e=x("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.variant],o[`size${T(t.size)}`],t.padding!=="normal"&&o[`padding${T(t.padding)}`],t.align!=="inherit"&&o[`align${T(t.align)}`],t.stickyHeader&&o.stickyHeader]}})(({theme:e,ownerState:o})=>p({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Z(I(e.palette.divider,1),.88):ee(I(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},o.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},o.variant==="body"&&{color:(e.vars||e).palette.text.primary},o.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},o.size==="small"&&{padding:"6px 16px",[`&.${Ce.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},o.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},o.padding==="none"&&{padding:0},o.align==="left"&&{textAlign:"left"},o.align==="center"&&{textAlign:"center"},o.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},o.align==="justify"&&{textAlign:"justify"},o.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Re=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableCell"}),{align:n="inherit",className:r,component:s,padding:l,scope:c,size:d,sortDirection:u,variant:v}=a,y=R(a,he),g=b.exports.useContext(K),f=b.exports.useContext(_),z=f&&f.variant==="head";let C;s?C=s:C=z?"th":"td";let M=c;!M&&z&&(M="col");const k=v||f&&f.variant,N=p({},a,{align:n,component:C,padding:l||(g&&g.padding?g.padding:"normal"),size:d||(g&&g.size?g.size:"medium"),sortDirection:u,stickyHeader:k==="head"&&g&&g.stickyHeader,variant:k}),L=we(N);let H=null;return u&&(H=u==="asc"?"ascending":"descending"),i($e,p({as:C,ref:t,className:m(L.root,r),"aria-sort":H,scope:M,ownerState:N},y))});var O=Re;function Se(e){return h("MuiTableContainer",e)}w("MuiTableContainer",["root"]);const Me=["className","component"],He=e=>{const{classes:o}=e;return S({root:["root"]},Se,o)},ke=x("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,o)=>o.root})({width:"100%",overflowX:"auto"}),Ne=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableContainer"}),{className:n,component:r="div"}=a,s=R(a,Me),l=p({},a,{component:r}),c=He(l);return i(ke,p({ref:t,as:r,className:m(c.root,n),ownerState:l},s))});var ze=Ne;function Le(e){return h("MuiTableHead",e)}w("MuiTableHead",["root"]);const Ue=["className","component"],Ie=e=>{const{classes:o}=e;return S({root:["root"]},Le,o)},_e=x("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,o)=>o.root})({display:"table-header-group"}),Ae={variant:"head"},j="thead",Be=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableHead"}),{className:n,component:r=j}=a,s=R(a,Ue),l=p({},a,{component:r}),c=Ie(l);return i(_.Provider,{value:Ae,children:i(_e,p({as:r,className:m(c.root,n),ref:t,role:r===j?null:"rowgroup",ownerState:l},s))})});var Pe=Be;function Fe(e){return h("MuiTableRow",e)}const De=w("MuiTableRow",["root","selected","hover","head","footer"]);var E=De;const Oe=["className","component","hover","selected"],je=e=>{const{classes:o,selected:t,hover:a,head:n,footer:r}=e;return S({root:["root",t&&"selected",a&&"hover",n&&"head",r&&"footer"]},Fe,o)},Ee=x("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.head&&o.head,t.footer&&o.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${E.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${E.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:I(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:I(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),W="tr",We=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableRow"}),{className:n,component:r=W,hover:s=!1,selected:l=!1}=a,c=R(a,Oe),d=b.exports.useContext(_),u=p({},a,{component:r,hover:s,selected:l,head:d&&d.variant==="head",footer:d&&d.variant==="footer"}),v=je(u);return i(Ee,p({as:r,ref:t,className:m(v.root,n),role:r===W?null:"row",ownerState:u},c))});var V=We,Ve=oe(i("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function qe(e){return h("MuiTableSortLabel",e)}const Je=w("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);var B=Je;const Xe=["active","children","className","direction","hideSortIcon","IconComponent"],Ge=e=>{const{classes:o,direction:t,active:a}=e,n={root:["root",a&&"active"],icon:["icon",`iconDirection${T(t)}`]};return S(n,qe,o)},Ke=x(te,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.active&&o.active]}})(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${B.icon}`]:{opacity:.5}},[`&.${B.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${B.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}})),Qe=x("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.icon,o[`iconDirection${T(t.direction)}`]]}})(({theme:e,ownerState:o})=>p({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},o.direction==="desc"&&{transform:"rotate(0deg)"},o.direction==="asc"&&{transform:"rotate(180deg)"})),Ye=b.exports.forwardRef(function(o,t){const a=$({props:o,name:"MuiTableSortLabel"}),{active:n=!1,children:r,className:s,direction:l="asc",hideSortIcon:c=!1,IconComponent:d=Ve}=a,u=R(a,Xe),v=p({},a,{active:n,direction:l,hideSortIcon:c,IconComponent:d}),y=Ge(v);return G(Ke,p({className:m(y.root,s),component:"span",disableRipple:!0,ownerState:v,ref:t},u,{children:[r,c&&!n?null:i(Qe,{as:d,className:m(y.icon),ownerState:v})]}))});var Ze=Ye;const to=e=>{const{table:o,size:t="medium"}=e;return i(ze,{component:ae,children:G(de,{size:t,children:[i(Pe,{children:i(V,{children:o.header.map(a=>{var n,r;return i(O,{sortDirection:(n=a.sortDirection)!=null?n:!1,children:a.toggleSort?i(Ze,{active:!!a.sortDirection,direction:(r=a.sortDirection)!=null?r:X,onClick:a.toggleSort,children:typeof a.content=="string"?i(A,{variant:"body2",children:a.content}):i(U,{children:a.content})}):i(U,{children:typeof a.content=="string"?i(A,{variant:"body2",children:a.content}):i(U,{children:a.content})})},a.id)})})}),i(Te,{children:o.rows.map(a=>i(V,{children:a.cells.map(n=>i(O,{component:"th",scope:"row",children:typeof n.content=="string"?i(A,{variant:"body2",children:n.content}):i(U,{children:n.content})},n.id))},a.id))})]})})};function q(e,o,t,a){if(!e.sortFn)return{id:`header_${e.id}`,content:e.renderHeader(null,null),sortDirection:null,toggleSort:null};const n=()=>{a(e.id,e.id===o?Q(t):X)},r=e.id===o?t:null;return{id:`header_${e.id}`,content:e.renderHeader(r,n),sortDirection:r,toggleSort:n}}function J(e,o){return e.data.map(t=>({id:e.rowIdFn(t),cells:o.map(a=>({id:`${e.rowIdFn(t)}_${a.id}`,content:a.renderCell(t)}))}))}const ao=()=>{const[e,o]=b.exports.useState({header:[],rows:[],sortBy:null,sortDirection:null}),t=b.exports.useRef(null),a=b.exports.useCallback(r=>{var c,d;const s=((c=t.current)==null?void 0:c.columns)!==r.columns,l=((d=t.current)==null?void 0:d.data)!==r.data;!s&&!l||(t.current={...t.current,...r},o(u=>{var C,M,k,N,L;const{initialSortBy:v,initialSortDirection:y}=Y(r.columns),g=(M=(C=u.sortBy)!=null?C:v)!=null?M:null,f=(k=u.sortDirection)!=null?k:y,z=(L=(N=r.columns.find(H=>H.id===g))==null?void 0:N.sortFn)!=null?L:null;return{...u,header:s?r.columns.map(H=>q(H,g,f,n)):u.header,rows:s||l?J(P(r,z,f),r.columns):u.rows,sortBy:g,sortDirection:f}}))},[]),n=b.exports.useCallback((r,s)=>{var l;if(t.current){const c=(l=t.current.columns.find(d=>d.id===r))==null?void 0:l.sortFn;o({...e,header:t.current.columns.map(d=>q(d,r,s,n)),rows:J(P(t.current,c,s),t.current.columns),sortBy:r,sortDirection:s})}},[e,t]);return{table:e,setTableData:a,setSorting:n}};export{to as T,ao as u};

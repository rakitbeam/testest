var k=Object.defineProperty,L=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var w=(a,u,t)=>u in a?k(a,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[u]=t,b=(a,u)=>{for(var t in u||(u={}))O.call(u,t)&&w(a,t,u[t]);if(j)for(var t of j(u))I.call(u,t)&&w(a,t,u[t]);return a},x=(a,u)=>L(a,N(u));import{j as e,b as l,F as m,h as y,r as p,c as g,T as r,S as v,s as U,i as V,t as W}from"./vendor.612e55a5.js";import{d as q}from"./Settings.1acf125d.js";import{d as _,a as z}from"./ContentCopy.968408c1.js";import{S as G,c as H,a as K,e as J,b as P,d as Q,f as X}from"./ShipTypeFilterButton.2fe93c85.js";import{A as Y}from"./ActionBar.a2802d77.js";import{C as Z,S as uu,c as eu}from"./ShipDataTable.71c46212.js";import{E as tu}from"./ExpandStack.42dab450.js";import{u as F,g as $,a as au,t as T,S as C,b as M,c as D,s as R,d as su,e as nu}from"./index.cbe897e3.js";import{n as iu}from"./sorting.c6946657.js";import{R as ou}from"./ResponsiveDialog.418e97d8.js";import{N as ru,C as cu}from"./NavigationBar.e91af742.js";import"./domUtils.e9df6b0f.js";import"./useTable.a69db608.js";import"./ExpandMore.57c07b9b.js";const lu=a=>{const{shipFilter:u,columnConfig:t,onEdit:i,onFilter:n,onShare:d,onColumnConfigChange:c}=a;return e(Y,{left:o=>l(m,{children:[e(Z,{columnConfig:t,onChange:c,disableResearchAgreementOptions:!0,buttonProps:o},"columnConfig"),e(G,{filter:u,onChange:n,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:o},"filter"),e(y,x(b({variant:"outlined",startIcon:e(q,{}),onClick:i},o),{children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A"}),"edit")]}),right:o=>e(m,{children:e(y,x(b({variant:"outlined",startIcon:e(_,{}),onClick:d},o),{children:"\u5171\u6709"}),"share")})})},du=a=>{const{ship:u}=a,{userSettings:t}=F(),i=p.exports.useMemo(()=>$(u,t),[u,t]);return i.length===0?null:e(g,{mt:.5,children:i.map(n=>l(r,{variant:"body2",color:"text.secondary",children:[e(r,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517 "}),`${n.category}${n.categoryNumber} ${n.name}`]},n.id))})},pu=a=>{const{ship:u}=a,{userSettings:t}=F(),i=p.exports.useMemo(()=>au(u,t),[u,t]);return i.length===0?null:e(g,{mt:.5,children:i.map(n=>l(r,{variant:"body2",color:"text.secondary",children:[e(r,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517 "}),`${n.category}${n.categoryNumber} ${n.name}`]},n.id))})},S=p.exports.memo(uu),hu=a=>{const{shipListState:u,columnConfig:t}=a;return l(v,{spacing:1,children:[e(tu,{expandables:[{id:"possessed-ships",initiallyOpened:!0,summary:e(r,{variant:"body1",children:"\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3"}),details:e(S,{shipDefinitions:u.possessed,columnConfig:t,decorateName:(i,n)=>l(m,{children:[i,e(du,{ship:n})]})})},{id:"wished-ships",initiallyOpened:!1,summary:e(r,{variant:"body1",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3"}),details:e(S,{shipDefinitions:u.wished,columnConfig:t,decorateName:(i,n)=>l(m,{children:[i,e(pu,{ship:n})]})})},{id:"unwished-by-user-ships",initiallyOpened:!1,summary:e(r,{variant:"body1",children:"\u6B32\u3057\u304F\u306A\u3044\u8A2D\u8A08\u56F3"}),details:e(S,{shipDefinitions:u.unwishedByUser,columnConfig:t})},{id:"unwished-by-data-ships",initiallyOpened:!1,summary:e(r,{variant:"body1",children:"\u88AB\u3063\u3066\u6B32\u3057\u304F\u306A\u3044\u8266\u8239"}),details:l(m,{children:[e(S,{shipDefinitions:u.unwishedByData,columnConfig:t}),e(g,{pt:1,children:e(r,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u88AB\u308A\u3067\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u304B\u300C\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044\u300D\u30B5\u30D6\u30E2\u30C7\u30EB\u306B\u306A\u308B\u8266\u8239\u304C\u81EA\u52D5\u7684\u306B\u8868\u793A\u3055\u308C\u307E\u3059"})})]})}]}),e(r,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})]})};function Bu(a,u){const t=[],i=[],n=[],d=[],c=[];a.forEach(s=>{switch(s.row){case C.FRONT:{t.push(s);break}case C.MIDDLE:{i.push(s);break}case C.BACK:{n.push(s);break}default:switch(s.type){case D.CORVETTE:{d.push(s);break}case D.FIGHTER:{c.push(s);break}}}});const o=iu([(s,h)=>R(s.type,s.subType)-R(h.type,h.subType),(s,h)=>s.name.localeCompare(h.name,"ja-JP")]);return["\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",[`\u3010${T(C.FRONT)}\u3011`,...t.sort(o).map(s=>f(s,u))].join(`
`),[`\u3010${T(C.MIDDLE)}\u3011`,...i.sort(o).map(s=>f(s,u))].join(`
`),[`\u3010${T(C.BACK)}\u3011`,...n.sort(o).map(s=>f(s,u))].join(`
`),[`\u3010${M(D.CORVETTE)}\u3011`,...d.sort(o).map(s=>f(s,u))].join(`
`),[`\u3010${M(D.FIGHTER)}\u3011`,...c.sort(o).map(s=>f(s,u))].join(`
`)].join(`

`)}function f(a,u){const t=$(a,u);return t.length===0?`\u3000${a.name}`:[`\u3000${a.name}`,t.map(i=>`\u3000\u2517 ${i.category}${i.categoryNumber} ${i.name}`).join(`
`)].join(`
`)}const mu=a=>{const{ships:u,onClose:t}=a,[i,n]=p.exports.useState(!1),{userSettings:d}=F(),[c,o]=p.exports.useState(()=>Bu(u.possessed,d)),s=()=>{c&&su(c).then(()=>{n(!0)})},h=E=>{o(E.target.value)},A=()=>{t(),n(!1)};return e(ou,{title:"\u5171\u6709",content:l(v,{spacing:1,children:[e(U,{variant:"filled",id:"outlined-multiline-static",multiline:!0,onChange:h,rows:10,defaultValue:c,fullWidth:!0}),!!navigator.clipboard&&e(y,{variant:"outlined",startIcon:i?e(V,{}):e(z,{}),onClick:s,fullWidth:!0,children:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"})]}),actions:e(y,{variant:"outlined",onClick:A,children:"\u9589\u3058\u308B"}),onClose:A})},$u=()=>{const a=W(),{userSettings:u}=F(),[t,i]=p.exports.useState(H),[n,d]=p.exports.useState(null),[c,o]=p.exports.useState(()=>eu({name:!0,row:!0,type:!0,cost:!1,operationLimit:!1})),s=p.exports.useMemo(()=>{const B=K(nu,t);return{possessed:J(B,u.ships),wished:P(B,u),unwishedByUser:Q(B,u.ships),unwishedByData:X(B,u)}},[u,t]),h=()=>{a("/myList/edit")},A=()=>{d(s)},E=()=>{d(null)};return l(m,{children:[e(ru,{currentRoute:"/myList"}),e(lu,{shipFilter:t,columnConfig:c,onEdit:h,onFilter:i,onShare:A,onColumnConfigChange:o}),e(cu,{disabled:Object.values(c).filter(B=>typeof B=="boolean"&&B).length>3,children:l(g,{p:1,children:[l(v,{pt:1,pb:2,spacing:2,children:[e(r,{variant:"body2",children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u306F\u8266\u8239\u3084\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0\u306E\u6240\u6709\u72B6\u614B\u3084\u300C\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u300D\u7B49\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u51FA\u6765\u307E\u3059\u3002"}),e(r,{variant:"body2",children:"\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u500B\u4EBA\u306B\u5408\u308F\u305B\u305F\u7D30\u304B\u3044\u78BA\u7387\u306E\u8A08\u7B97\u304C\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\uFF08\u30B5\u30D6\u30E2\u30C7\u30EB\u306E\u78BA\u7387\u3084\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u306E\u78BA\u7387\u304C\u5909\u52D5\u3057\u307E\u3059\uFF09\u3002"}),e(r,{variant:"body2",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u305D\u308C\u3089\u306E\u5408\u8A08\u78BA\u7387\u304C\u30D1\u30A4\u30C1\u30E3\u30FC\u30C8\u3067\u8868\u793A\u3055\u308C\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002"})]}),e(hu,{shipListState:s,columnConfig:c})]})}),n&&e(mu,{ships:n,onClose:E})]})};export{$u as MyListPage,$u as default};

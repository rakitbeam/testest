import{E as L,G as k,H as P,r as c,a as T,F as f,j as n,B as D,Z as R,b as w,$ as b,T as C,ah as E,e as K,s as x,t as V,ai as v,aj as I,ak as B,U as J,al as M,V as O,am as A,X as z,an as u,Y as _,ao as y,ap as G}from"./index.65d054c9.js";import{B as $,C as q,g as N,L as W}from"./domUtils.3ed3a1b1.js";import{P as Y,G as U,M as X,a as Z}from"./MenuItem.6b038ffc.js";import{C as Q}from"./ShipTypeFilterButton.d487e56a.js";import{L as ee}from"./PageContent.7867d997.js";import{u as re,T as ae}from"./useTable.b357d343.js";var g={},te=k.exports;Object.defineProperty(g,"__esModule",{value:!0});var j=g.default=void 0,ne=te(L),se=P,ue=(0,ne.default)((0,se.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");j=g.default=ue;function ve(e={}){return{name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1,...e}}function ce(e){const{disableResearchAgreementOptions:r}=e;return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},...r!==!0?[{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"}]:[],{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const Be=e=>{const{onChange:r,buttonProps:a,disableResearchAgreementOptions:t}=e,[s,l]=c.exports.useState(e.columnConfig),[h,o]=c.exports.useState(!1),[S]=c.exports.useState(()=>ce({disableResearchAgreementOptions:t})),m=c.exports.useRef(null),H=i=>{l(d=>({...d,[i]:!d[i]}))};return c.exports.useEffect(()=>{const i=setTimeout(()=>{r(s)},0);return()=>clearTimeout(i)},[s,r]),T(f,{children:[n($,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:m,children:n(D,{startIcon:n(j,{}),onClick:()=>o(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),n(Y,{open:h,anchorEl:m.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:i,placement:d})=>{var F;return n(U,{...i,style:{transformOrigin:d==="bottom"?"center top":"center bottom"},children:n("div",{children:n(q,{onClickAway:()=>o(!1),children:T(R,{children:[n(w,{sx:{overflowY:"auto",maxHeight:`${((F=N(m.current))!=null?F:0)-50}px`},children:n(X,{id:"split-button-menu",children:S.map(p=>T(Z,{selected:s[p.columnKey],onClick:()=>H(p.columnKey),children:[n(W,{children:n(Q,{edge:"start",checked:s[p.columnKey],tabIndex:-1,disableRipple:!0})}),n(ee,{children:p.name})]},p.columnKey))})}),n(b,{}),n(w,{p:1,display:"flex",justifyContent:"end",children:n(D,{variant:"outlined",onClick:()=>o(!1),children:"\u9589\u3058\u308B"})})]})})})})}})]})},oe=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>{var t;return((t=e.decorateName)!=null?t:(s,l)=>s)(n(C,{variant:"body2",children:n(E,{onClick:()=>{e.onClick(r.id)},children:r.name})}),r)},sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),ie={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>K(e.type,e.subType),sortFn:[(e,r)=>x(e.type,e.subType)-x(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},le={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>V(e.row),sortFn:[(e,r)=>v(e.row)-v(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},me={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},pe={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},he={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>I(e.source),sortFn:[(e,r)=>B(e.source)-B(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},de={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>J(e.manufacturer),sortFn:[(e,r)=>M(e.manufacturer)-M(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ye={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?O(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?A(e.researchManufacturer):0)-(r.researchManufacturer?A(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Te={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return n(f,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>n(C,{variant:"body2",children:z(a)},a))})},sortFn:[(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[0]?u(e.researchStrategyTypes[0]):0)-((t=r.researchStrategyTypes)!=null&&t[0]?u(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[1]?u(e.researchStrategyTypes[1]):0)-((t=r.researchStrategyTypes)!=null&&t[1]?u(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[2]?u(e.researchStrategyTypes[2]):0)-((t=r.researchStrategyTypes)!=null&&t[2]?u(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[3]?u(e.researchStrategyTypes[3]):0)-((t=r.researchStrategyTypes)!=null&&t[3]?u(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},fe={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return n(f,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>n(C,{variant:"body2",children:_(a)},a))})},sortFn:[(e,r)=>{var a,t;return((a=e.researchTacticTypes)!=null&&a[0]?y(e.researchTacticTypes[0]):0)-((t=r.researchTacticTypes)!=null&&t[0]?y(r.researchTacticTypes[0]):0)},(e,r)=>{var a,t;return((a=e.researchTacticTypes)!=null&&a[1]?y(e.researchTacticTypes[1]):0)-((t=r.researchTacticTypes)!=null&&t[1]?y(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ce={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Me=e=>{const{shipDefinitions:r,columnConfig:a,decorateName:t}=e,{table:s,setTableData:l}=re(),{openShipDetailDialog:h}=G(),o=c.exports.useMemo(()=>[oe({onClick:h,decorateName:t}),...a.type?[ie]:[],...a.row?[le]:[],...a.cost?[me]:[],...a.operationLimit?[pe]:[],...a.source?[he]:[],...a.manufacturer?[de]:[],...a.researchManufacturer?[ye]:[],...a.researchStrategyType?[Te]:[],...a.researchTacticType?[fe]:[],...a.weight?[Ce]:[]],[a,t,h]);return c.exports.useEffect(()=>{l({columns:o,data:r,rowIdFn:m=>m.id})},[l,o,r]),n(ae,{table:s,size:"small"})};export{Be as C,Me as S,ve as c};

import{k as e,j as u,F as P,B as L,t,r as n,w as C,T as S,U as v,P as I,Q as k,R,W as b,b8 as W,d as B,aK as $,q as D,f as q,b9 as w,u as A,ba as U,bb as z,a3 as g,aa as Y,g as j,ab as H,aM as G,aN as K,aP as V,m as J,z as Q}from"./index.9ed97100.js";import{d as X,C as Z}from"./ConfirmationDialog.597190eb.js";import{d as ee,a as ie}from"./DeleteForever.3262385e.js";import{S as se,a as te,s as ne,c as ae}from"./ShipTypeFilterButton.ca451615.js";import{A as oe}from"./ActionBar.518d7721.js";import{d as re}from"./Settings.73b0a5f5.js";import{T as N,a as x}from"./ToggleButtonGroup.bb180267.js";import{N as le,P as ce}from"./PageContent.6ae9ec91.js";import{P as de}from"./PageFooter.0365cf31.js";import"./ResponsiveDialog.1e0a1fb1.js";import"./DialogContentText.95a0a42d.js";import"./domUtils.3858ab90.js";import"./useFormControl.0aaef660.js";const pe=o=>{const{shipFilter:i,onCancel:s,onSave:a,onReset:l,onFilter:d}=o;return e(oe,{left:r=>e(se,{filter:i,onChange:d,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:r},"filter"),right:r=>u(P,{children:[e(L,{variant:"outlined",startIcon:e(ee,{}),onClick:l,...r,children:t("button.initialize")},"reset"),e(L,{variant:"outlined",startIcon:e(ie,{}),onClick:s,...r,children:t("button.cancel")},"cancel"),e(L,{variant:"contained",startIcon:e(X,{}),onClick:a,...r,children:t("button.save")},"save")]})})},F=o=>{const{label:i,options:s,possession:a,onChange:l}=o,[d,r]=n.exports.useState(a),[h,p]=n.exports.useTransition(),c=(m,y)=>{r(y===null?v.UNDEFINED:Number(y))};return n.exports.useEffect(()=>{p(()=>{l(d)})},[d,l]),u(C,{spacing:1,direction:"row",alignItems:"center",children:[e(S,{variant:"body2",children:i}),u(N,{size:"small",color:"primary",value:`${d}`,exclusive:!0,onChange:c,children:[e(x,{value:`${v.POSSESSED}`,children:s[0]}),e(x,{value:`${v.NOT_POSSESSED}`,children:s[1]})]})]})};var O={},ue=k.exports;Object.defineProperty(O,"__esModule",{value:!0});var M=O.default=void 0,he=ue(I),ge=R,me=(0,he.default)((0,ge.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");M=O.default=me;const _=o=>{const{wish:i,onChange:s}=o,[a,l]=n.exports.useState(i),[d,r]=n.exports.useTransition(),h=(p,c)=>{l(c===null||c==="clear"?b.UNDEFINED:Number(c))};return n.exports.useEffect(()=>{r(()=>{s(a)})},[a,s]),u(C,{spacing:1,direction:"row",alignItems:"center",children:[e(S,{variant:"body2",children:t("myList.wantOption")}),u(N,{size:"small",color:"primary",value:`${a}`,exclusive:!0,onChange:h,children:[e(x,{value:`${b.WANTED}`,children:t("myList.wantOptionYes")}),e(x,{value:`${b.NOT_WANTED}`,children:t("myList.wantOptionNo")}),a!==b.UNDEFINED&&e(x,{value:"clear",children:e(M,{})})]})]})},Se=o=>{const{ship:i,module:s,userSettings:a,setModulePossession:l,setModuleWish:d}=o,r=n.exports.useCallback(m=>{l(s.id,i.id,m)},[s,i,l]),h=n.exports.useCallback(m=>{d(s.id,i.id,m)},[s,i,d]),p=n.exports.useMemo(()=>W(s.id,i.id,a),[s,i,a]),c=B()===$.JAPANESE;return e(D,{pl:2,children:u(C,{spacing:3,children:[u("div",{children:[e(S,{variant:"h6",children:`${s.category}${s.categoryNumber} ${q(i.id,s)}`}),c&&s.description&&e(S,{variant:"caption",color:"text.secondary",children:s.description})]}),e(F,{label:t("myList.additionalModuleAcquiredOption"),options:[t("myList.blueprintAcquiredOptionYes"),t("myList.blueprintAcquiredOptionNo")],possession:p,onChange:r}),p===v.NOT_POSSESSED&&e(_,{wish:w(s.id,i.id,a),onChange:h})]})},s.id)},fe=o=>{const{ship:i,...s}=o,{userSettings:a,setShipPossession:l,setShipWish:d,setModulePossession:r,setModuleWish:h}=A(),p=n.exports.useMemo(()=>U(i.id,a),[i,a]),c=n.exports.useMemo(()=>z(i.id,a),[i,a]),m=n.exports.useMemo(()=>c!==b.UNDEFINED?!0:i.source===g.TECH_FILE&&p===v.NOT_POSSESSED,[i,p,c]),y=n.exports.useCallback(f=>{l(i.id,f)},[l,i]),T=n.exports.useCallback(f=>{d(i.id,f)},[d,i]);return e(Y,{elevation:2,...s,children:e(D,{p:1,children:u(C,{spacing:3,children:[e(S,{variant:"h6",children:j(i)}),e(F,{label:Ce(i),options:ye(i),possession:p,onChange:y}),m&&e(_,{wish:c,onChange:T}),(i.source===g.TECH_FILE||i.source===g.STARTER_SHIP)&&p===v.POSSESSED&&i.modules&&i.modules.filter(f=>!f.defaultModule).map(f=>u(n.exports.Fragment,{children:[e(H,{}),e(Se,{ship:i,module:f,userSettings:a,setModulePossession:r,setModuleWish:h})]},f.id))]})})})};function Ce(o){switch(o.source){case g.CITY_TRADE:return t("myList.shipBoughtOption");case g.DOCK_EFFECT:return t("myList.dockingEffectBlueprintAcquiredOption");case g.SALVAGE:return t("myList.salvageAcquiredOption");default:return t("myList.blueprintAcquiredOption")}}function ye(o){switch(o.source){case g.CITY_TRADE:return[t("myList.shipBoughtOptionYes"),t("myList.shipBoughtOptionNo")];default:return[t("myList.blueprintAcquiredOptionYes"),t("myList.blueprintAcquiredOptionNo")]}}const E=o=>{const{id:i,title:s,shipDefinitions:a,initiallyOpened:l,preRenderDetails:d=!1}=o,[r,h]=n.exports.useState(l),p=n.exports.useCallback((c,m)=>{h(m)},[]);return u(G,{expanded:r,onChange:p,children:[e(K,{id:i,expandIcon:e(re,{}),children:e(S,{variant:"body1",children:s})}),e(V,{children:(r||d)&&e(C,{spacing:3,children:a.map(c=>e(fe,{ship:c},c.id))})})]})},ve=o=>{const{shipFilter:i}=o,s=n.exports.useMemo(()=>{const a=te(J,i);return ne(a)},[i]);return u(C,{spacing:1,children:[e("div",{children:e(E,{id:"tech-file-ships",title:t("shipSource.techFile"),initiallyOpened:!1,preRenderDetails:!0,shipDefinitions:s[g.TECH_FILE]})}),e("div",{children:e(E,{id:"city-trade-ships",title:t("shipSource.cityTrade"),initiallyOpened:!1,shipDefinitions:s[g.CITY_TRADE]})}),e("div",{children:e(E,{id:"dock-effect-ships",title:t("shipSource.dockEffect"),initiallyOpened:!1,shipDefinitions:s[g.DOCK_EFFECT]})}),e("div",{children:e(E,{id:"salvage-ships",title:t("shipSource.salvage"),initiallyOpened:!1,shipDefinitions:s[g.SALVAGE]})}),e("div",{children:e(E,{id:"starter-ships",title:t("shipSource.starterShip"),initiallyOpened:!1,shipDefinitions:s[g.STARTER_SHIP]})})]})},Ie=()=>{const o=Q(),{saveUserSettings:i,restoreUserSettings:s,resetUserSettings:a}=A(),[l,d]=n.exports.useState(ae),[r,h]=n.exports.useState(!1);n.exports.useEffect(()=>()=>{s()},[s]);const p=n.exports.useCallback(()=>{s(),o("/myList")},[s,o]),c=n.exports.useCallback(()=>{i(),o("/myList")},[i,o]),m=n.exports.useCallback(()=>{h(!1)},[]),y=n.exports.useCallback(()=>{h(!0)},[]),T=n.exports.useCallback(()=>{h(!1),a()},[a]);return u(P,{children:[e(le,{currentRoute:"/myList"}),e(pe,{shipFilter:l,onCancel:p,onReset:y,onSave:c,onFilter:d}),e(ce,{children:u(D,{p:1,children:[u(C,{pt:1,pb:2,spacing:2,children:[e(S,{variant:"body2",children:t("myListConfig.pageDescription1")}),e(S,{variant:"body2",children:t("myListConfig.pageDescription2")}),e(S,{variant:"body2",children:t("myListConfig.pageDescription3")})]}),e(ve,{shipFilter:l})]})}),r&&e(Z,{title:t("button.initialize"),question:t("myList.confirmInitialize"),cancelText:t("button.cancel"),confirmText:t("button.initialize"),onCancel:m,onConfirm:T}),e(de,{})]})};export{Ie as MyListEditPage,Ie as default};

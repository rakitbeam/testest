import{j as e,a as l,F as P,B as L,t,S as y,T as S,P as g,J as R,K as M,L as B,W as E,u as x,aT as $,aU as W,r as m,Y as h,a2 as k,b,k as q,aV as w,c as U,aW as Y,aB as z,aC as j,aE as H,p as K,o as G}from"./index.4c1627a9.js";import{d as J,a as V,b as Q,C as X}from"./ConfirmationDialog.b86dc361.js";import{S as Z,a as ee,s as ie,c as te}from"./ShipTypeFilterButton.9e175de6.js";import{A as se}from"./ActionBar.4145f370.js";import{d as ne}from"./Settings.688fc412.js";import{T as I,a as v}from"./ToggleButtonGroup.2fb0008d.js";import{N as ae,P as re}from"./PageContent.458fcd43.js";import{P as oe}from"./PageFooter.a2adf88e.js";import"./ResponsiveDialog.0f44d934.js";import"./domUtils.e3328ef3.js";import"./useFormControl.f57ee12d.js";const ce=n=>{const{shipFilter:i,onCancel:s,onSave:a,onReset:d,onFilter:c}=n;return e(se,{left:o=>e(Z,{filter:i,onChange:c,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:o},"filter"),right:o=>l(P,{children:[e(L,{variant:"outlined",startIcon:e(J,{}),onClick:d,...o,children:t("button.initialize")},"reset"),e(L,{variant:"outlined",startIcon:e(V,{}),onClick:s,...o,children:t("button.cancel")},"cancel"),e(L,{variant:"contained",startIcon:e(Q,{}),onClick:a,...o,children:t("button.save")},"save")]})})},_=n=>{const{label:i,options:s,possession:a,onChange:d}=n,c=(o,p)=>{d(p===null?g.UNDEFINED:Number(p))};return l(y,{spacing:1,direction:"row",alignItems:"center",children:[e(S,{variant:"body2",children:i}),l(I,{size:"small",color:"primary",value:`${a}`,exclusive:!0,onChange:c,children:[e(v,{value:`${g.POSSESSED}`,children:s[0]}),e(v,{value:`${g.NOT_POSSESSED}`,children:s[1]})]})]})};var N={},le=M.exports;Object.defineProperty(N,"__esModule",{value:!0});var A=N.default=void 0,de=le(R),pe=B,he=(0,de.default)((0,pe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");A=N.default=he;const F=n=>{const{wish:i,onChange:s}=n,a=(d,c)=>{s(c===null||c==="clear"?E.UNDEFINED:Number(c))};return l(y,{spacing:1,direction:"row",alignItems:"center",children:[e(S,{variant:"body2",children:t("myList.wantOption")}),l(I,{size:"small",color:"primary",value:`${i}`,exclusive:!0,onChange:a,children:[e(v,{value:`${E.WANTED}`,children:t("myList.wantOptionYes")}),e(v,{value:`${E.NOT_WANTED}`,children:t("myList.wantOptionNo")}),i!==E.UNDEFINED&&e(v,{value:"clear",children:e(A,{})})]})]})},ue=n=>{const{ship:i,...s}=n,{userSettings:a,setShipPossession:d,setShipWish:c,setModulePossession:o,setModuleWish:p}=x(),f=$(i.id,a),u=W(i.id,a),C=m.exports.useMemo(()=>u!==E.UNDEFINED?!0:i.source===h.TECH_FILE&&f===g.NOT_POSSESSED,[i,f,u]);return e(k,{elevation:2,...s,children:e(b,{p:1,children:l(y,{spacing:3,children:[e(S,{variant:"h6",children:q(i)}),e(_,{label:Se(i),options:fe(i),possession:f,onChange:r=>d(i.id,r)}),C&&e(F,{wish:u,onChange:r=>c(i.id,r)}),(i.source===h.TECH_FILE||i.source===h.STARTER_SHIP)&&f===g.POSSESSED&&i.modules&&i.modules.filter(r=>!r.defaultModule).map(r=>{const T=w(r.id,i.id,a);return l(b,{pl:2,children:[e(S,{variant:"h6",children:`${r.category}${r.categoryNumber} ${U(i.id,r)}`}),e(_,{label:t("myList.additionalModuleAcquiredOption"),options:[t("myList.blueprintAcquiredOptionYes"),t("myList.blueprintAcquiredOptionNo")],possession:T,onChange:O=>o(r.id,i.id,O)}),T===g.NOT_POSSESSED&&e(F,{wish:Y(r.id,i.id,a),onChange:O=>p(r.id,i.id,O)})]},r.id)})]})})})};function Se(n){switch(n.source){case h.CITY_TRADE:return t("myList.shipBoughtOption");case h.DOCK_EFFECT:return t("myList.dockingEffectBlueprintAcquiredOption");default:return t("myList.blueprintAcquiredOption")}}function fe(n){switch(n.source){case h.CITY_TRADE:return[t("myList.shipBoughtOptionYes"),t("myList.shipBoughtOptionNo")];default:return[t("myList.blueprintAcquiredOptionYes"),t("myList.blueprintAcquiredOptionNo")]}}const D=n=>{const{id:i,title:s,shipDefinitions:a,initiallyOpened:d,preRenderDetails:c=!1}=n,[o,p]=m.exports.useState(d);return l(z,{expanded:o,onChange:(u,C)=>{p(C)},children:[e(j,{id:i,expandIcon:e(ne,{}),children:e(S,{variant:"body1",children:s})}),e(H,{children:(o||c)&&e(y,{spacing:3,children:a.map(u=>e(ue,{ship:u},u.id))})})]})},ge=n=>{const{shipFilter:i}=n,s=m.exports.useMemo(()=>{const a=ee(K,i);return ie(a)},[i]);return l(y,{spacing:1,children:[e("div",{children:e(D,{id:"tech-file-ships",title:t("shipSource.techFile"),initiallyOpened:!1,preRenderDetails:!0,shipDefinitions:s[h.TECH_FILE]})}),e("div",{children:e(D,{id:"city-trade-ships",title:t("shipSource.cityTrade"),initiallyOpened:!1,shipDefinitions:s[h.CITY_TRADE]})}),e("div",{children:e(D,{id:"dock-effect-ships",title:t("shipSource.dockEffect"),initiallyOpened:!1,shipDefinitions:s[h.DOCK_EFFECT]})}),e("div",{children:e(D,{id:"starter-ships",title:t("shipSource.starterShip"),initiallyOpened:!1,shipDefinitions:s[h.STARTER_SHIP]})})]})},_e=()=>{const n=G(),{saveUserSettings:i,restoreUserSettings:s,resetUserSettings:a}=x(),[d,c]=m.exports.useState(te),[o,p]=m.exports.useState(!1);m.exports.useEffect(()=>()=>{s()},[s]);const f=()=>{s(),n("/myList")},u=()=>{i(),n("/myList")},C=()=>{p(!1)},r=()=>{p(!0)},T=()=>{p(!1),a()};return l(P,{children:[e(ae,{currentRoute:"/myList"}),e(ce,{shipFilter:d,onCancel:f,onReset:r,onSave:u,onFilter:c}),e(re,{children:l(b,{p:1,children:[l(y,{pt:1,pb:2,spacing:2,children:[e(S,{variant:"body2",children:t("myListConfig.pageDescription1")}),e(S,{variant:"body2",children:t("myListConfig.pageDescription2")}),e(S,{variant:"body2",children:t("myListConfig.pageDescription3")})]}),e(ge,{shipFilter:d})]})}),o&&e(X,{title:t("button.initialize"),question:t("myList.confirmInitialize"),cancelText:t("button.cancel"),confirmText:t("button.initialize"),onCancel:C,onConfirm:T}),e(oe,{})]})};export{_e as MyListEditPage,_e as default};

import{j as u,a as c,F as C,B as F,u as D,r as h,g as $,b as S,T as r,c as M,S as x,t as b,d as B,e as T,f as y,s as w,h as R,i as k,k as j,l as L}from"./index.49bd5030.js";import{d as N}from"./Settings.28db8d89.js";import{d as O,a as I}from"./ContentCopy.419377d2.js";import{S as U,c as P,a as V,e as W,b as q,d as _,f as z}from"./ShipTypeFilterButton.88546c1e.js";import{A as G}from"./ActionBar.c0dc3550.js";import{C as H,S as K,c as J}from"./ShipDataTable.214dd527.js";import{E as Q}from"./ExpandStack.2b090a28.js";import{n as X}from"./sorting.c6946657.js";import{R as Y}from"./ResponsiveDialog.5a54f29b.js";import{T as Z}from"./TextField.2a2711e3.js";import{N as uu,P as eu}from"./PageContent.276efa85.js";import{P as tu}from"./PageFooter.06b65e53.js";import"./domUtils.10371297.js";import"./MenuItem.4dcb1741.js";import"./useTable.79496f45.js";import"./Select.22d4e99b.js";const au=s=>{const{shipFilter:e,columnConfig:a,onEdit:i,onFilter:n,onShare:d,onColumnConfigChange:l}=s;return u(G,{left:o=>c(C,{children:[u(H,{columnConfig:a,onChange:l,disableResearchAgreementOptions:!0,buttonProps:o},"columnConfig"),u(U,{filter:e,onChange:n,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:o},"filter"),u(F,{variant:"outlined",startIcon:u(N,{}),onClick:i,...o,children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A"},"edit")]}),right:o=>u(C,{children:u(F,{variant:"outlined",startIcon:u(O,{}),onClick:d,...o,children:"\u5171\u6709"},"share")})})},nu=s=>{const{ship:e}=s,{userSettings:a}=D(),i=h.exports.useMemo(()=>$(e,a),[e,a]);return i.length===0?null:u(S,{mt:.5,children:i.map(n=>c(r,{variant:"body2",color:"text.secondary",children:[u(r,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517 "}),`${n.category}${n.categoryNumber} ${n.name}`]},n.id))})},iu=s=>{const{ship:e}=s,{userSettings:a}=D(),i=h.exports.useMemo(()=>M(e,a),[e,a]);return i.length===0?null:u(S,{mt:.5,children:i.map(n=>c(r,{variant:"body2",color:"text.secondary",children:[u(r,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517 "}),`${n.category}${n.categoryNumber} ${n.name}`]},n.id))})},g=h.exports.memo(K),su=s=>{const{shipListState:e,columnConfig:a}=s;return c(x,{spacing:1,children:[u(Q,{expandables:[{id:"possessed-ships",initiallyOpened:!0,summary:u(r,{variant:"body1",children:"\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3"}),details:u(g,{shipDefinitions:e.possessed,columnConfig:a,decorateName:(i,n)=>c(C,{children:[i,u(nu,{ship:n})]})})},{id:"wished-ships",initiallyOpened:!1,summary:u(r,{variant:"body1",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3"}),details:u(g,{shipDefinitions:e.wished,columnConfig:a,decorateName:(i,n)=>c(C,{children:[i,u(iu,{ship:n})]})})},{id:"unwished-by-user-ships",initiallyOpened:!1,summary:u(r,{variant:"body1",children:"\u6B32\u3057\u304F\u306A\u3044\u8A2D\u8A08\u56F3"}),details:u(g,{shipDefinitions:e.unwishedByUser,columnConfig:a})},{id:"unwished-by-data-ships",initiallyOpened:!1,summary:u(r,{variant:"body1",children:"\u88AB\u3063\u3066\u6B32\u3057\u304F\u306A\u3044\u8266\u8239"}),details:c(C,{children:[u(g,{shipDefinitions:e.unwishedByData,columnConfig:a}),u(S,{pt:1,children:u(r,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u88AB\u308A\u3067\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u304B\u300C\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044\u300D\u30B5\u30D6\u30E2\u30C7\u30EB\u306B\u306A\u308B\u8266\u8239\u304C\u81EA\u52D5\u7684\u306B\u8868\u793A\u3055\u308C\u307E\u3059"})})]})}]}),u(r,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})]})};function ou(s,e){const a=[],i=[],n=[],d=[],l=[];s.forEach(t=>{switch(t.row){case B.FRONT:{a.push(t);break}case B.MIDDLE:{i.push(t);break}case B.BACK:{n.push(t);break}default:switch(t.type){case y.CORVETTE:{d.push(t);break}case y.FIGHTER:{l.push(t);break}}}});const o=X([(t,p)=>w(t.type,t.subType)-w(p.type,p.subType),(t,p)=>t.name.localeCompare(p.name,"ja-JP")]);return["\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",[`\u3010${b(B.FRONT)}\u3011`,...a.sort(o).map(t=>f(t,e))].join(`
`),[`\u3010${b(B.MIDDLE)}\u3011`,...i.sort(o).map(t=>f(t,e))].join(`
`),[`\u3010${b(B.BACK)}\u3011`,...n.sort(o).map(t=>f(t,e))].join(`
`),[`\u3010${T(y.CORVETTE)}\u3011`,...d.sort(o).map(t=>f(t,e))].join(`
`),[`\u3010${T(y.FIGHTER)}\u3011`,...l.sort(o).map(t=>f(t,e))].join(`
`)].join(`

`)}function f(s,e){const a=$(s,e);return a.length===0?`\u3000${s.name}`:[`\u3000${s.name}`,a.map(i=>`\u3000\u2517 ${i.category}${i.categoryNumber} ${i.name}`).join(`
`)].join(`
`)}const ru=s=>{const{ships:e,onClose:a}=s,[i,n]=h.exports.useState(!1),{userSettings:d}=D(),[l,o]=h.exports.useState(()=>ou(e.possessed,d)),t=()=>{l&&k(l).then(()=>{n(!0)})},p=E=>{o(E.target.value)},A=()=>{a(),n(!1)};return u(Y,{title:"\u5171\u6709",content:c(x,{spacing:1,children:[u(Z,{variant:"filled",id:"outlined-multiline-static",multiline:!0,onChange:p,rows:10,defaultValue:l,fullWidth:!0}),!!navigator.clipboard&&u(F,{variant:"outlined",startIcon:i?u(R,{}):u(I,{}),onClick:t,fullWidth:!0,children:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"})]}),actions:u(F,{variant:"outlined",onClick:A,children:"\u9589\u3058\u308B"}),onClose:A})},bu=()=>{const s=j(),{userSettings:e}=D(),[a,i]=h.exports.useState(P),[n,d]=h.exports.useState(null),[l,o]=h.exports.useState(()=>J({name:!0,row:!0,type:!0,cost:!1,operationLimit:!1})),t=h.exports.useMemo(()=>{const m=V(L,a);return{possessed:W(m,e.ships),wished:q(m,e),unwishedByUser:_(m,e.ships),unwishedByData:z(m,e)}},[e,a]),p=()=>{s("/myList/edit")},A=()=>{d(t)},E=()=>{d(null)},v=Object.values(l).filter(m=>typeof m=="boolean"&&m).length>3;return c(C,{children:[u(uu,{currentRoute:"/myList"}),u(au,{shipFilter:a,columnConfig:l,onEdit:p,onFilter:i,onShare:A,onColumnConfigChange:o}),u(eu,{disableContainer:v,children:c(S,{p:1,children:[c(x,{pt:1,pb:2,spacing:2,children:[u(r,{variant:"body2",children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u306F\u8266\u8239\u3084\u8FFD\u52A0\u30B7\u30B9\u30C6\u30E0\u306E\u6240\u6709\u72B6\u614B\u3084\u300C\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u300D\u7B49\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u51FA\u6765\u307E\u3059\u3002"}),u(r,{variant:"body2",children:"\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u500B\u4EBA\u306B\u5408\u308F\u305B\u305F\u7D30\u304B\u3044\u78BA\u7387\u306E\u8A08\u7B97\u304C\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\uFF08\u30B5\u30D6\u30E2\u30C7\u30EB\u306E\u78BA\u7387\u3084\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u306E\u78BA\u7387\u304C\u5909\u52D5\u3057\u307E\u3059\uFF09\u3002"}),u(r,{variant:"body2",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u305D\u308C\u3089\u306E\u5408\u8A08\u78BA\u7387\u304C\u30D1\u30A4\u30C1\u30E3\u30FC\u30C8\u3067\u8868\u793A\u3055\u308C\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002"})]}),u(su,{shipListState:t,columnConfig:l})]})}),n&&u(ru,{ships:n,onClose:E}),u(tu,{disableContainer:v})]})};export{bu as MyListPage,bu as default};

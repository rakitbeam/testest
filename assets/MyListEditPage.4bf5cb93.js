var U=Object.defineProperty,w=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var N=(i,e,s)=>e in i?U(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s,B=(i,e)=>{for(var s in e||(e={}))b.call(e,s)&&N(i,s,e[s]);if(v)for(var s of v(e))I.call(e,s)&&N(i,s,e[s]);return i},D=(i,e)=>w(i,H(e));var O=(i,e)=>{var s={};for(var t in i)b.call(i,t)&&e.indexOf(t)<0&&(s[t]=i[t]);if(i!=null&&v)for(var t of v(i))e.indexOf(t)<0&&I.call(i,t)&&(s[t]=i[t]);return s};import{j as u,b as o,F as P,h as x,S,T as p,ac as j,ad as g,v as q,w as z,x as Y,r as C,A as G,c as M,a1 as K,a2 as J,a3 as Q,t as V}from"./vendor.612e55a5.js";import{d as X,a as Z,b as ee,C as ue}from"./ConfirmationDialog.2bb0bdf0.js";import{S as ie,a as se,s as te,c as ne}from"./ShipTypeFilterButton.3256c46d.js";import{A as ae}from"./ActionBar.a2802d77.js";import{P as f,W as F,u as $,D as re,E as oe,m as d,F as le,G as ce,e as de}from"./index.50b861ee.js";import{d as he}from"./Settings.1acf125d.js";import{N as pe,C as Ce}from"./NavigationBar.e91af742.js";import"./ResponsiveDialog.418e97d8.js";import"./domUtils.e9df6b0f.js";const Ee=i=>{const{shipFilter:e,onCancel:s,onSave:t,onReset:l,onFilter:r}=i;return u(ae,{left:a=>u(ie,{filter:e,onChange:r,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:a},"filter"),right:a=>o(P,{children:[u(x,D(B({variant:"outlined",startIcon:u(X,{}),onClick:l},a),{children:"\u521D\u671F\u5316"}),"reset"),u(x,D(B({variant:"outlined",startIcon:u(Z,{}),onClick:s},a),{children:"\u30AD\u30E3\u30F3\u30BB\u30EB"}),"cancel"),u(x,D(B({variant:"contained",startIcon:u(ee,{}),onClick:t},a),{children:"\u4FDD\u5B58"}),"save")]})})},L=i=>{const{label:e,options:s,possession:t,onChange:l}=i,r=(a,c)=>{l(c===null?f.UNDEFINED:Number(c))};return o(S,{spacing:1,direction:"row",alignItems:"center",children:[u(p,{variant:"body2",children:e}),o(j,{size:"small",color:"primary",value:`${t}`,exclusive:!0,onChange:r,children:[u(g,{value:`${f.POSSESSED}`,children:s[0]}),u(g,{value:`${f.NOT_POSSESSED}`,children:s[1]})]})]})};var _={},Se=z.exports;Object.defineProperty(_,"__esModule",{value:!0});var k=_.default=void 0,fe=Se(q),Be=Y,De=(0,fe.default)((0,Be.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");k=_.default=De;const W=i=>{const{wish:e,onChange:s}=i,t=(l,r)=>{s(r===null||r==="clear"?F.UNDEFINED:Number(r))};return o(S,{spacing:1,direction:"row",alignItems:"center",children:[u(p,{variant:"body2",children:"\u30AC\u30C1\u30E3\u3067"}),o(j,{size:"small",color:"primary",value:`${e}`,exclusive:!0,onChange:t,children:[u(g,{value:`${F.WANTED}`,children:"\u51FA\u3066\u6B32\u3057\u3044"}),u(g,{value:`${F.NOT_WANTED}`,children:"\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044"}),e!==F.UNDEFINED&&u(g,{value:"clear",children:u(k,{})})]})]})},ge=i=>{const y=i,{ship:e}=y,s=O(y,["ship"]),{userSettings:t,setShipPossession:l,setShipWish:r,setModulePossession:a,setModuleWish:c}=$(),E=re(e.id,t),h=oe(e.id,t),A=C.exports.useMemo(()=>h!==F.UNDEFINED?!0:e.source===d.TECH_FILE&&E===f.NOT_POSSESSED,[e,E,h]);return u(G,D(B({elevation:2},s),{children:u(M,{p:1,children:o(S,{spacing:3,children:[u(p,{variant:"h6",children:e.name}),u(L,{label:Fe(e),options:Ae(e),possession:E,onChange:n=>l(e.id,n)}),A&&u(W,{wish:h,onChange:n=>r(e.id,n)}),(e.source===d.TECH_FILE||e.source===d.STARTER_SHIP)&&E===f.POSSESSED&&e.modules&&e.modules.filter(n=>!n.defaultModule).map(n=>{const R=le(n.id,e.id,t);return o(C.exports.Fragment,{children:[u(p,{variant:"h6",children:`${n.category}${n.categoryNumber} ${n.name}`}),u(L,{label:"\u30B7\u30B9\u30C6\u30E0\u3092",options:["\u6301\u3063\u3066\u3044\u308B","\u6301\u3063\u3066\u3044\u306A\u3044"],possession:R,onChange:T=>a(n.id,e.id,T)}),R===f.NOT_POSSESSED&&u(W,{wish:ce(n.id,e.id,t),onChange:T=>c(n.id,e.id,T)})]},n.id)})]})})}))};function Fe(i){switch(i.source){case d.CITY_TRADE:return"\u90FD\u5E02\u3067";case d.DOCK_EFFECT:return"\u81E8\u6642\u8A2D\u8A08\u56F3\u3092";default:return"\u8A2D\u8A08\u56F3\u3092"}}function Ae(i){switch(i.source){case d.CITY_TRADE:return["\u8CB7\u3063\u3066\u3044\u308B","\u8CB7\u3063\u3066\u3044\u306A\u3044"];default:return["\u6301\u3063\u3066\u3044\u308B","\u6301\u3063\u3066\u3044\u306A\u3044"]}}const m=i=>{const{id:e,title:s,shipDefinitions:t,initiallyOpened:l,preRenderDetails:r=!1}=i,[a,c]=C.exports.useState(l);return o(K,{expanded:a,onChange:(h,A)=>{c(A)},children:[u(J,{id:e,expandIcon:u(he,{}),children:u(p,{variant:"body1",children:s})}),u(Q,{children:(a||r)&&u(S,{spacing:3,children:t.map(h=>u(ge,{ship:h},h.id))})})]})},ve=i=>{const{shipFilter:e}=i,s=C.exports.useMemo(()=>{const t=se(de,e);return te(t)},[e]);return o(S,{spacing:1,children:[u("div",{children:u(m,{id:"tech-file-ships",title:"\u6280\u8853\u30D5\u30A1\u30A4\u30EB\u304B\u3089\u624B\u306B\u5165\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",initiallyOpened:!1,preRenderDetails:!0,shipDefinitions:s[d.TECH_FILE]})}),u("div",{children:u(m,{id:"city-trade-ships",title:"\u90FD\u5E02\u3067\u8CB7\u3048\u308B\u8266\u8239",initiallyOpened:!1,shipDefinitions:s[d.CITY_TRADE]})}),u("div",{children:u(m,{id:"dock-effect-ships",title:"\u7D50\u5408\u52B9\u679C\u3067\u624B\u306B\u5165\u308B\u8266\u8239/\u81E8\u6642\u8A2D\u8A08\u56F3",initiallyOpened:!1,shipDefinitions:s[d.DOCK_EFFECT]})}),u("div",{children:u(m,{id:"starter-ships",title:"\u521D\u671F\u914D\u5E03\u3067\u624B\u306B\u5165\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",initiallyOpened:!1,shipDefinitions:s[d.STARTER_SHIP]})})]})},Pe=()=>{const i=V(),{saveUserSettings:e,restoreUserSettings:s,resetUserSettings:t}=$(),[l,r]=C.exports.useState(ne),[a,c]=C.exports.useState(!1);return C.exports.useEffect(()=>()=>{s()},[s]),o(P,{children:[u(pe,{currentRoute:"/myList"}),u(Ee,{shipFilter:l,onCancel:()=>{s(),i("/myList")},onReset:()=>{c(!0)},onSave:()=>{e(),i("/myList")},onFilter:r}),u(Ce,{children:o(M,{p:1,children:[o(S,{pt:1,pb:2,spacing:2,children:[u(p,{variant:"body2",children:"\u3053\u3053\u3067\u306F\u8266\u8239/\u8A2D\u8A08\u56F3\u306E\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3067\u304D\u307E\u3059\u3002"}),u(p,{variant:"body2",children:"\u5168\u3066\u7D30\u304B\u304F\u8A2D\u5B9A\u3059\u308B\u5FC5\u8981\u306F\u3042\u308A\u307E\u305B\u3093\u3002"}),u(p,{variant:"body2",children:"\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u307E\u3059\u3002"})]}),u(ve,{shipFilter:l})]})}),a&&u(ue,{title:"\u521D\u671F\u5316",question:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A\u3092\u521D\u671F\u72B6\u614B\u306B\u623B\u3057\u307E\u3059\u304B\uFF1F",cancelText:"\u30AD\u30E3\u30F3\u30BB\u30EB",confirmText:"\u521D\u671F\u5316",onCancel:()=>{c(!1)},onConfirm:()=>{c(!1),t()}})]})};export{Pe as MyListEditPage,Pe as default};

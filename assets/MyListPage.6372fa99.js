var R=Object.defineProperty,k=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var T=(i,t,s)=>t in i?R(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s,D=(i,t)=>{for(var s in t||(t={}))L.call(t,s)&&T(i,s,t[s]);if(b)for(var s of b(t))M.call(t,s)&&T(i,s,t[s]);return i},g=(i,t)=>k(i,$(t));import{j as u,b as d,F as C,h as f,r as p,S as y,T as l,c as j,p as O,q as I}from"./vendor.da49bbc3.js";import{d as U}from"./Settings.dddae240.js";import{d as N,a as V,b as W,c as _}from"./clipboardUtils.69eb7688.js";import{S as z,c as G,a as H,e as K,b as q,d as J,f as P}from"./ShipTypeFilterButton.50862970.js";import{A as Q}from"./ActionBar.4a719c8f.js";import{C as X,S as Y,c as Z}from"./ShipDataTable.1320bce1.js";import{g as uu}from"./userSettingsUtils.c9f7945a.js";import{E as eu}from"./ExpandStack.d6e49f55.js";import{t as E,S as B,a as v,b as A,s as x,c as tu}from"./index.7c8cee3c.js";import{n as su}from"./sorting.c6946657.js";import{R as iu}from"./ResponsiveDialog.2443e0b2.js";import{N as au,C as nu}from"./NavigationBar.0d38d227.js";import"./WishState.3db35fd5.js";import"./domUtils.e9df6b0f.js";import"./useTable.e2a4cba6.js";import"./ExpandMore.0181df59.js";const ru=i=>{const{shipFilter:t,columnConfig:s,onEdit:c,onFilter:r,onShare:n,onColumnConfigChange:a}=i;return u(Q,{left:e=>d(C,{children:[u(X,{columnConfig:s,onChange:a,disableResearchAgreementOptions:!0,buttonProps:e},"columnConfig"),u(z,{filter:t,onChange:r,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:e},"filter"),u(f,g(D({variant:"outlined",startIcon:u(U,{}),onClick:c},e),{children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A"}),"edit")]}),right:e=>u(C,{children:u(f,g(D({variant:"outlined",startIcon:u(N,{}),onClick:n},e),{children:"\u5171\u6709"}),"share")})})},S=p.exports.memo(Y),ou=i=>{const{shipListState:t,columnConfig:s}=i;return d(y,{spacing:1,children:[u(eu,{expandables:[{id:"possessed-ships",initiallyOpened:!0,summary:u(l,{variant:"body1",children:"\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.possessed,columnConfig:s})},{id:"wished-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.wished,columnConfig:s})},{id:"unwished-by-user-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u6B32\u3057\u304F\u306A\u3044\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.unwishedByUser,columnConfig:s})},{id:"unwished-by-data-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u88AB\u3063\u3066\u6B32\u3057\u304F\u306A\u3044\u8266\u8239"}),details:d(C,{children:[u(S,{shipDefinitions:t.unwishedByData,columnConfig:s}),u(j,{pt:1,children:u(l,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u88AB\u308A\u3067\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u304B\u300C\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044\u300D\u30B5\u30D6\u30E2\u30C7\u30EB\u306B\u306A\u308B\u8266\u8239\u304C\u81EA\u52D5\u7684\u306B\u8868\u793A\u3055\u308C\u307E\u3059"})})]})}]}),u(l,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})]})};function lu(i){const t=[],s=[],c=[],r=[],n=[];i.forEach(e=>{switch(e.row){case B.FRONT:{t.push(e);break}case B.MIDDLE:{s.push(e);break}case B.BACK:{c.push(e);break}default:switch(e.type){case A.CORVETTE:{r.push(e);break}case A.FIGHTER:{n.push(e);break}}}});const a=su([(e,o)=>x(e.type,e.subType)-x(o.type,o.subType),(e,o)=>e.name.localeCompare(o.name,"ja-JP")]);return["\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",[`\u3010${E(B.FRONT)}\u3011`,...t.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.MIDDLE)}\u3011`,...s.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.BACK)}\u3011`,...c.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${v(A.CORVETTE)}\u3011`,...r.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${v(A.FIGHTER)}\u3011`,...n.sort(a).map(e=>`\u3000${e.name}`)].join(`
`)].join(`

`)}const cu=i=>{const{ships:t,onClose:s}=i,[c,r]=p.exports.useState(!1),[n,a]=p.exports.useState(()=>lu(t.possessed)),e=()=>{n&&_(n).then(()=>{r(!0)})},o=F=>{a(F.target.value)},m=()=>{s(),r(!1)};return u(iu,{title:"\u5171\u6709",content:d(y,{spacing:1,children:[u(O,{variant:"filled",id:"outlined-multiline-static",multiline:!0,onChange:o,rows:10,defaultValue:n,fullWidth:!0}),!!navigator.clipboard&&u(f,{variant:"outlined",startIcon:c?u(V,{}):u(W,{}),onClick:e,fullWidth:!0,children:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"})]}),actions:u(f,{variant:"outlined",onClick:m,children:"\u9589\u3058\u308B"}),onClose:m})},vu=()=>{const i=I(),t=p.exports.useMemo(()=>uu(),[]),[s,c]=p.exports.useState(G),[r,n]=p.exports.useState(null),[a,e]=p.exports.useState(()=>Z({name:!0,row:!0,type:!0,cost:!1,operationLimit:!1})),o=p.exports.useMemo(()=>{const h=H(tu,s);return{possessed:K(h,t.ships),wished:q(h,t.ships),unwishedByUser:J(h,t.ships),unwishedByData:P(h,t.ships)}},[t,s]),m=()=>{i("/myList/edit")},F=()=>{n(o)},w=()=>{n(null)};return d(C,{children:[u(au,{currentRoute:"/myList"}),u(ru,{shipFilter:s,columnConfig:a,onEdit:m,onFilter:c,onShare:F,onColumnConfigChange:e}),u(nu,{disabled:Object.values(a).filter(h=>h).length>3,children:d(j,{p:1,children:[d(y,{pt:1,pb:2,spacing:2,children:[u(l,{variant:"body2",children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u306F\u8266\u8239\u306E\u6240\u6709\u72B6\u614B\u3084\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u7B49\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u51FA\u6765\u307E\u3059\u3002"}),u(l,{variant:"body2",children:"\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u500B\u4EBA\u306B\u5408\u308F\u305B\u305F\u7D30\u304B\u3044\u78BA\u7387\u306E\u8A08\u7B97\u304C\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\uFF08\u30B5\u30D6\u30E2\u30C7\u30EB\u306E\u78BA\u7387\u3084\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u306E\u78BA\u7387\u304C\u5909\u52D5\u3057\u307E\u3059\uFF09\u3002"}),u(l,{variant:"body2",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u305D\u308C\u3089\u306E\u5408\u8A08\u78BA\u7387\u304C\u30D1\u30A4\u30C1\u30E3\u30FC\u30C8\u3067\u8868\u793A\u3055\u308C\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002"})]}),u(ou,{shipListState:o,columnConfig:a})]})}),r&&u(cu,{ships:r,onClose:w})]})};export{vu as MyListPage,vu as default};

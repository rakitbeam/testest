var H=Object.defineProperty,k=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var D=(e,r,a)=>r in e?H(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,y=(e,r)=>{for(var a in r||(r={}))P.call(r,a)&&D(e,a,r[a]);if(F)for(var a of F(r))K.call(r,a)&&D(e,a,r[a]);return e},T=(e,r)=>k(e,L(r));import{r as u,b as w,F as f,j as n,s as E,h as R,P as V,G as I,t as J,v as z,M as O,w as _,x as q,y as G,z as W,T as C}from"./vendor.d72687a6.js";import{c as N,i as $,r as U}from"./NavigationBar.60fa7a4c.js";import{g as Y}from"./domUtils.e9df6b0f.js";import{u as Q,T as X}from"./useTable.4ca8cd5d.js";import{k as Z,a as ee,s as j,t as re,l as v,m as ae,n as x,u as te}from"./index.752300b5.js";import{t as ne,m as M,g as se,r as B,h as ue,i as s,j as ce,k as d}from"./ShipTypeFilterButton.d7bbd169.js";var g={},oe=$.exports;Object.defineProperty(g,"__esModule",{value:!0});var A=g.default=void 0,le=oe(N),ie=U,me=(0,le.default)((0,ie.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");A=g.default=me;function He(e={}){return y({name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1},e)}function pe(){return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const ke=e=>{const{onChange:r,buttonProps:a}=e,[t,m]=u.exports.useState(e.columnConfig),[p,o]=u.exports.useState(!1),[S]=u.exports.useState(()=>pe()),l=u.exports.useRef(null),b=c=>{m(h=>T(y({},h),{[c]:!h[c]}))};return u.exports.useEffect(()=>{const c=setTimeout(()=>{r(t)},0);return()=>clearTimeout(c)},[t,r]),w(f,{children:[n(E,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:l,children:n(R,{startIcon:n(A,{}),onClick:()=>o(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),n(V,{open:p,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:c,placement:h})=>n(I,T(y({},c),{style:{transformOrigin:h==="bottom"?"center top":"center bottom"},children:n(J,{style:{maxHeight:Y(l.current),overflowY:"auto"},children:n(z,{onClickAway:()=>o(!1),children:n(O,{id:"split-button-menu",children:S.map(i=>w(_,{selected:t[i.columnKey],onClick:()=>b(i.columnKey),children:[n(q,{children:n(G,{edge:"start",checked:t[i.columnKey],tabIndex:-1,disableRipple:!0})}),n(W,{children:i.name})]},i.columnKey))})})})}))})]})},he=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>n(C,{variant:"body2",children:n(Z,{onClick:()=>{e.onClick(r.id)},children:r.name})}),sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),ye={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>ee(e.type,e.subType),sortFn:[(e,r)=>j(e.type,e.subType)-j(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},de={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>re(e.row),sortFn:[(e,r)=>v(e.row)-v(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Te={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},fe={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ce={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>ae(e.source),sortFn:[(e,r)=>x(e.source)-x(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ge={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>ne(e.manufacturer),sortFn:[(e,r)=>M(e.manufacturer)-M(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Se={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?se(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?B(e.researchManufacturer):0)-(r.researchManufacturer?B(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Fe={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return n(f,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>n(C,{variant:"body2",children:ue(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[0])?s(e.researchStrategyTypes[0]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[0])?s(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[1])?s(e.researchStrategyTypes[1]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[1])?s(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[2])?s(e.researchStrategyTypes[2]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[2])?s(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[3])?s(e.researchStrategyTypes[3]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[3])?s(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},De={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return n(f,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>n(C,{variant:"body2",children:ce(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[0])?d(e.researchTacticTypes[0]):0)-(((t=r.researchTacticTypes)==null?void 0:t[0])?d(r.researchTacticTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[1])?d(e.researchTacticTypes[1]):0)-(((t=r.researchTacticTypes)==null?void 0:t[1])?d(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},we={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Le=e=>{const{shipDefinitions:r,columnConfig:a}=e,{table:t,setTableData:m}=Q(),{openShipDetailDialog:p}=te(),o=u.exports.useMemo(()=>[he({onClick:p}),...a.type?[ye]:[],...a.row?[de]:[],...a.cost?[Te]:[],...a.operationLimit?[fe]:[],...a.source?[Ce]:[],...a.manufacturer?[ge]:[],...a.researchManufacturer?[Se]:[],...a.researchStrategyType?[Fe]:[],...a.researchTacticType?[De]:[],...a.weight?[we]:[]],[a,p]);return u.exports.useEffect(()=>{m({columns:o,data:r,rowIdFn:l=>l.id})},[m,o,r]),n(X,{table:t,size:"small"})};export{ke as C,Le as S,He as c};

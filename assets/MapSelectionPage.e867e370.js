import{N as w,P as y}from"./PageContent.e34bb37f.js";import{E as k}from"./ExpandStack.6bd06e33.js";import{r as i,z as x,j as o,w as p,k as e,T as h,q as f,t as l,B as C,aw as m,F as U,aC as u}from"./index.3f1417d9.js";import{T as b}from"./TextField.c3d25b24.js";import{P as S}from"./PageFooter.1bd0c021.js";import"./Grow.dd2d6515.js";import"./Select.63f90b86.js";import"./useFormControl.e66845a3.js";function P(t){try{return new URL(t),!0}catch{return!1}}function g(){return{fullMapExample:r("Full map","fullMap.txt"),markerExample:r("Marker","marker.txt"),planetsExample:r("Planets","planets.txt"),regionsExample:r("Regions","regions.txt"),citiesExample:r("Cities","cities.txt"),baseExample:r("Player bases","base.txt"),areaExample:r("Areas","areas.txt")}}function T(){return[r("9000 x 9000","template9k.txt"),r("10000 x 10000","template10k.txt")]}function r(t,n){return{name:t,url:window.location.origin+window.location.pathname+"assets/mapExamples/"+n}}const B=()=>{const[t,n]=i.exports.useState(()=>g().fullMapExample.url),[s,d]=i.exports.useState(null),[a,c]=i.exports.useState(!1),E=x(),M=()=>{if(!P(t)){d(!1),c(!0);return}E(m.mapSelected.createPath({d:window.btoa(t)}))};return o(p,{spacing:1,children:[e(h,{variant:"body1",children:"URL"}),o(p,{direction:"row",spacing:1,children:[e(f,{component:"div",sx:{flexGrow:1},children:e(b,{id:"url-input",variant:"outlined",value:t,onChange:v=>{c(!1),n(v.target.value)},error:a&&!s,helperText:a&&!s?l("mapEdit.invalidUrl"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(C,{variant:"outlined",onClick:M,disabled:t.length===0,children:l("mapEdit.loadAndOpenMap")})})]})]})},q=()=>{const t=x(),n=a=>{t(m.mapSelected.createPath({d:window.btoa(a)}))},s=i.exports.useMemo(()=>Object.values(g()),[]),d=i.exports.useMemo(()=>T(),[]);return o(U,{children:[e(w,{currentRoute:m.map.path}),e(y,{children:e(f,{component:"div",p:1,children:e(k,{expandables:[{id:"load",summary:l("mapEdit.openExternalMap"),details:e(B,{}),initiallyOpened:!1},{id:"examples",summary:l("mapEdit.openExampleMap"),details:e(p,{spacing:1,children:s.map(a=>e(u,{onClick:()=>n(a.url),children:a.name},a.url))}),initiallyOpened:!1},{id:"empty",summary:l("mapEdit.openEmptyMap"),details:o(p,{spacing:1,children:[d.map(a=>e(u,{onClick:()=>n(a.url),children:a.name},a.url)),e(h,{variant:"body2",color:"text.secondary",children:l("mapEdit.sizeCanBeAdjustedBrackets")})]}),initiallyOpened:!1}]})})}),e(S,{})]})};export{q as default};

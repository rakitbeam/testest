var P=Object.defineProperty,R=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var v=(e,r,a)=>r in e?P(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,y=(e,r)=>{for(var a in r||(r={}))I.call(r,a)&&v(e,a,r[a]);if(x)for(var a of x(r))J.call(r,a)&&v(e,a,r[a]);return e},f=(e,r)=>R(e,E(r));import{v as V,w as z,x as O,r as c,b as C,F as g,j as n,y as _,h as j,P as q,G,z as N,A as W,c as A,M as $,E as U,I as Y,J as Q,K as X,D as Z,T as S}from"./vendor.612e55a5.js";import{g as ee}from"./domUtils.e9df6b0f.js";import{u as re,T as ae}from"./useTable.a69db608.js";import{r as te,b as ne,s as M,t as se,v as B,w as ue,x as b,n as ce,y as H,o as oe,z as L,p as le,A as u,q as ie,B as T,C as me}from"./index.ee4c49f6.js";var F={},pe=z.exports;Object.defineProperty(F,"__esModule",{value:!0});var k=F.default=void 0,he=pe(V),de=O,ye=(0,he.default)((0,de.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");k=F.default=ye;function ke(e={}){return y({name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1},e)}function Te(e){const{disableResearchAgreementOptions:r}=e;return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},...r!==!0?[{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"}]:[],{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const Ke=e=>{const{onChange:r,buttonProps:a,disableResearchAgreementOptions:t}=e,[s,i]=c.exports.useState(e.columnConfig),[h,o]=c.exports.useState(!1),[D]=c.exports.useState(()=>Te({disableResearchAgreementOptions:t})),m=c.exports.useRef(null),K=l=>{i(d=>f(y({},d),{[l]:!d[l]}))};return c.exports.useEffect(()=>{const l=setTimeout(()=>{r(s)},0);return()=>clearTimeout(l)},[s,r]),C(g,{children:[n(_,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:m,children:n(j,{startIcon:n(k,{}),onClick:()=>o(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),n(q,{open:h,anchorEl:m.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:l,placement:d})=>{var w;return n(G,f(y({},l),{style:{transformOrigin:d==="bottom"?"center top":"center bottom"},children:n("div",{children:n(N,{onClickAway:()=>o(!1),children:C(W,{children:[n(A,{sx:{overflowY:"auto",maxHeight:`${((w=ee(m.current))!=null?w:0)-50}px`},children:n($,{id:"split-button-menu",children:D.map(p=>C(U,{selected:s[p.columnKey],onClick:()=>K(p.columnKey),children:[n(Y,{children:n(Q,{edge:"start",checked:s[p.columnKey],tabIndex:-1,disableRipple:!0})}),n(X,{children:p.name})]},p.columnKey))})}),n(Z,{}),n(A,{p:1,display:"flex",justifyContent:"end",children:n(j,{variant:"outlined",onClick:()=>o(!1),children:"\u9589\u3058\u308B"})})]})})})}))}})]})},fe=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>{var t;return((t=e.decorateName)!=null?t:(s,i)=>s)(n(S,{variant:"body2",children:n(te,{onClick:()=>{e.onClick(r.id)},children:r.name})}),r)},sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),Ce={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>ne(e.type,e.subType),sortFn:[(e,r)=>M(e.type,e.subType)-M(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},ge={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>se(e.row),sortFn:[(e,r)=>B(e.row)-B(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Se={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Fe={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},De={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>ue(e.source),sortFn:[(e,r)=>b(e.source)-b(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},we={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>ce(e.manufacturer),sortFn:[(e,r)=>H(e.manufacturer)-H(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},xe={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?oe(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?L(e.researchManufacturer):0)-(r.researchManufacturer?L(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ve={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return n(g,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>n(S,{variant:"body2",children:le(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[0])?u(e.researchStrategyTypes[0]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[0])?u(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[1])?u(e.researchStrategyTypes[1]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[1])?u(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[2])?u(e.researchStrategyTypes[2]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[2])?u(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[3])?u(e.researchStrategyTypes[3]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[3])?u(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},je={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return n(g,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>n(S,{variant:"body2",children:ie(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[0])?T(e.researchTacticTypes[0]):0)-(((t=r.researchTacticTypes)==null?void 0:t[0])?T(r.researchTacticTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[1])?T(e.researchTacticTypes[1]):0)-(((t=r.researchTacticTypes)==null?void 0:t[1])?T(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ae={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Pe=e=>{const{shipDefinitions:r,columnConfig:a,decorateName:t}=e,{table:s,setTableData:i}=re(),{openShipDetailDialog:h}=me(),o=c.exports.useMemo(()=>[fe({onClick:h,decorateName:t}),...a.type?[Ce]:[],...a.row?[ge]:[],...a.cost?[Se]:[],...a.operationLimit?[Fe]:[],...a.source?[De]:[],...a.manufacturer?[we]:[],...a.researchManufacturer?[xe]:[],...a.researchStrategyType?[ve]:[],...a.researchTacticType?[je]:[],...a.weight?[Ae]:[]],[a,t,h]);return c.exports.useEffect(()=>{i({columns:o,data:r,rowIdFn:m=>m.id})},[i,o,r]),n(ae,{table:s,size:"small"})};export{Ke as C,Pe as S,ke as c};

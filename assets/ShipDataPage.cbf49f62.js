import{k as i,j as C,F as S,bq as F,r as s,au as D,q as d,m as x}from"./index.13f6fa4e.js";import{C as P,c as b,S as j}from"./ShipDataTable.dd87c41c.js";import{S as A,c as T,a as k}from"./ShipTypeFilterButton.9207554b.js";import{A as v}from"./ActionBar.48e5afb7.js";import{N as O,P as q}from"./PageContent.b687097c.js";import{P as I}from"./PageFooter.1e8edbec.js";import"./domUtils.b1fc8778.js";import"./MenuItem.bbd0621d.js";import"./Popper.ee510a71.js";import"./ClickAwayListener.4c2dea8e.js";import"./useTable.ecbb020b.js";import"./sorting.c6946657.js";import"./TableRow.1a6358af.js";import"./useFormControl.cb90d163.js";const M=t=>{const{shipFilter:o,columnConfig:e,onFilterChange:a,onColumnConfigChange:r}=t;return i(v,{left:n=>C(S,{children:[i(P,{columnConfig:e,onChange:r,buttonProps:n},"columnConfig"),i(A,{filter:o,onChange:a,buttonProps:n},"filter")]})})},Y=()=>{var m,u;const[t,o]=F(),[e,a]=s.exports.useState(()=>f(t.getAll("filter"),T())),[r,n]=s.exports.useState(()=>f(t.getAll("columns"),b({name:!0,row:!0,type:!0,cost:!0,operationLimit:!0}))),[c,y]=s.exports.useState([(m=t.get("sortBy"))!=null?m:"type",(u=t.get("sortDirection"))!=null?u:"asc"]);s.exports.useEffect(()=>{var l,h;o(D.shipData.createSearchParams({filter:g(e),columns:g(r),sortBy:(l=c[0])!=null?l:null,sortDirection:(h=c[1])!=null?h:"asc"}))},[e,r,c]);const B=s.exports.useMemo(()=>k(x,e),[e]),p=Object.values(r).filter(l=>l).length>3;return C(S,{children:[i(O,{currentRoute:"/shipData"}),i(M,{shipFilter:e,columnConfig:r,onFilterChange:a,onColumnConfigChange:n}),i(q,{disableContainer:p,children:i(d,{component:"div",p:1,children:i(j,{shipDefinitions:B,columnConfig:r,initialSorting:c,onChangeSorting:y})})}),i(I,{disableContainer:p})]})};function f(t,o){if(t.length>0){const e=N(t);return Object.keys(o).reduce((a,r)=>{var n;return{...a,[r]:(n=e[r])!=null?n:!1}},{...o})}return o}function g(t){const o=Object.keys(t).filter(e=>t[e]);return o.length>0?o:[]}function N(t){return t.reduce((o,e)=>({...o,[e]:!0}),{})}export{Y as ShipDataPage,Y as default};

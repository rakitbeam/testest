var N=Object.defineProperty,l=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var u=(s,i,e)=>i in s?N(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e,r=(s,i)=>{for(var e in i||(i={}))U.call(i,e)&&u(s,e,i[e]);if(p)for(var e of p(i))w.call(i,e)&&u(s,e,i[e]);return s},E=(s,i)=>l(s,f(i));import{f as o,i as O}from"./index.bd9adf92.js";import{P as t,W as n}from"./WishState.3db35fd5.js";const c="settings";function T(){var s;return(s=m())!=null?s:C()}function y(s){const i=JSON.stringify(P(s));window.localStorage.setItem(c,i)}function m(){const s=window.localStorage.getItem(c);if(!s)return null;const i=d(s);return i?F(_(i)):null}function P(s){return E(r({},s),{ships:Object.keys(s.ships).map(i=>{const{possession:e,wish:S}=s.ships[i];return[i,e,S]}),modules:Object.keys(s.modules).map(i=>{const{possession:e,wish:S}=s.modules[i];return[i,e,S]})})}function F(s){const i=s.ships.AC721_C;return i&&(s.ships[o.AC721_TE_A]=i,delete s.ships.AC721_C),s}function _(s){var i,e;return E(r({},s),{ships:s.ships.reduce((S,[D,a,h])=>E(r({},S),{[D]:{possession:a,wish:h}}),{}),modules:(e=(i=s.modules)==null?void 0:i.reduce((S,[D,a,h])=>E(r({},S),{[D]:{possession:a,wish:h}}),{}))!=null?e:{}})}function d(s){try{return JSON.parse(s)}catch(i){return alert("ERROR - Failed to restore user settings"),console.error(i),null}}function C(){return{formatVersion:1,ships:{[o.FG300_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.FG300_B]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.FG300_C]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.AC721_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.AC721_D]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.CAS066_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.CV_II003]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.KCCPV2_0_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.KCCPV2_0_D]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.ST59]:{possession:t.POSSESSED,wish:n.UNDEFINED}},modules:{}}}function b(s,i,e){var S,D;return E(r({},s),{[i]:E(r({},s[i]),{possession:e,wish:O(i)&&e===t.POSSESSED?n.UNDEFINED:(D=(S=s[i])==null?void 0:S.wish)!=null?D:n.UNDEFINED})})}function W(s,i){var e;return((e=i.ships[s])==null?void 0:e.possession)===t.POSSESSED}function j(s,i){var e;return((e=i.ships[s])==null?void 0:e.wish)===n.WANTED}function G(s,i){var e;return((e=i.ships[s])==null?void 0:e.wish)===n.NOT_WANTED}export{b as a,G as b,C as c,W as d,T as g,j as i,y as s};

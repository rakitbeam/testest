import{q as ne,v as le,w as se,D as ce,_ as v,r as b,I as oe,y as de,A as he,j as a,C as ue,bc as Ne,bd as L,be as H,p as De,i as y,d as Ae,b2 as pe,b0 as me,U as R,V as P,X as U,N as _e,b1 as Ge,bf as Oe,a6 as Le,al as ze,o as u,a as S,b as x,T as p,ap as I,$ as q,a0 as J,a1 as K,ax as Be,u as Ee,bg as je,bh as Ue,F as k,bi as V,c as Ve,J as fe,K as ge,L as Se,a3 as F,B as be,ba as He,S as B,a2 as qe}from"./index.3216557f.js";import{a as C,N as Je,P as Ke}from"./PageContent.13c2f158.js";import{u as Qe,T as Xe}from"./useTable.8c92a317.js";import{E as Ye}from"./ExpandStack.aeda0449.js";import{T as N}from"./Tooltip.d8ee2bab.js";import{T as Ze,a as re}from"./ToggleButtonGroup.921ba892.js";import{F as A,I as _,S as G}from"./Select.e11937aa.js";import{R as et}from"./ResponsiveDialog.92e7dbeb.js";import{P as tt}from"./PageFooter.7282b329.js";import"./sorting.c6946657.js";import"./useFormControl.617a4d60.js";function rt(r){return ne("MuiListSubheader",r)}le("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const at=["className","color","component","disableGutters","disableSticky","inset"],it=r=>{const{classes:t,color:i,disableGutters:n,inset:l,disableSticky:o}=r,c={root:["root",i!=="default"&&`color${ce(i)}`,!n&&"gutters",l&&"inset",!o&&"sticky"]};return he(c,rt,t)},nt=se("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(r,t)=>{const{ownerState:i}=r;return[t.root,i.color!=="default"&&t[`color${ce(i.color)}`],!i.disableGutters&&t.gutters,i.inset&&t.inset,!i.disableSticky&&t.sticky]}})(({theme:r,ownerState:t})=>v({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:r.palette.text.secondary,fontFamily:r.typography.fontFamily,fontWeight:r.typography.fontWeightMedium,fontSize:r.typography.pxToRem(14)},t.color==="primary"&&{color:r.palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:r.palette.background.paper})),lt=b.exports.forwardRef(function(t,i){const n=oe({props:t,name:"MuiListSubheader"}),{className:l,color:o="default",component:c="li",disableGutters:d=!1,disableSticky:m=!1,inset:f=!1}=n,g=de(n,at),e=v({},n,{color:o,component:c,disableGutters:d,disableSticky:m,inset:f}),s=it(e);return a(nt,v({as:c,className:ue(s.root,l),ref:i,ownerState:e},g))});var E=lt;const st=b.exports.createContext();var ae=st;function ct(r){return ne("MuiGrid",r)}const ot=[0,1,2,3,4,5,6,7,8,9,10],dt=["column-reverse","column","row-reverse","row"],ht=["nowrap","wrap-reverse","wrap"],W=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Q=le("MuiGrid",["root","container","item","zeroMinWidth",...ot.map(r=>`spacing-xs-${r}`),...dt.map(r=>`direction-xs-${r}`),...ht.map(r=>`wrap-xs-${r}`),...W.map(r=>`grid-xs-${r}`),...W.map(r=>`grid-sm-${r}`),...W.map(r=>`grid-md-${r}`),...W.map(r=>`grid-lg-${r}`),...W.map(r=>`grid-xl-${r}`)]),ut=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function M(r){const t=parseFloat(r);return`${t}${String(r).replace(String(t),"")||"px"}`}function pt({theme:r,ownerState:t}){let i;return r.breakpoints.keys.reduce((n,l)=>{let o={};if(t[l]&&(i=t[l]),!i)return n;if(i===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(i==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=L({values:t.columns,breakpoints:r.breakpoints.values}),d=typeof c=="object"?c[l]:c;if(d==null)return n;const m=`${Math.round(i/d*1e8)/1e6}%`;let f={};if(t.container&&t.item&&t.columnSpacing!==0){const g=r.spacing(t.columnSpacing);if(g!=="0px"){const e=`calc(${m} + ${M(g)})`;f={flexBasis:e,maxWidth:e}}}o=v({flexBasis:m,flexGrow:0,maxWidth:m},f)}return r.breakpoints.values[l]===0?Object.assign(n,o):n[r.breakpoints.up(l)]=o,n},{})}function mt({theme:r,ownerState:t}){const i=L({values:t.direction,breakpoints:r.breakpoints.values});return H({theme:r},i,n=>{const l={flexDirection:n};return n.indexOf("column")===0&&(l[`& > .${Q.item}`]={maxWidth:"none"}),l})}function ft({theme:r,ownerState:t}){const{container:i,rowSpacing:n}=t;let l={};if(i&&n!==0){const o=L({values:n,breakpoints:r.breakpoints.values});l=H({theme:r},o,c=>{const d=r.spacing(c);return d!=="0px"?{marginTop:`-${M(d)}`,[`& > .${Q.item}`]:{paddingTop:M(d)}}:{}})}return l}function gt({theme:r,ownerState:t}){const{container:i,columnSpacing:n}=t;let l={};if(i&&n!==0){const o=L({values:n,breakpoints:r.breakpoints.values});l=H({theme:r},o,c=>{const d=r.spacing(c);return d!=="0px"?{width:`calc(100% + ${M(d)})`,marginLeft:`-${M(d)}`,[`& > .${Q.item}`]:{paddingLeft:M(d)}}:{}})}return l}function ye(r,t,i={}){if(!t||!r||r<=0)return[];if(typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number")return[i[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`];const{xs:n,sm:l,md:o,lg:c,xl:d}=r;return[Number(n)>0&&(i[`spacing-xs-${String(n)}`]||`spacing-xs-${String(n)}`),Number(l)>0&&(i[`spacing-sm-${String(l)}`]||`spacing-sm-${String(l)}`),Number(o)>0&&(i[`spacing-md-${String(o)}`]||`spacing-md-${String(o)}`),Number(c)>0&&(i[`spacing-lg-${String(c)}`]||`spacing-lg-${String(c)}`),Number(d)>0&&(i[`spacing-xl-${String(d)}`]||`spacing-xl-${String(d)}`)]}const St=se("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,t)=>{const{container:i,direction:n,item:l,lg:o,md:c,sm:d,spacing:m,wrap:f,xl:g,xs:e,zeroMinWidth:s}=r.ownerState;return[t.root,i&&t.container,l&&t.item,s&&t.zeroMinWidth,...ye(m,i,t),n!=="row"&&t[`direction-xs-${String(n)}`],f!=="wrap"&&t[`wrap-xs-${String(f)}`],e!==!1&&t[`grid-xs-${String(e)}`],d!==!1&&t[`grid-sm-${String(d)}`],c!==!1&&t[`grid-md-${String(c)}`],o!==!1&&t[`grid-lg-${String(o)}`],g!==!1&&t[`grid-xl-${String(g)}`]]}})(({ownerState:r})=>v({boxSizing:"border-box"},r.container&&{display:"flex",flexWrap:"wrap",width:"100%"},r.item&&{margin:0},r.zeroMinWidth&&{minWidth:0},r.wrap==="nowrap"&&{flexWrap:"nowrap"},r.wrap==="reverse"&&{flexWrap:"wrap-reverse"}),mt,ft,gt,pt),bt=r=>{const{classes:t,container:i,direction:n,item:l,lg:o,md:c,sm:d,spacing:m,wrap:f,xl:g,xs:e,zeroMinWidth:s}=r,h={root:["root",i&&"container",l&&"item",s&&"zeroMinWidth",...ye(m,i),n!=="row"&&`direction-xs-${String(n)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,e!==!1&&`grid-xs-${String(e)}`,d!==!1&&`grid-sm-${String(d)}`,c!==!1&&`grid-md-${String(c)}`,o!==!1&&`grid-lg-${String(o)}`,g!==!1&&`grid-xl-${String(g)}`]};return he(h,ct,t)},yt=b.exports.forwardRef(function(t,i){const n=oe({props:t,name:"MuiGrid"}),l=Ne(n),{className:o,columns:c,columnSpacing:d,component:m="div",container:f=!1,direction:g="row",item:e=!1,lg:s=!1,md:h=!1,rowSpacing:w,sm:D=!1,spacing:Z=0,wrap:Fe="wrap",xl:Te=!1,xs:$e=!1,zeroMinWidth:Me=!1}=l,We=de(l,ut),Re=w||Z,Pe=d||Z,Ie=b.exports.useContext(ae),z=c||Ie||12,ee=v({},l,{columns:z,container:f,direction:g,item:e,lg:s,md:h,sm:D,rowSpacing:Re,columnSpacing:Pe,wrap:Fe,xl:Te,xs:$e,zeroMinWidth:Me}),ke=bt(ee);return(te=>z!==12?a(ae.Provider,{value:z,children:te}):te)(a(St,v({ownerState:ee,className:ue(ke.root,o),as:m,ref:i},We)))});var T=yt;function Ct(){return De.filter(r=>!!r.researchManufacturer||!!r.researchStrategyTypes||!!r.researchTacticTypes)}function xt(r,t){const i=[],n=[],l=[],o=[];return r.forEach(c=>{const d=Ae(c,t);if(d.length>0){n.push({shipDefinition:c,modules:d});return}if(pe(c.id,t)){l.push(c);return}if(me(c.id,t)){i.push(c);return}o.push(c)}),{wantedShips:i.sort((c,d)=>y(c).localeCompare(y(d))),shipsWithWantedModule:n.sort((c,d)=>y(c.shipDefinition).localeCompare(y(d.shipDefinition))),possessedShips:l.sort((c,d)=>y(c).localeCompare(y(d))),remainingShips:o.sort((c,d)=>y(c).localeCompare(y(d)))}}function vt(){const r=[R.NOMA_SHIPPING_GROUP,R.JUPITER_INDUSTRIES,R.ANTONIOS_CONSORTIUM,R.DAWN_ACCORD,null],t=[P.OUTSTANDING_FIREPOWER,P.SUSTAINED_COMBAT,P.STRATEGY_AND_SUPPORT,P.FIGHTER_AND_CORVETTE,null],i=[U.PROJECTILE_WEAPONS,U.DIRECT_FIRE_WEAPONS,null];return r.flatMap(n=>t.flatMap(l=>i.map(o=>({shipId:null,manufacturerFilter:n,strategyTypeFilter:l,tacticTypeFilter:o}))))}let wt=0;function Ft(r,t,i){const n=t.filter(e=>!(r.manufacturerFilter!==null&&e.researchManufacturer!==r.manufacturerFilter||r.strategyTypeFilter!==null&&e.researchStrategyTypes&&!e.researchStrategyTypes.includes(r.strategyTypeFilter)||r.tacticTypeFilter!==null&&e.researchTacticTypes&&!e.researchTacticTypes.includes(r.tacticTypeFilter))),l=n.reduce((e,s)=>e+s.weight,0),o=n.map(e=>{const s=pe(e.id,i),h=e.weight/l,w=_e(e,i);return{shipDefinition:e,chance:h,formula:`${e.weight} / ${l}`,possessed:s,wished:me(e.id,i),unwished:Ge(e.id,i),modules:w.map(D=>({module:D,chance:h/w.length,formula:`${Mt(h)} / ${w.length}`,wished:Oe(D.id,e.id,i)}))}});let c=0,d=0,m=0,f=0,g=0;return o.forEach(e=>{if(e.possessed){if(e.modules.length>0){d+=e.chance,e.modules.find(s=>s.wished)&&(m+=e.chance);return}g+=e.chance;return}else{c+=e.chance,e.wished&&(m+=e.chance),e.unwished&&(f+=e.chance);return}}),{id:`${wt++}`,filterState:r,shipChances:o,totalShipChance:c,totalModuleChance:d,wishedShipChance:m,unwishedShipChance:f,techPointChance:g}}function Tt(r){var t,i,n;return`${(t=r.manufacturerFilter)!=null?t:"null"}.${(i=r.strategyTypeFilter)!=null?i:"null"}.${(n=r.tacticTypeFilter)!=null?n:"null"}`}function $t(r,t){if(t.shipId!==null)return r.filter(l=>!l.filterState.manufacturerFilter&&!l.filterState.strategyTypeFilter&&!l.filterState.tacticTypeFilter?!1:l.shipChances.find(o=>o.shipDefinition.id===t.shipId)).sort((l,o)=>{var m,f,g,e;const c=(f=(m=l.shipChances.find(s=>s.shipDefinition.id===t.shipId))==null?void 0:m.chance)!=null?f:0;return((e=(g=o.shipChances.find(s=>s.shipDefinition.id===t.shipId))==null?void 0:g.chance)!=null?e:0)-c});const i=[],n=r.filter(l=>t.manufacturerFilter!==null&&l.filterState.manufacturerFilter!==t.manufacturerFilter||t.strategyTypeFilter!==null&&l.filterState.strategyTypeFilter!==t.strategyTypeFilter||t.tacticTypeFilter!==null&&l.filterState.tacticTypeFilter!==t.tacticTypeFilter||!l.filterState.manufacturerFilter&&!l.filterState.strategyTypeFilter&&!l.filterState.tacticTypeFilter?!1:l.filterState.manufacturerFilter===t.manufacturerFilter&&l.filterState.strategyTypeFilter===t.strategyTypeFilter&&l.filterState.tacticTypeFilter===t.tacticTypeFilter?(i.push(l),!1):l);return[...i,...n]}function Mt(r){return`${Number((r*100).toFixed(3))} %`}const Wt=r=>{const{configurations:t,filterState:i,onClickConfiguration:n}=r,{table:l,setTableData:o}=Qe(),c=Le(),m=ze(c.breakpoints.down("sm"))?"38px":"50px",f=i.shipId;return b.exports.useEffect(()=>{const g={columns:[{id:"filter",renderHeader:()=>u("label.researchDirection"),renderCell:e=>S(x,{sx:{minWidth:"120px"},children:[e.filterState.manufacturerFilter&&a(p,{variant:"body2",children:a(I,{onClick:()=>n(e),children:q(e.filterState.manufacturerFilter)})}),e.filterState.strategyTypeFilter&&a(p,{variant:"body2",children:a(I,{onClick:()=>n(e),children:J(e.filterState.strategyTypeFilter)})}),e.filterState.tacticTypeFilter&&a(p,{variant:"body2",children:a(I,{onClick:()=>n(e),children:K(e.filterState.tacticTypeFilter)})}),!e.filterState.manufacturerFilter&&!e.filterState.strategyTypeFilter&&!e.filterState.tacticTypeFilter&&a(p,{variant:"body2",children:a(I,{onClick:()=>n(e),children:u("label.notSelected")})})]})},...f?[{id:"selectedShipChance",renderHeader:()=>u("label.selectedShip"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(j(e,f))})}),sortFn:[(e,s)=>j(e,f)-j(s,f),(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]}]:[],{id:"totalShipChance",renderHeader:()=>u("label.newShip"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(e.totalShipChance)})}),sortFn:[(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"totalModuleChance",renderHeader:()=>u("label.additionalSystemModule"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(e.totalModuleChance)})}),sortFn:[(e,s)=>e.totalModuleChance-s.totalModuleChance,(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"techPointChance",renderHeader:()=>u("label.techPoints"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(e.techPointChance)})}),sortFn:[(e,s)=>e.techPointChance-s.techPointChance,(e,s)=>s.totalShipChance-e.totalShipChance,(e,s)=>s.wishedShipChance-e.wishedShipChance,(e,s)=>e.unwishedShipChance-s.unwishedShipChance]},{id:"wishedShipChance",renderHeader:()=>u("label.wantedBlueprint"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(e.wishedShipChance)})}),sortFn:[(e,s)=>e.wishedShipChance-s.wishedShipChance,(e,s)=>s.techPointChance-e.techPointChance,(e,s)=>e.totalShipChance-s.totalShipChance,(e,s)=>s.unwishedShipChance-e.unwishedShipChance]},{id:"unwishedShipChance",renderHeader:()=>u("label.unwantedBlueprint"),renderCell:e=>a(x,{sx:{minWidth:m},children:a(p,{variant:"body2",children:$(e.unwishedShipChance)})}),sortFn:[(e,s)=>e.unwishedShipChance-s.unwishedShipChance,(e,s)=>s.totalShipChance-e.totalShipChance,(e,s)=>s.wishedShipChance-e.wishedShipChance,(e,s)=>e.techPointChance-s.techPointChance]}],data:t,rowIdFn:e=>Tt(e.filterState)};o(g)},[o,t,f,n,m]),a(Xe,{table:l,size:"small"})};function $(r){return`${Number((r*100).toFixed(2))} %`}function j(r,t){var i,n;return(n=(i=r.shipChances.find(l=>l.shipDefinition.id===t))==null?void 0:i.chance)!=null?n:0}const Rt=r=>{const{shipDefinition:t}=r,{openShipDetailDialog:i}=Be();return a(p,{variant:"body2",component:"span",children:a(I,{onClick:()=>{i(t.id)},children:y(t)})})},Ce=r=>{const{configuration:t}=r,{userSettings:i}=Ee();return a(je,{rows:[{key:`${t.id}.wishedShipChance`,label:u("label.wantedBlueprint"),value:O(t.wishedShipChance),separatorAfter:!0},...t.techPointChance>0?[{key:`${t.id}.techPointChance`,label:a(p,{variant:"body2",sx:t.techPointChance>0?{color:"red"}:void 0,children:u("label.techPoints")}),value:a(p,{variant:"body2",sx:t.techPointChance>0?{color:"red"}:void 0,children:O(t.techPointChance)}),separatorAfter:!0}]:[],...t.shipChances.flatMap(n=>{const l=n.possessed&&n.modules.length>0,o=n.wished||Ue(n.shipDefinition.id,i);return[{key:`${t.id}.${n.shipDefinition.id}`,label:S(k,{children:[a(Rt,{shipDefinition:n.shipDefinition}),V()&&a("span",{children:"\xA0"}),l&&a(p,{variant:"body2",component:"span",children:u("label.additionalSystemModuleBrackets")}),!l&&n.possessed&&a(p,{variant:"body2",component:"span",children:u("label.techPointsBrackets")}),o&&a(N,{arrow:!0,disableFocusListener:!0,title:`${u("label.wantedBlueprint")}`,children:a(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:a(N,{arrow:!0,disableFocusListener:!0,title:S(k,{children:[a(p,{variant:"body2",gutterBottom:!0,children:`[${u("label.probabilityWeight")}] / [${u("label.total")}]`}),a(p,{variant:"body2",children:n.formula})]}),children:a(p,{variant:"body2",sx:{color:!l&&n.possessed?"red":void 0},children:O(n.chance)})})},...l?n.modules.map(c=>({key:`${t.id}.${n.shipDefinition.id}.${c.module.id}`,label:S(k,{children:[a(p,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517"}),V()&&a("span",{children:"\xA0"}),a(p,{variant:"body2",component:"span",color:"text.secondary",children:`${c.module.category}${c.module.categoryNumber} ${Ve(n.shipDefinition.id,c.module)}`}),c.wished&&a(N,{arrow:!0,disableFocusListener:!0,title:`${u("label.wantedAdditionalSystemModule")}`,children:a(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:a(N,{arrow:!0,disableFocusListener:!0,title:S(k,{children:[a(p,{variant:"body2",gutterBottom:!0,children:`[${u("label.shipProbability")}] / [${u("label.remainingAdditionalSystemModules")}]`}),a(p,{variant:"body2",children:c.formula})]}),children:a(p,{variant:"body2",color:"text.secondary",children:O(c.chance)})})})):[]]})],rowGap:1})};function O(r){return`${Number((r*100).toFixed(3))} %`}const xe=r=>{var n,l;const{configuration:t,filterState:i}=r;return S(p,{variant:"body2",children:[[...t.filterState.manufacturerFilter!==null?[q(t.filterState.manufacturerFilter)]:[],...t.filterState.strategyTypeFilter!==null?[J(t.filterState.strategyTypeFilter)]:[],...t.filterState.tacticTypeFilter!==null?[K(t.filterState.tacticTypeFilter)]:[],...!t.filterState.manufacturerFilter&&!t.filterState.strategyTypeFilter&&!t.filterState.tacticTypeFilter?[u("label.notSelected")]:[]].map(o=>`\u300C${o}\u300D`).join("+"),i.shipId===null&&t.wishedShipChance>0&&a(N,{arrow:!0,disableFocusListener:!0,title:`${u("label.probabilityForWantedBlueprintColon")}${ie(t.wishedShipChance)}`,children:a(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})}),i.shipId!==null&&a(p,{variant:"body2",component:"span",children:`\u3000\u21D2\u3000${ie((l=(n=t.shipChances.find(o=>o.shipDefinition.id===i.shipId))==null?void 0:n.chance)!=null?l:0)}`})]})};function ie(r){return`${Number((r*100).toFixed(3))} %`}const Pt=r=>{const{configurations:t,filterState:i}=r,n=!!i.manufacturerFilter||!!i.strategyTypeFilter||!!i.tacticTypeFilter;return a(Ye,{expandables:t.map(l=>({id:l.id,initiallyOpened:n,summary:a(xe,{configuration:l,filterState:i}),details:a(Ce,{configuration:l})})),unmount:!0})};var X={},It=ge.exports;Object.defineProperty(X,"__esModule",{value:!0});var ve=X.default=void 0,kt=It(fe),Nt=Se,Dt=(0,kt.default)((0,Nt.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");ve=X.default=Dt;var Y={},At=ge.exports;Object.defineProperty(Y,"__esModule",{value:!0});var we=Y.default=void 0,_t=At(fe),Gt=Se,Ot=(0,_t.default)((0,Gt.jsx)("path",{d:"M21 8H3V4h18v4zm0 2H3v4h18v-4zm0 6H3v4h18v-4z"}),"TableRows");we=Y.default=Ot;const Lt=r=>{const{mode:t,onChange:i}=r;return S(Ze,{value:t,exclusive:!0,onChange:(l,o)=>{i(o)},size:"small","aria-label":"view mode",children:[a(re,{value:"ships","aria-label":"ships",children:a(ve,{})}),a(re,{value:"table","aria-label":"table",children:a(we,{})})]})},zt=r=>{var f,g,e,s;const{filterState:t,shipFilterOptions:i,onChange:n}=r,l=h=>{n({...t,shipId:h.target.value===""?null:h.target.value,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})},o=h=>{n({...t,shipId:null,manufacturerFilter:h.target.value===""?null:h.target.value})},c=h=>{n({...t,shipId:null,strategyTypeFilter:h.target.value===""?null:h.target.value})},d=h=>{n({...t,shipId:null,tacticTypeFilter:h.target.value===""?null:h.target.value})},m=()=>{n({...t,shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})};return S(T,{container:!0,spacing:2,children:[a(T,{item:!0,xs:12,sm:8,md:4,children:S(A,{fullWidth:!0,size:"small",children:[a(_,{id:"manufacturer-select-label",children:u("label.researchManufacturer")}),S(G,{labelId:"manufacturer-select-label",value:(f=t.manufacturerFilter)!=null?f:"",label:u("label.researchManufacturer"),onChange:o,children:[a(C,{value:"",children:u("label.notSelected")}),a(F,{}),Object.values(R).map(h=>a(C,{value:h,children:q(h)},h))]})]})}),a(T,{item:!0,xs:12,sm:8,md:4,children:S(A,{fullWidth:!0,size:"small",children:[a(_,{id:"strategy-select-label",children:u("label.researchStrategyType")}),S(G,{labelId:"strategy-select-label",value:(g=t.strategyTypeFilter)!=null?g:"",label:u("label.researchStrategyType"),onChange:c,children:[a(C,{value:"",children:u("label.notSelected")}),a(F,{}),Object.values(P).map(h=>a(C,{value:h,children:J(h)},h))]})]})}),a(T,{item:!0,xs:12,sm:8,md:4,children:S(A,{fullWidth:!0,size:"small",children:[a(_,{id:"tactics-select-label",children:u("label.researchTacticType")}),S(G,{labelId:"tactics-select-label",value:(e=t.tacticTypeFilter)!=null?e:"",label:u("label.researchTacticType"),onChange:d,children:[a(C,{value:"",children:u("label.notSelected")}),a(F,{}),Object.values(U).map(h=>a(C,{value:h,children:K(h)},h))]})]})}),a(T,{item:!0,xs:12,sm:8,children:S(A,{fullWidth:!0,size:"small",children:[a(_,{id:"ship-select-label",children:u("label.ship")}),S(G,{labelId:"ship-select-label",value:(s=t.shipId)!=null?s:"",label:u("label.ship"),onChange:l,children:[a(C,{value:"",children:u("label.notSelected")}),i.wantedShips.length+i.shipsWithWantedModule.length>0&&a(F,{}),i.wantedShips.length+i.shipsWithWantedModule.length>0&&a(E,{disableSticky:!0,children:u("label.wantedBlueprintColon")}),i.wantedShips.map(h=>S(C,{value:h.id,children:[y(h),a(p,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},h.id)),i.shipsWithWantedModule.map(({shipDefinition:h,modules:w})=>S(C,{value:h.id,children:[y(h),V()&&a("span",{children:"\xA0"}),u("label.additionalSystemModuleBrackets"),a(p,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},h.id)),i.remainingShips.length>0&&a(F,{}),i.remainingShips.length>0&&a(E,{disableSticky:!0,children:u("label.acquirableBlueprintColon")}),i.remainingShips.map(h=>a(C,{value:h.id,children:y(h)},h.id)),i.possessedShips.length>0&&a(F,{}),i.possessedShips.length>0&&a(E,{disableSticky:!0,children:u("label.acquiredBlueprintColon")}),i.possessedShips.map(h=>a(C,{value:h.id,children:y(h)},h.id))]})]})}),a(T,{item:!0,xs:12,sm:4,sx:{display:"flex",justifyContent:"end"},children:a(be,{variant:"outlined",onClick:m,children:u("button.reset")})})]})},Bt=b.exports.memo(Wt),Et=b.exports.memo(Pt),tr=()=>{const[r,t]=b.exports.useState("ships"),i=b.exports.useMemo(()=>Ct(),[]),n=b.exports.useMemo(()=>He(),[]),l=b.exports.useMemo(()=>vt(),[]),o=b.exports.useMemo(()=>l.map(s=>Ft(s,i,n)),[l,i]),c=b.exports.useMemo(()=>xt(i,n),[i,n]),[d,m]=b.exports.useState({shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null}),f=b.exports.useMemo(()=>$t(o,d),[o,d]),[g,e]=b.exports.useState(null);return S(k,{children:[a(Je,{currentRoute:"/researchAgreement"}),a(Ke,{children:a(x,{p:1,children:S(B,{spacing:1,children:[S(B,{pt:1,pb:1,spacing:2,children:[a(p,{variant:"body2",children:u("researchAgreement.pageDescription1")}),a(p,{variant:"body2",children:u("researchAgreement.pageDescription2")}),a(p,{variant:"body2",children:u("researchAgreement.pageDescription3")})]}),a(qe,{children:a(x,{p:2,children:S(B,{spacing:2,children:[a(p,{variant:"body2",children:u("label.researchDirection")}),a("div",{children:a(zt,{filterState:d,onChange:m,shipFilterOptions:c})}),a(x,{sx:{display:"flex",justifyContent:"end"},children:a(Lt,{mode:r,onChange:t})})]})})}),r==="ships"&&a(Et,{configurations:f,filterState:d})]})})}),r==="table"&&a(x,{p:1,children:a(Bt,{configurations:f,filterState:d,onClickConfiguration:e})}),g&&a(et,{maxWidth:"sm",title:a(xe,{configuration:g,filterState:d}),content:a(Ce,{configuration:g}),actions:a(be,{variant:"outlined",onClick:()=>e(null),children:u("button.close")}),onClose:()=>e(null)}),a(tt,{disableContainer:r==="table"})]})};export{tr as ResearchAgreementPage,tr as default};

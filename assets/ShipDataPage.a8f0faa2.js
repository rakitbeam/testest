import{k as i,j as C,F as S,br as F,r as s,au as D,q as d,m as x}from"./index.26b46533.js";import{C as P,c as b,S as j}from"./ShipDataTable.a4163b1d.js";import{S as A,c as T,a as k}from"./ShipTypeFilterButton.76b5a857.js";import{A as v}from"./ActionBar.7a8bcaa8.js";import{N as O,P as I}from"./PageContent.d9af9f00.js";import{P as M}from"./PageFooter.0af80055.js";import"./domUtils.daee8581.js";import"./MenuItem.7dab1395.js";import"./Popper.73af47d4.js";import"./ClickAwayListener.978512a3.js";import"./useTable.a70ac68c.js";import"./sorting.c6946657.js";import"./TableRow.3c9e7dde.js";import"./useFormControl.b0ff8995.js";const N=t=>{const{shipFilter:o,columnConfig:e,onFilterChange:a,onColumnConfigChange:r}=t;return i(v,{left:n=>C(S,{children:[i(P,{columnConfig:e,onChange:r,buttonProps:n},"columnConfig"),i(A,{filter:o,onChange:a,buttonProps:n},"filter")]})})},Y=()=>{var m,u;const[t,o]=F(),[e,a]=s.exports.useState(()=>f(t.getAll("filter"),T())),[r,n]=s.exports.useState(()=>f(t.getAll("columns"),b({name:!0,row:!0,type:!0,cost:!0,operationLimit:!0}))),[c,y]=s.exports.useState([(m=t.get("sortBy"))!=null?m:"type",(u=t.get("sortDirection"))!=null?u:"asc"]);s.exports.useEffect(()=>{var l,h;o(D.shipData.createSearchParams({filter:g(e),columns:g(r),sortBy:(l=c[0])!=null?l:null,sortDirection:(h=c[1])!=null?h:"asc"}))},[e,r,c]);const B=s.exports.useMemo(()=>k(x,e),[e]),p=Object.values(r).filter(l=>l).length>3;return C(S,{children:[i(O,{currentRoute:"/shipData"}),i(N,{shipFilter:e,columnConfig:r,onFilterChange:a,onColumnConfigChange:n}),i(I,{disableContainer:p,children:i(d,{component:"div",p:1,children:i(j,{shipDefinitions:B,columnConfig:r,initialSorting:c,onChangeSorting:y})})}),i(M,{disableContainer:p})]})};function f(t,o){if(t.length>0){const e=q(t);return Object.keys(o).reduce((a,r)=>{var n;return{...a,[r]:(n=e[r])!=null?n:!1}},{...o})}return o}function g(t){const o=Object.keys(t).filter(e=>t[e]);return o.length>0?o:[]}function q(t){return t.reduce((o,e)=>({...o,[e]:!0}),{})}export{Y as ShipDataPage,Y as default};

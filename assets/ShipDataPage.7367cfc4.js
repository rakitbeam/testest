import{k as i,j as C,F as S,bs as F,r as s,aw as D,q as d,m as x}from"./index.8269f47d.js";import{C as P,c as b,S as j}from"./ShipDataTable.d1bfdfc3.js";import{S as A,c as T,a as k}from"./ShipTypeFilterButton.c2ce9e5b.js";import{A as v}from"./ActionBar.11f6c23a.js";import{N as O,P as w}from"./PageContent.bd3a0cc2.js";import{P as I}from"./PageFooter.dbadd04c.js";import"./domUtils.970105d4.js";import"./useFormControl.1904b61a.js";import"./useTable.ce26b59f.js";import"./sorting.c6946657.js";import"./TableRow.6fd15092.js";import"./IconButton.4de74753.js";const M=t=>{const{shipFilter:o,columnConfig:e,onFilterChange:a,onColumnConfigChange:r}=t;return i(v,{left:n=>C(S,{children:[i(P,{columnConfig:e,onChange:r,buttonProps:n},"columnConfig"),i(A,{filter:o,onChange:a,buttonProps:n},"filter")]})})},W=()=>{var m,u;const[t,o]=F(),[e,a]=s.exports.useState(()=>f(t.getAll("filter"),T())),[r,n]=s.exports.useState(()=>f(t.getAll("columns"),b({name:!0,row:!0,type:!0,cost:!0,operationLimit:!0}))),[c,y]=s.exports.useState([(m=t.get("sortBy"))!=null?m:"type",(u=t.get("sortDirection"))!=null?u:"asc"]);s.exports.useEffect(()=>{var l,h;o(D.shipData.createSearchParams({filter:g(e),columns:g(r),sortBy:(l=c[0])!=null?l:null,sortDirection:(h=c[1])!=null?h:"asc"}))},[e,r,c]);const B=s.exports.useMemo(()=>k(x,e),[e]),p=Object.values(r).filter(l=>l).length>3;return C(S,{children:[i(O,{currentRoute:"/shipData"}),i(M,{shipFilter:e,columnConfig:r,onFilterChange:a,onColumnConfigChange:n}),i(w,{disableContainer:p,children:i(d,{component:"div",p:1,children:i(j,{shipDefinitions:B,columnConfig:r,initialSorting:c,onChangeSorting:y})})}),i(I,{disableContainer:p})]})};function f(t,o){if(t.length>0){const e=N(t);return Object.keys(o).reduce((a,r)=>{var n;return{...a,[r]:(n=e[r])!=null?n:!1}},{...o})}return o}function g(t){const o=Object.keys(t).filter(e=>t[e]);return o.length>0?o:[]}function N(t){return t.reduce((o,e)=>({...o,[e]:!0}),{})}export{W as ShipDataPage,W as default};

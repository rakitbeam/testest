var L=Object.defineProperty,k=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var w=(e,r,a)=>r in e?L(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,h=(e,r)=>{for(var a in r||(r={}))R.call(r,a)&&w(e,a,r[a]);if(D)for(var a of D(r))K.call(r,a)&&w(e,a,r[a]);return e},C=(e,r)=>k(e,P(r));import{r as c,b as j,F as g,j as n,s as E,h as V,P as I,G as J,t as O,v as z,M as _,w as q,x as G,y as W,z as N,T as S}from"./vendor.d72687a6.js";import{c as $,i as U,r as Y}from"./NavigationBar.60fa7a4c.js";import{g as Q}from"./domUtils.e9df6b0f.js";import{u as X,T as Z}from"./useTable.4ca8cd5d.js";import{o as ee,a as re,s as v,t as ae,p as x,q as te,r as M,j as ne,u as A,k as se,v as B,l as ue,w as s,m as ce,x as y,y as oe}from"./index.18ef27b6.js";var F={},le=U.exports;Object.defineProperty(F,"__esModule",{value:!0});var b=F.default=void 0,ie=le($),me=Y,pe=(0,ie.default)((0,me.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");b=F.default=pe;function He(e={}){return h({name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1},e)}function he(e){const{disableResearchAgreementOptions:r}=e;return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},...r!==!0?[{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"}]:[],{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const Le=e=>{const{onChange:r,buttonProps:a,disableResearchAgreementOptions:t}=e,[u,i]=c.exports.useState(e.columnConfig),[m,d]=c.exports.useState(!1),[T]=c.exports.useState(()=>he({disableResearchAgreementOptions:t})),f=c.exports.useRef(null),H=o=>{i(p=>C(h({},p),{[o]:!p[o]}))};return c.exports.useEffect(()=>{const o=setTimeout(()=>{r(u)},0);return()=>clearTimeout(o)},[u,r]),j(g,{children:[n(E,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:f,children:n(V,{startIcon:n(b,{}),onClick:()=>d(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),n(I,{open:m,anchorEl:f.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:o,placement:p})=>n(J,C(h({},o),{style:{transformOrigin:p==="bottom"?"center top":"center bottom"},children:n(O,{style:{maxHeight:Q(f.current),overflowY:"auto"},children:n(z,{onClickAway:()=>d(!1),children:n(_,{id:"split-button-menu",children:T.map(l=>j(q,{selected:u[l.columnKey],onClick:()=>H(l.columnKey),children:[n(G,{children:n(W,{edge:"start",checked:u[l.columnKey],tabIndex:-1,disableRipple:!0})}),n(N,{children:l.name})]},l.columnKey))})})})}))})]})},ye=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>n(S,{variant:"body2",children:n(ee,{onClick:()=>{e.onClick(r.id)},children:r.name})}),sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),de={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>re(e.type,e.subType),sortFn:[(e,r)=>v(e.type,e.subType)-v(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},Te={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>ae(e.row),sortFn:[(e,r)=>x(e.row)-x(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},fe={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ce={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ge={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>te(e.source),sortFn:[(e,r)=>M(e.source)-M(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Se={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>ne(e.manufacturer),sortFn:[(e,r)=>A(e.manufacturer)-A(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Fe={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?se(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?B(e.researchManufacturer):0)-(r.researchManufacturer?B(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},De={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return n(g,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>n(S,{variant:"body2",children:ue(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[0])?s(e.researchStrategyTypes[0]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[0])?s(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[1])?s(e.researchStrategyTypes[1]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[1])?s(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[2])?s(e.researchStrategyTypes[2]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[2])?s(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,t;return(((a=e.researchStrategyTypes)==null?void 0:a[3])?s(e.researchStrategyTypes[3]):0)-(((t=r.researchStrategyTypes)==null?void 0:t[3])?s(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},we={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return n(g,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>n(S,{variant:"body2",children:ce(a)},a))})},sortFn:[(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[0])?y(e.researchTacticTypes[0]):0)-(((t=r.researchTacticTypes)==null?void 0:t[0])?y(r.researchTacticTypes[0]):0)},(e,r)=>{var a,t;return(((a=e.researchTacticTypes)==null?void 0:a[1])?y(e.researchTacticTypes[1]):0)-(((t=r.researchTacticTypes)==null?void 0:t[1])?y(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},je={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ke=e=>{const{shipDefinitions:r,columnConfig:a}=e,{table:t,setTableData:u}=X(),{openShipDetailDialog:i}=oe(),m=c.exports.useMemo(()=>[ye({onClick:i}),...a.type?[de]:[],...a.row?[Te]:[],...a.cost?[fe]:[],...a.operationLimit?[Ce]:[],...a.source?[ge]:[],...a.manufacturer?[Se]:[],...a.researchManufacturer?[Fe]:[],...a.researchStrategyType?[De]:[],...a.researchTacticType?[we]:[],...a.weight?[je]:[]],[a,i]);return c.exports.useEffect(()=>{u({columns:m,data:r,rowIdFn:T=>T.id})},[u,m,r]),n(Z,{table:t,size:"small"})};export{Le as C,ke as S,He as c};

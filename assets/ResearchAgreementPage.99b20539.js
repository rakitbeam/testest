import{q as ne,v as le,w as se,D as ce,_ as F,r as b,I as oe,y as de,A as he,j as r,C as ue,bd as Ne,be as B,bf as q,p as De,k as y,d as Ae,a$ as pe,aZ as me,U as k,V as N,X as V,N as _e,a_ as Oe,bg as Ge,i as Le,a6 as Be,al as ze,t as u,a as S,b as v,T as p,ap as D,$ as J,a0 as Z,a1 as K,ax as Ee,u as je,bh as Ue,bi as Ve,F as A,bj as H,c as He,h as qe,J as fe,K as ge,L as Se,a3 as T,B as be,bb as Je,S as E,a2 as Ze}from"./index.5abf1b34.js";import{a as x,N as Ke,P as Qe}from"./PageContent.1bfed528.js";import{u as Xe,T as Ye}from"./useTable.257323ab.js";import{E as et}from"./ExpandStack.d51a8a62.js";import{T as _}from"./Tooltip.32d3ada0.js";import{T as tt,a as re}from"./ToggleButtonGroup.4ba3ff9e.js";import{F as O,I as G,S as L}from"./Select.b4258e7a.js";import{R as rt}from"./ResponsiveDialog.8963a1fd.js";import{P as at}from"./PageFooter.25a2e23a.js";import"./sorting.c6946657.js";import"./useFormControl.f97c89bf.js";function it(t){return ne("MuiListSubheader",t)}le("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const nt=["className","color","component","disableGutters","disableSticky","inset"],lt=t=>{const{classes:e,color:n,disableGutters:l,inset:s,disableSticky:o}=t,c={root:["root",n!=="default"&&`color${ce(n)}`,!l&&"gutters",s&&"inset",!o&&"sticky"]};return he(c,it,e)},st=se("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${ce(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>F({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:t.palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})),ct=b.exports.forwardRef(function(e,n){const l=oe({props:e,name:"MuiListSubheader"}),{className:s,color:o="default",component:c="li",disableGutters:h=!1,disableSticky:m=!1,inset:f=!1}=l,g=de(l,nt),a=F({},l,{color:o,component:c,disableGutters:h,disableSticky:m,inset:f}),i=lt(a);return r(st,F({as:c,className:ue(i.root,s),ref:n,ownerState:a},g))});var j=ct;const ot=b.exports.createContext();var ae=ot;function dt(t){return ne("MuiGrid",t)}const ht=[0,1,2,3,4,5,6,7,8,9,10],ut=["column-reverse","column","row-reverse","row"],pt=["nowrap","wrap-reverse","wrap"],P=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Q=le("MuiGrid",["root","container","item","zeroMinWidth",...ht.map(t=>`spacing-xs-${t}`),...ut.map(t=>`direction-xs-${t}`),...pt.map(t=>`wrap-xs-${t}`),...P.map(t=>`grid-xs-${t}`),...P.map(t=>`grid-sm-${t}`),...P.map(t=>`grid-md-${t}`),...P.map(t=>`grid-lg-${t}`),...P.map(t=>`grid-xl-${t}`)]),mt=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function W(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function ft({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((l,s)=>{let o={};if(e[s]&&(n=e[s]),!n)return l;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=B({values:e.columns,breakpoints:t.breakpoints.values}),h=typeof c=="object"?c[s]:c;if(h==null)return l;const m=`${Math.round(n/h*1e8)/1e6}%`;let f={};if(e.container&&e.item&&e.columnSpacing!==0){const g=t.spacing(e.columnSpacing);if(g!=="0px"){const a=`calc(${m} + ${W(g)})`;f={flexBasis:a,maxWidth:a}}}o=F({flexBasis:m,flexGrow:0,maxWidth:m},f)}return t.breakpoints.values[s]===0?Object.assign(l,o):l[t.breakpoints.up(s)]=o,l},{})}function gt({theme:t,ownerState:e}){const n=B({values:e.direction,breakpoints:t.breakpoints.values});return q({theme:t},n,l=>{const s={flexDirection:l};return l.indexOf("column")===0&&(s[`& > .${Q.item}`]={maxWidth:"none"}),s})}function St({theme:t,ownerState:e}){const{container:n,rowSpacing:l}=e;let s={};if(n&&l!==0){const o=B({values:l,breakpoints:t.breakpoints.values});s=q({theme:t},o,c=>{const h=t.spacing(c);return h!=="0px"?{marginTop:`-${W(h)}`,[`& > .${Q.item}`]:{paddingTop:W(h)}}:{}})}return s}function bt({theme:t,ownerState:e}){const{container:n,columnSpacing:l}=e;let s={};if(n&&l!==0){const o=B({values:l,breakpoints:t.breakpoints.values});s=q({theme:t},o,c=>{const h=t.spacing(c);return h!=="0px"?{width:`calc(100% + ${W(h)})`,marginLeft:`-${W(h)}`,[`& > .${Q.item}`]:{paddingLeft:W(h)}}:{}})}return s}function ye(t,e,n={}){if(!e||!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]||`spacing-xs-${String(t)}`];const{xs:l,sm:s,md:o,lg:c,xl:h}=t;return[Number(l)>0&&(n[`spacing-xs-${String(l)}`]||`spacing-xs-${String(l)}`),Number(s)>0&&(n[`spacing-sm-${String(s)}`]||`spacing-sm-${String(s)}`),Number(o)>0&&(n[`spacing-md-${String(o)}`]||`spacing-md-${String(o)}`),Number(c)>0&&(n[`spacing-lg-${String(c)}`]||`spacing-lg-${String(c)}`),Number(h)>0&&(n[`spacing-xl-${String(h)}`]||`spacing-xl-${String(h)}`)]}const yt=se("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{container:n,direction:l,item:s,lg:o,md:c,sm:h,spacing:m,wrap:f,xl:g,xs:a,zeroMinWidth:i}=t.ownerState;return[e.root,n&&e.container,s&&e.item,i&&e.zeroMinWidth,...ye(m,n,e),l!=="row"&&e[`direction-xs-${String(l)}`],f!=="wrap"&&e[`wrap-xs-${String(f)}`],a!==!1&&e[`grid-xs-${String(a)}`],h!==!1&&e[`grid-sm-${String(h)}`],c!==!1&&e[`grid-md-${String(c)}`],o!==!1&&e[`grid-lg-${String(o)}`],g!==!1&&e[`grid-xl-${String(g)}`]]}})(({ownerState:t})=>F({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap==="nowrap"&&{flexWrap:"nowrap"},t.wrap==="reverse"&&{flexWrap:"wrap-reverse"}),gt,St,bt,ft),Ct=t=>{const{classes:e,container:n,direction:l,item:s,lg:o,md:c,sm:h,spacing:m,wrap:f,xl:g,xs:a,zeroMinWidth:i}=t,d={root:["root",n&&"container",s&&"item",i&&"zeroMinWidth",...ye(m,n),l!=="row"&&`direction-xs-${String(l)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,a!==!1&&`grid-xs-${String(a)}`,h!==!1&&`grid-sm-${String(h)}`,c!==!1&&`grid-md-${String(c)}`,o!==!1&&`grid-lg-${String(o)}`,g!==!1&&`grid-xl-${String(g)}`]};return he(d,dt,e)},xt=b.exports.forwardRef(function(e,n){const l=oe({props:e,name:"MuiGrid"}),s=Ne(l),{className:o,columns:c,columnSpacing:h,component:m="div",container:f=!1,direction:g="row",item:a=!1,lg:i=!1,md:d=!1,rowSpacing:C,sm:w=!1,spacing:R=0,wrap:Fe="wrap",xl:Te=!1,xs:$e=!1,zeroMinWidth:Me=!1}=s,We=de(s,mt),Re=C||R,Pe=h||R,Ie=b.exports.useContext(ae),z=c||Ie||12,ee=F({},s,{columns:z,container:f,direction:g,item:a,lg:i,md:d,sm:w,rowSpacing:Re,columnSpacing:Pe,wrap:Fe,xl:Te,xs:$e,zeroMinWidth:Me}),ke=Ct(ee);return(te=>z!==12?r(ae.Provider,{value:z,children:te}):te)(r(yt,F({ownerState:ee,className:ue(ke.root,o),as:m,ref:n},We)))});var $=xt;function vt(){return De.filter(t=>!!t.researchManufacturer||!!t.researchStrategyTypes||!!t.researchTacticTypes)}function wt(t,e){const n=[],l=[],s=[],o=[];return t.forEach(c=>{const h=Ae(c,e);if(h.length>0){l.push({shipDefinition:c,modules:h});return}if(pe(c.id,e)){s.push(c);return}if(me(c.id,e)){n.push(c);return}o.push(c)}),{wantedShips:n.sort((c,h)=>y(c).localeCompare(y(h))),shipsWithWantedModule:l.sort((c,h)=>y(c.shipDefinition).localeCompare(y(h.shipDefinition))),possessedShips:s.sort((c,h)=>y(c).localeCompare(y(h))),remainingShips:o.sort((c,h)=>y(c).localeCompare(y(h)))}}function Ft(){const t=[k.NOMA_SHIPPING_GROUP,k.JUPITER_INDUSTRIES,k.ANTONIOS_CONSORTIUM,k.DAWN_ACCORD,null],e=[N.OUTSTANDING_FIREPOWER,N.SUSTAINED_COMBAT,N.STRATEGY_AND_SUPPORT,N.FIGHTER_AND_CORVETTE,null],n=[V.PROJECTILE_WEAPONS,V.DIRECT_FIRE_WEAPONS,null];return t.flatMap(l=>e.flatMap(s=>n.map(o=>({shipId:null,manufacturerFilter:l,strategyTypeFilter:s,tacticTypeFilter:o}))))}let Tt=0;function $t(t,e,n){const l=e.filter(i=>!(t.manufacturerFilter!==null&&i.researchManufacturer!==t.manufacturerFilter||t.strategyTypeFilter!==null&&i.researchStrategyTypes&&!i.researchStrategyTypes.includes(t.strategyTypeFilter)||t.tacticTypeFilter!==null&&i.researchTacticTypes&&!i.researchTacticTypes.includes(t.tacticTypeFilter))),s=l.reduce((i,d)=>i+d.weight,0),o=l.map(i=>{const d=pe(i.id,n),C=i.weight/s,w=_e(i,n);return{shipDefinition:i,chance:C,formula:`${i.weight} / ${s}`,possessed:d,wished:me(i.id,n),unwished:Oe(i.id,n),modules:w.map(R=>({module:R,chance:C/w.length,formula:`${Rt(C)} / ${w.length}`,wished:Ge(R.id,i.id,n)}))}});let c=0,h=0,m=0,f=0,g=0;o.forEach(i=>{if(i.possessed){if(i.modules.length>0){h+=i.chance,i.modules.find(d=>d.wished)&&(m+=i.chance);return}g+=i.chance;return}else{c+=i.chance,i.wished&&(m+=i.chance),i.unwished&&(f+=i.chance);return}});const a=Object.values(Le).map(i=>{const d=i;return{shipType:d,chance:o.filter(C=>C.shipDefinition.type===d).map(C=>C.chance).reduce((C,w)=>C+w,0)}}).filter(i=>i.chance>0);return{id:`${Tt++}`,filterState:t,shipChances:o,shipTypeChances:a,totalShipChance:c,totalModuleChance:h,wishedShipChance:m,unwishedShipChance:f,techPointChance:g}}function Mt(t){var e,n,l;return`${(e=t.manufacturerFilter)!=null?e:"null"}.${(n=t.strategyTypeFilter)!=null?n:"null"}.${(l=t.tacticTypeFilter)!=null?l:"null"}`}function Wt(t,e){if(e.shipId!==null)return t.filter(s=>!s.filterState.manufacturerFilter&&!s.filterState.strategyTypeFilter&&!s.filterState.tacticTypeFilter?!1:s.shipChances.find(o=>o.shipDefinition.id===e.shipId)).sort((s,o)=>{var m,f,g,a;const c=(f=(m=s.shipChances.find(i=>i.shipDefinition.id===e.shipId))==null?void 0:m.chance)!=null?f:0;return((a=(g=o.shipChances.find(i=>i.shipDefinition.id===e.shipId))==null?void 0:g.chance)!=null?a:0)-c});const n=[],l=t.filter(s=>e.manufacturerFilter!==null&&s.filterState.manufacturerFilter!==e.manufacturerFilter||e.strategyTypeFilter!==null&&s.filterState.strategyTypeFilter!==e.strategyTypeFilter||e.tacticTypeFilter!==null&&s.filterState.tacticTypeFilter!==e.tacticTypeFilter||!s.filterState.manufacturerFilter&&!s.filterState.strategyTypeFilter&&!s.filterState.tacticTypeFilter?!1:s.filterState.manufacturerFilter===e.manufacturerFilter&&s.filterState.strategyTypeFilter===e.strategyTypeFilter&&s.filterState.tacticTypeFilter===e.tacticTypeFilter?(n.push(s),!1):s);return[...n,...l]}function Rt(t){return`${Number((t*100).toFixed(3))} %`}const Pt=t=>{const{configurations:e,filterState:n,onClickConfiguration:l}=t,{table:s,setTableData:o}=Xe(),c=Be(),m=ze(c.breakpoints.down("sm"))?"38px":"50px",f=n.shipId;return b.exports.useEffect(()=>{const g={columns:[{id:"filter",renderHeader:()=>u("label.researchDirection"),renderCell:a=>S(v,{sx:{minWidth:"120px"},children:[a.filterState.manufacturerFilter&&r(p,{variant:"body2",children:r(D,{onClick:()=>l(a),children:J(a.filterState.manufacturerFilter)})}),a.filterState.strategyTypeFilter&&r(p,{variant:"body2",children:r(D,{onClick:()=>l(a),children:Z(a.filterState.strategyTypeFilter)})}),a.filterState.tacticTypeFilter&&r(p,{variant:"body2",children:r(D,{onClick:()=>l(a),children:K(a.filterState.tacticTypeFilter)})}),!a.filterState.manufacturerFilter&&!a.filterState.strategyTypeFilter&&!a.filterState.tacticTypeFilter&&r(p,{variant:"body2",children:r(D,{onClick:()=>l(a),children:u("label.notSelected")})})]})},...f?[{id:"selectedShipChance",renderHeader:()=>u("label.selectedShip"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(U(a,f))})}),sortFn:[(a,i)=>U(a,f)-U(i,f),(a,i)=>a.totalShipChance-i.totalShipChance,(a,i)=>i.techPointChance-a.techPointChance,(a,i)=>a.wishedShipChance-i.wishedShipChance,(a,i)=>i.unwishedShipChance-a.unwishedShipChance]}]:[],{id:"totalShipChance",renderHeader:()=>u("label.newShip"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(a.totalShipChance)})}),sortFn:[(a,i)=>a.totalShipChance-i.totalShipChance,(a,i)=>i.techPointChance-a.techPointChance,(a,i)=>a.wishedShipChance-i.wishedShipChance,(a,i)=>i.unwishedShipChance-a.unwishedShipChance]},{id:"totalModuleChance",renderHeader:()=>u("label.additionalSystemModule"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(a.totalModuleChance)})}),sortFn:[(a,i)=>a.totalModuleChance-i.totalModuleChance,(a,i)=>a.totalShipChance-i.totalShipChance,(a,i)=>i.techPointChance-a.techPointChance,(a,i)=>a.wishedShipChance-i.wishedShipChance,(a,i)=>i.unwishedShipChance-a.unwishedShipChance]},{id:"techPointChance",renderHeader:()=>u("label.techPoints"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(a.techPointChance)})}),sortFn:[(a,i)=>a.techPointChance-i.techPointChance,(a,i)=>i.totalShipChance-a.totalShipChance,(a,i)=>i.wishedShipChance-a.wishedShipChance,(a,i)=>a.unwishedShipChance-i.unwishedShipChance]},{id:"wishedShipChance",renderHeader:()=>u("label.wantedBlueprint"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(a.wishedShipChance)})}),sortFn:[(a,i)=>a.wishedShipChance-i.wishedShipChance,(a,i)=>i.techPointChance-a.techPointChance,(a,i)=>a.totalShipChance-i.totalShipChance,(a,i)=>i.unwishedShipChance-a.unwishedShipChance]},{id:"unwishedShipChance",renderHeader:()=>u("label.unwantedBlueprint"),renderCell:a=>r(v,{sx:{minWidth:m},children:r(p,{variant:"body2",children:M(a.unwishedShipChance)})}),sortFn:[(a,i)=>a.unwishedShipChance-i.unwishedShipChance,(a,i)=>i.totalShipChance-a.totalShipChance,(a,i)=>i.wishedShipChance-a.wishedShipChance,(a,i)=>a.techPointChance-i.techPointChance]}],data:e,rowIdFn:a=>Mt(a.filterState)};o(g)},[o,e,f,l,m]),r(Ye,{table:s,size:"small"})};function M(t){return`${Number((t*100).toFixed(2))} %`}function U(t,e){var n,l;return(l=(n=t.shipChances.find(s=>s.shipDefinition.id===e))==null?void 0:n.chance)!=null?l:0}const It=t=>{const{shipDefinition:e}=t,{openShipDetailDialog:n}=Ee();return r(p,{variant:"body2",component:"span",children:r(D,{onClick:()=>{n(e.id)},children:y(e)})})},Ce=t=>{const{configuration:e}=t,{userSettings:n}=je();return r(Ue,{rows:[{key:`${e.id}.wishedShipChance`,label:u("label.wantedBlueprint"),value:I(e.wishedShipChance),separatorAfter:!0},...e.techPointChance>0?[{key:`${e.id}.techPointChance`,label:r(p,{variant:"body2",sx:e.techPointChance>0?{color:"red"}:void 0,children:u("label.techPoints")}),value:r(p,{variant:"body2",sx:e.techPointChance>0?{color:"red"}:void 0,children:I(e.techPointChance)}),separatorAfter:!0}]:[],...e.shipChances.flatMap(l=>{const s=l.possessed&&l.modules.length>0,o=l.wished||Ve(l.shipDefinition.id,n);return[{key:`${e.id}.${l.shipDefinition.id}`,label:S(A,{children:[r(It,{shipDefinition:l.shipDefinition}),H()&&r("span",{children:"\xA0"}),s&&r(p,{variant:"body2",component:"span",children:u("label.additionalSystemModuleBrackets")}),!s&&l.possessed&&r(p,{variant:"body2",component:"span",children:u("label.techPointsBrackets")}),o&&r(_,{arrow:!0,disableFocusListener:!0,title:`${u("label.wantedBlueprint")}`,children:r(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:r(_,{arrow:!0,disableFocusListener:!0,title:S(A,{children:[r(p,{variant:"body2",gutterBottom:!0,children:`[${u("label.probabilityWeight")}] / [${u("label.total")}]`}),r(p,{variant:"body2",children:l.formula})]}),children:r(p,{variant:"body2",sx:{color:!s&&l.possessed?"red":void 0},children:I(l.chance)})})},...s?l.modules.map(c=>({key:`${e.id}.${l.shipDefinition.id}.${c.module.id}`,label:S(A,{children:[r(p,{variant:"body2",component:"span",color:"text.secondary",sx:{opacity:.5},children:"\u2517"}),H()&&r("span",{children:"\xA0"}),r(p,{variant:"body2",component:"span",color:"text.secondary",children:`${c.module.category}${c.module.categoryNumber} ${He(l.shipDefinition.id,c.module)}`}),c.wished&&r(_,{arrow:!0,disableFocusListener:!0,title:`${u("label.wantedAdditionalSystemModule")}`,children:r(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})})]}),value:r(_,{arrow:!0,disableFocusListener:!0,title:S(A,{children:[r(p,{variant:"body2",gutterBottom:!0,children:`[${u("label.shipProbability")}] / [${u("label.remainingAdditionalSystemModules")}]`}),r(p,{variant:"body2",children:c.formula})]}),children:r(p,{variant:"body2",color:"text.secondary",children:I(c.chance)})})})):[]]}),...e.shipTypeChances.map((l,s)=>({key:`${e.id}.${l.shipType}`,label:qe(l.shipType),value:I(l.chance),separatorBefore:s===0}))],rowGap:1})};function I(t){return`${Number((t*100).toFixed(3))} %`}const xe=t=>{var l,s;const{configuration:e,filterState:n}=t;return S(p,{variant:"body2",children:[[...e.filterState.manufacturerFilter!==null?[J(e.filterState.manufacturerFilter)]:[],...e.filterState.strategyTypeFilter!==null?[Z(e.filterState.strategyTypeFilter)]:[],...e.filterState.tacticTypeFilter!==null?[K(e.filterState.tacticTypeFilter)]:[],...!e.filterState.manufacturerFilter&&!e.filterState.strategyTypeFilter&&!e.filterState.tacticTypeFilter?[u("label.notSelected")]:[]].map(o=>`\u300C${o}\u300D`).join("+"),n.shipId===null&&e.wishedShipChance>0&&r(_,{arrow:!0,disableFocusListener:!0,title:`${u("label.probabilityForWantedBlueprintColon")}${ie(e.wishedShipChance)}`,children:r(p,{variant:"body2",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})}),n.shipId!==null&&r(p,{variant:"body2",component:"span",children:`\u3000\u21D2\u3000${ie((s=(l=e.shipChances.find(o=>o.shipDefinition.id===n.shipId))==null?void 0:l.chance)!=null?s:0)}`})]})};function ie(t){return`${Number((t*100).toFixed(3))} %`}const kt=t=>{const{configurations:e,filterState:n}=t,l=!!n.manufacturerFilter||!!n.strategyTypeFilter||!!n.tacticTypeFilter;return r(et,{expandables:e.map(s=>({id:s.id,initiallyOpened:l,summary:r(xe,{configuration:s,filterState:n}),details:r(Ce,{configuration:s})})),unmount:!0})};var X={},Nt=ge.exports;Object.defineProperty(X,"__esModule",{value:!0});var ve=X.default=void 0,Dt=Nt(fe),At=Se,_t=(0,Dt.default)((0,At.jsx)("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");ve=X.default=_t;var Y={},Ot=ge.exports;Object.defineProperty(Y,"__esModule",{value:!0});var we=Y.default=void 0,Gt=Ot(fe),Lt=Se,Bt=(0,Gt.default)((0,Lt.jsx)("path",{d:"M21 8H3V4h18v4zm0 2H3v4h18v-4zm0 6H3v4h18v-4z"}),"TableRows");we=Y.default=Bt;const zt=t=>{const{mode:e,onChange:n}=t;return S(tt,{value:e,exclusive:!0,onChange:(s,o)=>{n(o)},size:"small","aria-label":"view mode",children:[r(re,{value:"ships","aria-label":"ships",children:r(ve,{})}),r(re,{value:"table","aria-label":"table",children:r(we,{})})]})},Et=t=>{var f,g,a,i;const{filterState:e,shipFilterOptions:n,onChange:l}=t,s=d=>{l({...e,shipId:d.target.value===""?null:d.target.value,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})},o=d=>{l({...e,shipId:null,manufacturerFilter:d.target.value===""?null:d.target.value})},c=d=>{l({...e,shipId:null,strategyTypeFilter:d.target.value===""?null:d.target.value})},h=d=>{l({...e,shipId:null,tacticTypeFilter:d.target.value===""?null:d.target.value})},m=()=>{l({...e,shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null})};return S($,{container:!0,spacing:2,children:[r($,{item:!0,xs:12,sm:8,md:4,children:S(O,{fullWidth:!0,size:"small",children:[r(G,{id:"manufacturer-select-label",children:u("label.researchManufacturer")}),S(L,{labelId:"manufacturer-select-label",value:(f=e.manufacturerFilter)!=null?f:"",label:u("label.researchManufacturer"),onChange:o,children:[r(x,{value:"",children:u("label.notSelected")}),r(T,{}),Object.values(k).map(d=>r(x,{value:d,children:J(d)},d))]})]})}),r($,{item:!0,xs:12,sm:8,md:4,children:S(O,{fullWidth:!0,size:"small",children:[r(G,{id:"strategy-select-label",children:u("label.researchStrategyType")}),S(L,{labelId:"strategy-select-label",value:(g=e.strategyTypeFilter)!=null?g:"",label:u("label.researchStrategyType"),onChange:c,children:[r(x,{value:"",children:u("label.notSelected")}),r(T,{}),Object.values(N).map(d=>r(x,{value:d,children:Z(d)},d))]})]})}),r($,{item:!0,xs:12,sm:8,md:4,children:S(O,{fullWidth:!0,size:"small",children:[r(G,{id:"tactics-select-label",children:u("label.researchTacticType")}),S(L,{labelId:"tactics-select-label",value:(a=e.tacticTypeFilter)!=null?a:"",label:u("label.researchTacticType"),onChange:h,children:[r(x,{value:"",children:u("label.notSelected")}),r(T,{}),Object.values(V).map(d=>r(x,{value:d,children:K(d)},d))]})]})}),r($,{item:!0,xs:12,sm:8,children:S(O,{fullWidth:!0,size:"small",children:[r(G,{id:"ship-select-label",children:u("label.ship")}),S(L,{labelId:"ship-select-label",value:(i=e.shipId)!=null?i:"",label:u("label.ship"),onChange:s,children:[r(x,{value:"",children:u("label.notSelected")}),n.wantedShips.length+n.shipsWithWantedModule.length>0&&r(T,{}),n.wantedShips.length+n.shipsWithWantedModule.length>0&&r(j,{disableSticky:!0,children:u("label.wantedBlueprintColon")}),n.wantedShips.map(d=>S(x,{value:d.id,children:[y(d),r(p,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},d.id)),n.shipsWithWantedModule.map(({shipDefinition:d,modules:C})=>S(x,{value:d.id,children:[y(d),H()&&r("span",{children:"\xA0"}),u("label.additionalSystemModuleBrackets"),r(p,{variant:"body1",component:"span",sx:{color:"#ffc107",marginLeft:"4px"},children:"\u2605"})]},d.id)),n.remainingShips.length>0&&r(T,{}),n.remainingShips.length>0&&r(j,{disableSticky:!0,children:u("label.acquirableBlueprintColon")}),n.remainingShips.map(d=>r(x,{value:d.id,children:y(d)},d.id)),n.possessedShips.length>0&&r(T,{}),n.possessedShips.length>0&&r(j,{disableSticky:!0,children:u("label.acquiredBlueprintColon")}),n.possessedShips.map(d=>r(x,{value:d.id,children:y(d)},d.id))]})]})}),r($,{item:!0,xs:12,sm:4,sx:{display:"flex",justifyContent:"end"},children:r(be,{variant:"outlined",onClick:m,children:u("button.reset")})})]})},jt=b.exports.memo(Pt),Ut=b.exports.memo(kt),ar=()=>{const[t,e]=b.exports.useState("ships"),n=b.exports.useMemo(()=>vt(),[]),l=b.exports.useMemo(()=>Je(),[]),s=b.exports.useMemo(()=>Ft(),[]),o=b.exports.useMemo(()=>s.map(i=>$t(i,n,l)),[s,n]),c=b.exports.useMemo(()=>wt(n,l),[n,l]),[h,m]=b.exports.useState({shipId:null,manufacturerFilter:null,strategyTypeFilter:null,tacticTypeFilter:null}),f=b.exports.useMemo(()=>Wt(o,h),[o,h]),[g,a]=b.exports.useState(null);return S(A,{children:[r(Ke,{currentRoute:"/researchAgreement"}),r(Qe,{children:r(v,{p:1,children:S(E,{spacing:1,children:[S(E,{pt:1,pb:1,spacing:2,children:[r(p,{variant:"body2",children:u("researchAgreement.pageDescription1")}),r(p,{variant:"body2",children:u("researchAgreement.pageDescription2")}),r(p,{variant:"body2",children:u("researchAgreement.pageDescription3")})]}),r(Ze,{children:r(v,{p:2,children:S(E,{spacing:2,children:[r(p,{variant:"body2",children:u("label.researchDirection")}),r("div",{children:r(Et,{filterState:h,onChange:m,shipFilterOptions:c})}),r(v,{sx:{display:"flex",justifyContent:"end"},children:r(zt,{mode:t,onChange:e})})]})})}),t==="ships"&&r(Ut,{configurations:f,filterState:h})]})})}),t==="table"&&r(v,{p:1,children:r(jt,{configurations:f,filterState:h,onClickConfiguration:a})}),g&&r(rt,{maxWidth:"sm",title:r(xe,{configuration:g,filterState:h}),content:r(Ce,{configuration:g}),actions:r(be,{variant:"outlined",onClick:()=>a(null),children:u("button.close")}),onClose:()=>a(null)}),r(at,{disableContainer:t==="table"})]})};export{ar as ResearchAgreementPage,ar as default};

import{L as o,N as E,P as S}from"./PageContent.542397fb.js";import{E as T}from"./ExpandStack.cd4043a0.js";import{r as s,z as b,j as i,w as n,q as m,k as e,T as r,t as a,B as U,au as y,F as w,aA as h}from"./index.42651cfe.js";import{g,a as C,b as P}from"./examplesMaps.adafb4ee.js";import{T as G}from"./TextField.18be78c4.js";import{c as v}from"./MenuItem.25db7722.js";import{P as O}from"./PageFooter.893702ae.js";import"./Select.581776f8.js";import"./useFormControl.89e38bd0.js";function k(l){try{return new URL(l),!0}catch{return!1}}const L=()=>{const[l,d]=s.exports.useState(()=>window.localStorage.getItem("lastMapUrl")||g().fullMapExample.url),[c,u]=s.exports.useState(null),[p,t]=s.exports.useState(!1),M=b(),f=()=>{if(!k(l)){u(!1),t(!0);return}M(y.mapSelected.createPath({d:window.btoa(l)}))};return i(n,{spacing:1,children:[i(m,{component:"div",pb:3,children:[e(r,{variant:"body1",children:"URL"}),i(n,{direction:"row",spacing:1,children:[e(m,{component:"div",sx:{flexGrow:1},children:e(G,{id:"url-input",variant:"outlined",value:l,onChange:x=>{t(!1),d(x.target.value)},error:p&&!c,helperText:p&&!c?a("mapEdit.invalidUrl"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(U,{variant:"outlined",onClick:f,disabled:l.length===0,children:a("mapEdit.loadAndOpenMap")})})]})]}),e(r,{variant:"body1",children:a("mapEdit.mapUrlSpecColon")}),e(m,{component:"div",p:2,sx:{border:"1px solid rgba(128,128,128,0.5)",borderRadius:"8px"},children:i(n,{direction:"row",spacing:1,children:[i(n,{spacing:1,sx:{flexGrow:1},children:[e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.loadMapSpec")}),i(v,{dense:!0,sx:{listStyleType:"disc",pt:0,pl:3,"& .MuiListItem-root":{display:"list-item"}},children:[e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:"HTTP Method: OPTION, GET"})}),e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:"Content-Type: text/plain"})}),e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.corsHeader")})})]})]}),i(n,{spacing:1,sx:{flexGrow:1},children:[e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.saveMapSpec")}),i(v,{dense:!0,sx:{listStyleType:"disc",pt:0,pl:3,"& .MuiListItem-root":{display:"list-item"}},children:[e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:"HTTP Method: OPTION, PUT"})}),e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:"Content-Type: text/plain"})}),e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.corsHeader")})}),e(o,{disableGutters:!0,children:e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.editKeySpec")})})]})]})]})})]})},D=()=>{const l=b(),d=t=>{l(y.mapSelected.createPath({d:window.btoa(t)}))},c=s.exports.useMemo(()=>Object.values(g()),[]),u=s.exports.useMemo(()=>C(),[]),p=s.exports.useMemo(()=>Object.values(P()).reverse(),[]);return i(w,{children:[e(E,{currentRoute:y.map.path}),e(S,{children:i(m,{component:"div",p:1,children:[i(n,{pt:1,pb:2,spacing:2,children:[e(r,{variant:"body2",children:a("mapEdit.pageDescription1")}),e(r,{variant:"body2",children:a("mapEdit.pageDescription2")})]}),e(T,{expandables:[{id:"load",summary:a("mapEdit.openExternalMap"),details:e(L,{}),initiallyOpened:!1},{id:"examples",summary:a("mapEdit.openExampleMap"),details:e(n,{spacing:1,children:c.map(t=>e(h,{onClick:()=>d(t.url),children:t.name},t.url))}),initiallyOpened:!1},{id:"empty",summary:a("mapEdit.openEmptyMap"),details:i(n,{spacing:1,children:[u.map(t=>e(h,{onClick:()=>d(t.url),children:t.name},t.url)),e(r,{variant:"body2",color:"text.secondary",children:a("mapEdit.sizeCanBeAdjustedBrackets")})]}),initiallyOpened:!1},{id:"serverResults",summary:a("mapEdit.openServerResultMap"),details:e(n,{spacing:1,children:p.map(t=>e(h,{onClick:()=>d(t.url),children:t.name},t.url))}),initiallyOpened:!1}]})]})}),e(O,{})]})};export{D as default};

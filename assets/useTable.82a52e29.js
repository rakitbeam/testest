var z=Object.defineProperty,A=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var v=(n,t,r)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,u=(n,t)=>{for(var r in t||(t={}))N.call(t,r)&&v(n,r,t[r]);if(j)for(var r of j(t))P.call(t,r)&&v(n,r,t[r]);return n},b=(n,t)=>A(n,M(t));import{D as I,t as U,c as q,s as _}from"./sorting.c6946657.js";import{j as s,a3 as G,t as J,b as K,a4 as Q,a5 as V,a6 as H,a7 as $,a8 as W,T as w,F as g,a9 as X,r as T}from"./vendor.4663e7d5.js";const D=n=>{const{table:t,size:r="medium"}=n;return s(G,{component:J,children:K(Q,{size:r,children:[s(V,{children:s(H,{children:t.header.map(o=>{var c,e;return s($,{sortDirection:(c=o.sortDirection)!=null?c:!1,children:o.toggleSort?s(W,{active:!!o.sortDirection,direction:(e=o.sortDirection)!=null?e:I,onClick:o.toggleSort,children:typeof o.content=="string"?s(w,{variant:"body2",children:o.content}):s(g,{children:o.content})}):s(g,{children:typeof o.content=="string"?s(w,{variant:"body2",children:o.content}):s(g,{children:o.content})})},o.id)})})}),s(X,{children:t.rows.map(o=>s(H,{children:o.cells.map(c=>s($,{component:"th",scope:"row",children:typeof c.content=="string"?s(w,{variant:"body2",children:c.content}):s(g,{children:c.content})},c.id))},o.id))})]})})};function k(n,t,r,o){if(!n.sortFn)return{id:`header_${n.id}`,content:n.renderHeader(null,null),sortDirection:null,toggleSort:null};const c=()=>{o(n.id,n.id===t?U(r):I)},e=n.id===t?r:null;return{id:`header_${n.id}`,content:n.renderHeader(e,c),sortDirection:e,toggleSort:c}}function B(n,t){return n.data.map(r=>({id:n.rowIdFn(r),cells:t.map(o=>({id:`${n.rowIdFn(r)}_${o.id}`,content:o.renderCell(r)}))}))}const rr=()=>{const[n,t]=T.exports.useState({header:[],rows:[],sortBy:null,sortDirection:null}),r=T.exports.useRef(null),o=T.exports.useCallback(e=>{var p,i;const a=((p=r.current)==null?void 0:p.columns)!==e.columns,d=((i=r.current)==null?void 0:i.data)!==e.data;!a&&!d||(r.current=u(u({},r.current),e),t(l=>{var y,F,f,x,R;const{initialSortBy:E,initialSortDirection:L}=q(e.columns),m=(F=(y=l.sortBy)!=null?y:E)!=null?F:null,h=(f=l.sortDirection)!=null?f:L,O=(R=(x=e.columns.find(S=>S.id===m))==null?void 0:x.sortFn)!=null?R:null;return b(u({},l),{header:a?e.columns.map(S=>k(S,m,h,c)):l.header,rows:a||d?B(_(e,O,h),e.columns):l.rows,sortBy:m,sortDirection:h})}))},[]),c=T.exports.useCallback((e,a)=>{var d;if(r.current){const p=(d=r.current.columns.find(i=>i.id===e))==null?void 0:d.sortFn;t(b(u({},n),{header:r.current.columns.map(i=>k(i,e,a,c)),rows:B(_(r.current,p,a),r.current.columns),sortBy:e,sortDirection:a}))}},[n,r]);return{table:n,setTableData:o,setSorting:c}};export{D as T,rr as u};

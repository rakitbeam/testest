import{I as De,N as ut,P as dt}from"./PageContent.6ae9ec91.js";import{P as pt}from"./PageFooter.0365cf31.js";import{A as mt,C as tt,r as c,J as Y,j as B,k as i,H as ft,bq as ht,ah as qe,ap as vt,av as Oe,at as Me,b0 as R,a_ as gt,I as bt,b1 as Z,ar as Ae,_ as I,D as se,K as j,aX as xt,aW as kt,N as Ye,b7 as ot,O as yt,ai as St,G as It,P as at,Q as nt,R as rt,aa as wt,w as Ce,q as re,F as Be,B as He,t as Le}from"./index.9ed97100.js";import{d as Ct}from"./Delete.ee7941f9.js";import{A as Lt}from"./ActionBar.518d7721.js";const $t={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var Rt=$t;function fe(e){return mt("MuiSlider",e)}const Pt=tt("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var Ne=Pt;const Tt=e=>{const{open:t}=e;return{offset:Y(t&&Ne.valueLabelOpen),circle:Ne.valueLabelCircle,label:Ne.valueLabelLabel}};function st(e){const{children:t,className:a,value:o}=e,r=Tt(e);return c.exports.cloneElement(t,{className:Y(t.props.className)},B(c.exports.Fragment,{children:[t.props.children,i("span",{className:Y(r.offset,a),"aria-hidden":!0,children:i("span",{className:r.circle,children:i("span",{className:r.label,children:o})})})]}))}const Mt=2;function lt(e,t){return e-t}function me(e,t,a){return e==null?t:Math.min(Math.max(t,e),a)}function Xe(e,t){var a;const{index:o}=(a=e.reduce((r,f,y)=>{const d=Math.abs(t-f);return r===null||d<r.distance||d===r.distance?{distance:d,index:y}:r},null))!=null?a:{};return o}function $e(e,t){if(t.current!==void 0&&e.changedTouches){const a=e;for(let o=0;o<a.changedTouches.length;o+=1){const r=a.changedTouches[o];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function _e(e,t,a){return(e-t)*100/(a-t)}function At(e,t,a){return(a-t)*e+t}function Nt(e){if(Math.abs(e)<1){const a=e.toExponential().split("e-"),o=a[0].split(".")[1];return(o?o.length:0)+parseInt(a[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function _t(e,t,a){const o=Math.round((e-a)/t)*t+a;return Number(o.toFixed(Nt(t)))}function Ge({values:e,newValue:t,index:a}){const o=e.slice();return o[a]=t,o.sort(lt)}function Re({sliderRef:e,activeIndex:t,setActive:a}){var o,r;const f=Me(e.current);if(!((o=e.current)!=null&&o.contains(f.activeElement))||Number(f==null||(r=f.activeElement)==null?void 0:r.getAttribute("data-index"))!==t){var y;(y=e.current)==null||y.querySelector(`[type="range"][data-index="${t}"]`).focus()}a&&a(t)}const zt={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Ft=e=>e;let Pe;function je(){return Pe===void 0&&(typeof CSS!="undefined"&&typeof CSS.supports=="function"?Pe=CSS.supports("touch-action","none"):Pe=!0),Pe}function Vt(e){const{"aria-labelledby":t,defaultValue:a,disabled:o=!1,disableSwap:r=!1,isRtl:f=!1,marks:y=!1,max:d=100,min:v=0,name:C,onChange:L,onChangeCommitted:P,orientation:T="horizontal",ref:l,scale:p=Ft,step:g=1,tabIndex:E,value:D}=e,U=c.exports.useRef(),[te,_]=c.exports.useState(-1),[q,W]=c.exports.useState(-1),[K,oe]=c.exports.useState(!1),H=c.exports.useRef(0),[M,A]=ft({controlled:D,default:a!=null?a:v,name:"Slider"}),N=L&&((n,s,u)=>{const h=n.nativeEvent||n,m=new h.constructor(h.type,h);Object.defineProperty(m,"target",{writable:!0,value:{value:s,name:C}}),L(m,s,u)}),$=Array.isArray(M);let k=$?M.slice().sort(lt):[M];k=k.map(n=>me(n,v,d));const le=y===!0&&g!==null?[...Array(Math.floor((d-v)/g)+1)].map((n,s)=>({value:v+g*s})):y||[],w=le.map(n=>n.value),{isFocusVisibleRef:ae,onBlur:ze,onFocus:Fe,ref:Ve}=ht(),[he,X]=c.exports.useState(-1),z=c.exports.useRef(),ve=qe(Ve,z),ue=qe(l,ve),Ee=n=>s=>{var u;const h=Number(s.currentTarget.getAttribute("data-index"));Fe(s),ae.current===!0&&X(h),W(h),n==null||(u=n.onFocus)==null||u.call(n,s)},de=n=>s=>{var u;ze(s),ae.current===!1&&X(-1),W(-1),n==null||(u=n.onBlur)==null||u.call(n,s)};vt(()=>{if(o&&z.current.contains(document.activeElement)){var n;(n=document.activeElement)==null||n.blur()}},[o]),o&&te!==-1&&_(-1),o&&he!==-1&&X(-1);const O=n=>s=>{var u;(u=n.onChange)==null||u.call(n,s);const h=Number(s.currentTarget.getAttribute("data-index")),m=k[h],b=w.indexOf(m);let S=s.target.valueAsNumber;if(le&&g==null&&(S=S<m?w[b-1]:w[b+1]),S=me(S,v,d),le&&g==null){const V=w.indexOf(k[h]);S=S<k[h]?w[V-1]:w[V+1]}if($){r&&(S=me(S,k[h-1]||-1/0,k[h+1]||1/0));const V=S;S=Ge({values:k,newValue:S,index:h});let x=h;r||(x=S.indexOf(V)),Re({sliderRef:z,activeIndex:x})}A(S),X(h),N&&N(s,S,h),P&&P(s,S)},ge=c.exports.useRef();let ie=T;f&&T==="horizontal"&&(ie+="-reverse");const F=({finger:n,move:s=!1})=>{const{current:u}=z,{width:h,height:m,bottom:b,left:S}=u.getBoundingClientRect();let V;ie.indexOf("vertical")===0?V=(b-n.y)/m:V=(n.x-S)/h,ie.indexOf("-reverse")!==-1&&(V=1-V);let x;if(x=At(V,v,d),g)x=_t(x,g,v);else{const Ue=Xe(w,x);x=w[Ue]}x=me(x,v,d);let Q=0;if($){s?Q=ge.current:Q=Xe(k,x),r&&(x=me(x,k[Q-1]||-1/0,k[Q+1]||1/0));const Ue=x;x=Ge({values:k,newValue:x,index:Q}),r&&s||(Q=x.indexOf(Ue),ge.current=Q)}return{newValue:x,activeIndex:Q}},G=Oe(n=>{const s=$e(n,U);if(!s)return;if(H.current+=1,n.type==="mousemove"&&n.buttons===0){J(n);return}const{newValue:u,activeIndex:h}=F({finger:s,move:!0});Re({sliderRef:z,activeIndex:h,setActive:_}),A(u),!K&&H.current>Mt&&oe(!0),N&&u!==M&&N(n,u,h)}),J=Oe(n=>{const s=$e(n,U);if(oe(!1),!s)return;const{newValue:u}=F({finger:s,move:!0});_(-1),n.type==="touchend"&&W(-1),P&&P(n,u),U.current=void 0,ne()}),ce=Oe(n=>{if(o)return;je()||n.preventDefault();const s=n.changedTouches[0];s!=null&&(U.current=s.identifier);const u=$e(n,U);if(u!==!1){const{newValue:m,activeIndex:b}=F({finger:u});Re({sliderRef:z,activeIndex:b,setActive:_}),A(m),N&&N(n,m,b)}H.current=0;const h=Me(z.current);h.addEventListener("touchmove",G),h.addEventListener("touchend",J)}),ne=c.exports.useCallback(()=>{const n=Me(z.current);n.removeEventListener("mousemove",G),n.removeEventListener("mouseup",J),n.removeEventListener("touchmove",G),n.removeEventListener("touchend",J)},[J,G]);c.exports.useEffect(()=>{const{current:n}=z;return n.addEventListener("touchstart",ce,{passive:je()}),()=>{n.removeEventListener("touchstart",ce,{passive:je()}),ne()}},[ne,ce]),c.exports.useEffect(()=>{o&&ne()},[o,ne]);const be=n=>s=>{var u;if((u=n.onMouseDown)==null||u.call(n,s),o||s.defaultPrevented||s.button!==0)return;s.preventDefault();const h=$e(s,U);if(h!==!1){const{newValue:b,activeIndex:S}=F({finger:h});Re({sliderRef:z,activeIndex:S,setActive:_}),A(b),N&&N(s,b,S)}H.current=0;const m=Me(z.current);m.addEventListener("mousemove",G),m.addEventListener("mouseup",J)},xe=_e($?k[0]:v,v,d),ke=_e(k[k.length-1],v,d)-xe,pe=(n={})=>{const s={onMouseDown:be(n||{})},u=R({},n,s);return R({ref:ue},u)},ye=n=>s=>{var u;(u=n.onMouseOver)==null||u.call(n,s);const h=Number(s.currentTarget.getAttribute("data-index"));W(h)},Se=n=>s=>{var u;(u=n.onMouseLeave)==null||u.call(n,s),W(-1)};return{active:te,axis:ie,axisProps:zt,dragging:K,focusedThumbIndex:he,getHiddenInputProps:(n={})=>{var s;const u={onChange:O(n||{}),onFocus:Ee(n||{}),onBlur:de(n||{})},h=R({},n,u);return R({tabIndex:E,"aria-labelledby":t,"aria-orientation":T,"aria-valuemax":p(d),"aria-valuemin":p(v),name:C,type:"range",min:e.min,max:e.max,step:(s=e.step)!=null?s:void 0,disabled:o},h,{style:R({},Rt,{direction:f?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:pe,getThumbProps:(n={})=>{const s={onMouseOver:ye(n||{}),onMouseLeave:Se(n||{})};return R({},n,s)},marks:le,open:q,range:$,trackLeap:ke,trackOffset:xe,values:k}}const Et=["aria-label","aria-valuetext","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],Je=e=>e,Ut=e=>{const{disabled:t,dragging:a,marked:o,orientation:r,track:f,classes:y}=e;return bt({root:["root",t&&"disabled",a&&"dragging",o&&"marked",r==="vertical"&&"vertical",f==="inverted"&&"trackInverted",f===!1&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},fe,y)},Dt=({children:e})=>e,Ot=c.exports.forwardRef(function(t,a){var o,r,f,y,d,v,C;const{"aria-label":L,"aria-valuetext":P,className:T,component:l,classes:p,disableSwap:g=!1,disabled:E=!1,getAriaLabel:D,getAriaValueText:U,marks:te=!1,max:_=100,min:q=0,orientation:W="horizontal",scale:K=Je,step:oe=1,track:H="normal",valueLabelDisplay:M="off",valueLabelFormat:A=Je,isRtl:N=!1,components:$={},componentsProps:k={}}=t,le=gt(t,Et),w=R({},t,{marks:te,classes:p,disabled:E,isRtl:N,max:_,min:q,orientation:W,scale:K,step:oe,track:H,valueLabelDisplay:M,valueLabelFormat:A}),{axisProps:ae,getRootProps:ze,getHiddenInputProps:Fe,getThumbProps:Ve,open:he,active:X,axis:z,range:ve,focusedThumbIndex:ue,dragging:Ee,marks:de,values:O,trackOffset:ge,trackLeap:ie}=Vt(R({},w,{ref:a}));w.marked=de.length>0&&de.some(m=>m.label),w.dragging=Ee,w.focusedThumbIndex=ue;const F=Ut(w),G=(o=l!=null?l:$.Root)!=null?o:"span",J=Z({elementType:G,getSlotProps:ze,externalSlotProps:k.root,externalForwardedProps:le,ownerState:w,className:[F.root,T]}),ce=(r=$.Rail)!=null?r:"span",ne=Z({elementType:ce,externalSlotProps:k.rail,ownerState:w,className:F.rail}),be=(f=$.Track)!=null?f:"span",xe=Z({elementType:be,externalSlotProps:k.track,additionalProps:{style:R({},ae[z].offset(ge),ae[z].leap(ie))},ownerState:w,className:F.track}),ke=(y=$.Thumb)!=null?y:"span",pe=Z({elementType:ke,getSlotProps:Ve,externalSlotProps:k.thumb,ownerState:w}),ye=(d=$.ValueLabel)!=null?d:st,Se=Z({elementType:ye,externalSlotProps:k.valueLabel,ownerState:w}),Ie=(v=$.Mark)!=null?v:"span",we=Z({elementType:Ie,externalSlotProps:k.mark,ownerState:w,className:F.mark}),n=(C=$.MarkLabel)!=null?C:"span",s=Z({elementType:n,externalSlotProps:k.markLabel,ownerState:w}),u=$.Input||"input",h=Z({elementType:u,getSlotProps:Fe,externalSlotProps:k.input,ownerState:w});return B(G,R({},J,{children:[i(ce,R({},ne)),i(be,R({},xe)),de.filter(m=>m.value>=q&&m.value<=_).map((m,b)=>{const S=_e(m.value,q,_),V=ae[z].offset(S);let x;return H===!1?x=O.indexOf(m.value)!==-1:x=H==="normal"&&(ve?m.value>=O[0]&&m.value<=O[O.length-1]:m.value<=O[0])||H==="inverted"&&(ve?m.value<=O[0]||m.value>=O[O.length-1]:m.value>=O[0]),B(c.exports.Fragment,{children:[i(Ie,R({"data-index":b},we,!Ae(Ie)&&{markActive:x},{style:R({},V,we.style),className:Y(we.className,x&&F.markActive)})),m.label!=null?i(n,R({"aria-hidden":!0,"data-index":b},s,!Ae(n)&&{markLabelActive:x},{style:R({},V,s.style),className:Y(F.markLabel,s.className,x&&F.markLabelActive),children:m.label})):null]},m.value)}),O.map((m,b)=>{const S=_e(m,q,_),V=ae[z].offset(S),x=M==="off"?Dt:ye;return i(c.exports.Fragment,{children:i(x,R({},!Ae(x)&&{valueLabelFormat:A,valueLabelDisplay:M,value:typeof A=="function"?A(K(m),b):A,index:b,open:he===b||X===b||M==="on",disabled:E},Se,{className:Y(F.valueLabel,Se.className),children:i(ke,R({"data-index":b,"data-focusvisible":ue===b},pe,{className:Y(F.thumb,pe.className,X===b&&F.active,ue===b&&F.focusVisible),style:R({},V,{pointerEvents:g&&X!==b?"none":void 0},pe.style),children:i(u,R({"data-index":b,"aria-label":D?D(b):L,"aria-valuenow":K(m),"aria-valuetext":U?U(K(m),b):P,value:O[b]},h))}))}))},b)})]}))});var Ht=Ot;const jt=e=>!e||!Ae(e);var Te=jt;const Bt=["component","components","componentsProps","color","size"],ee=I({},Ne,tt("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),Wt=se("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`color${j(a.color)}`],a.size!=="medium"&&t[`size${j(a.size)}`],a.marked&&t.marked,a.orientation==="vertical"&&t.vertical,a.track==="inverted"&&t.trackInverted,a.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>I({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&I({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&I({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ee.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ee.dragging}`]:{[`& .${ee.thumb}, & .${ee.track}`]:{transition:"none"}}})),Kt=se("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>I({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),qt=se("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const a=e.palette.mode==="light"?xt(e.palette[t.color].main,.62):kt(e.palette[t.color].main,.5);return I({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:a,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:a})}),Yt=se("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.thumb,t[`thumbColor${j(a.color)}`],a.size!=="medium"&&t[`thumbSize${j(a.size)}`]]}})(({theme:e,ownerState:t})=>I({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":I({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ee.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ye(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ee.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ye(e.palette[t.color].main,.16)}`},[`&.${ee.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Xt=se(st,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>I({[`&.${ee.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Gt=se("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>ot(e)&&e!=="markActive",overridesResolver:(e,t)=>t.mark})(({theme:e,ownerState:t,markActive:a})=>I({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},a&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Jt=se("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>ot(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:a})=>I({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},a&&{color:(e.vars||e).palette.text.primary})),Qt=e=>{const{color:t,size:a,classes:o={}}=e;return I({},o,{root:Y(o.root,fe(`color${j(t)}`),o[`color${j(t)}`],a&&[fe(`size${j(a)}`),o[`size${j(a)}`]]),thumb:Y(o.thumb,fe(`thumbColor${j(t)}`),o[`thumbColor${j(t)}`],a&&[fe(`thumbSize${j(a)}`),o[`thumbSize${j(a)}`]])})},Zt=c.exports.forwardRef(function(t,a){var o,r,f,y;const d=yt({props:t,name:"MuiSlider"}),C=St().direction==="rtl",{component:L="span",components:P={},componentsProps:T={},color:l="primary",size:p="medium"}=d,g=It(d,Bt),E=I({},d,{color:l,size:p}),D=Qt(E);return i(Ht,I({},g,{isRtl:C,components:I({Root:Wt,Rail:Kt,Track:qt,Thumb:Yt,ValueLabel:Xt,Mark:Gt,MarkLabel:Jt},P),componentsProps:I({},T,{root:I({},T.root,Te(P.Root)&&{as:L,ownerState:I({},(o=T.root)==null?void 0:o.ownerState,{color:l,size:p})}),thumb:I({},T.thumb,Te(P.Thumb)&&{ownerState:I({},(r=T.thumb)==null?void 0:r.ownerState,{color:l,size:p})}),track:I({},T.track,Te(P.Track)&&{ownerState:I({},(f=T.track)==null?void 0:f.ownerState,{color:l,size:p})}),valueLabel:I({},T.valueLabel,Te(P.ValueLabel)&&{ownerState:I({},(y=T.valueLabel)==null?void 0:y.ownerState,{color:l,size:p})})}),classes:D,ref:a}))});var Qe=Zt,We={},eo=nt.exports;Object.defineProperty(We,"__esModule",{value:!0});var it=We.default=void 0,to=eo(at),oo=rt,ao=(0,to.default)((0,oo.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");it=We.default=ao;var Ke={},no=nt.exports;Object.defineProperty(Ke,"__esModule",{value:!0});var ct=Ke.default=void 0,ro=no(at),so=rt,lo=(0,ro.default)((0,so.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ct=Ke.default=lo;const io=e=>{var W,K,oe,H;const{index:t,total:a,imageSelection:o,onUpdateImage:r,onMoveUp:f,onMoveDown:y,onRemove:d,setModifier:v,getModifier:C}=e,L=C(o.id),P=c.exports.useRef(null),T=c.exports.useRef(null),l=c.exports.useRef(null),p=c.exports.useRef(null);c.exports.useEffect(()=>{const M=()=>{r({...o,canvasInfo:null})};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M)}},[o,r]),c.exports.useEffect(()=>{var A,N;const M=(N=(A=p.current)==null?void 0:A.offsetWidth)!=null?N:null;!o.canvasInfo&&M!==null&&r({...o,canvasInfo:{width:M,height:M*o.imageInfo.aspectRatio,scale:M/o.imageInfo.width}})},[o,r,p]);const g=c.exports.useCallback((M,A)=>{if(l.current!==null&&typeof A=="number"){const{maxHeight:N}=l.current.style;if(typeof N=="undefined"||o.canvasInfo===null)return;const $=o.canvasInfo.height*(1-A/100),k=o.canvasInfo.height-$;l.current.style.height=`${$}px`,v(o.id,{cutTop:k/o.canvasInfo.height})}},[l,v,o]),E=c.exports.useCallback((M,A)=>{if(l.current!==null&&typeof A=="number"){const{maxHeight:N}=l.current.style;if(typeof N=="undefined"||o.canvasInfo===null)return;const $=Number(N.replace("px",""))*(A/100);l.current.style.marginTop=`-${$}px`,v(o.id,{moveUp:$/o.canvasInfo.height})}},[l,v,o]),D=(K=(W=o.canvasInfo)==null?void 0:W.width)!=null?K:Number.NaN,U=(H=(oe=o.canvasInfo)==null?void 0:oe.height)!=null?H:Number.NaN,te=Number.isFinite(D)?`${D}px`:"100%",_=Number.isFinite(U)?`${U}px`:"auto",q=Number.isFinite(U)?`-${Math.round(U/2)}px`:"0";return i(wt,{children:B(Ce,{direction:"row",children:[B(re,{sx:{position:"relative",alignSelf:"stretch"},children:[i(re,{ref:P,pb:4,sx:{position:"absolute",top:q,left:t%2===0?`${D*.2}px`:`${D*.05}px`,height:_},children:t>0&&i(Qe,{sx:{'& input[type="range"]':{WebkitAppearance:"slider-vertical"}},orientation:"vertical",defaultValue:L.cutTop*100,onChange:g,valueLabelDisplay:"off",onKeyDown:Ze})}),i(re,{ref:T,pb:4,sx:{position:"absolute",top:q,left:t%2===0?`${D*.95-30}px`:`${D*.8-30}px`,height:_},children:t>0&&i(Qe,{sx:{'& input[type="range"]':{WebkitAppearance:"slider-vertical"}},orientation:"vertical",defaultValue:L.moveUp*100,onChange:E,valueLabelDisplay:"off",onKeyDown:Ze,color:"secondary"})})]}),i(re,{ref:l,sx:{flexGrow:1,overflow:"hidden",display:"flex",marginTop:0},style:{height:o.canvasInfo!==null?o.canvasInfo.height*(1-L.cutTop):"auto",maxHeight:_,marginTop:o.canvasInfo!==null?`-${L.moveUp*o.canvasInfo.height}px`:"0"},children:B(Ce,{direction:"row",alignItems:"end",sx:{flexGrow:1},children:[i(re,{ref:p,sx:{width:te,height:_},children:i("img",{width:te,height:_,src:o.dataUrl,alt:o.file.name})}),B(Ce,{direction:"row",alignItems:"center",sx:{height:"100%"},children:[B(Ce,{children:[i("div",{children:i(De,{onClick:()=>f(t),disabled:t===0,children:i(it,{})})}),i("div",{children:i(De,{onClick:()=>y(t),disabled:t===a-1,children:i(ct,{})})})]}),i("div",{children:i(De,{onClick:()=>d(t),children:i(Ct,{})})})]})]})})]})})};function Ze(e){(e.key==="ArrowLeft"||e.key==="ArrowRight")&&e.preventDefault()}const co=e=>{const{imageSelections:t,onUpdateImage:a,onMoveUp:o,onMoveDown:r,onRemove:f,setModifier:y,getModifier:d}=e,v=c.exports.useMemo(()=>t.map(C=>{var L,P;return(P=(L=C.canvasInfo)==null?void 0:L.height)!=null?P:null}).reduce((C,L)=>C!==null&&L!==null?C+L:null,0),[t]);return i(re,{sx:{height:v!==null?`${v}px`:"auto"},children:t.map((C,L)=>i(io,{imageSelection:C,index:L,total:t.length,onUpdateImage:a,onMoveUp:o,onMoveDown:r,onRemove:f,setModifier:y,getModifier:d},C.id))})};async function uo(e){const t=await Promise.allSettled([...e].map(mo)),a=[];return t.forEach(o=>{switch(o.status){case"fulfilled":{a.push(o.value);break}case"rejected":{console.error("Failed to read image",o.reason);break}}}),a}let po=0;async function mo(e){return new Promise((t,a)=>{try{const o=new FileReader;o.onload=()=>{const r=new Image;r.onload=()=>{t({id:`image${po++}`,file:e,dataUrl:`${o.result}`,imageInfo:{aspectRatio:r.height/r.width,width:r.width,height:r.height},canvasInfo:null})},r.onerror=f=>{a(f)},r.src=`${o.result}`},o.readAsDataURL(e)}catch(o){a(o)}})}function fo(e){return[...e].sort((t,a)=>t.file.name.localeCompare(a.file.name,"en"))}function ho(e){const t={},a=[];return e.forEach(o=>{t[o.file.name]||(t[o.file.name]=!0,a.push(o))}),a}function et(e={}){return{cutTop:0,moveUp:0,...e}}const vo=()=>{const[e,t]=c.exports.useState([]),[a,o]=c.exports.useState(!1),r=c.exports.useRef({}),f=c.exports.useCallback(l=>{o(!0),(async()=>{try{const p=await uo(l);t(g=>ho([...g,...fo(p)])),o(!1)}catch(p){console.error(p),o(!1)}})()},[]),y=c.exports.useCallback(l=>{t(p=>p.map(g=>g.id!==l.id?g:l))},[]),d=c.exports.useCallback(l=>{t(p=>{const g=[...p];return g[l]=p[l-1],g[l-1]=p[l],g})},[]),v=c.exports.useCallback(l=>{t(p=>{const g=[...p];return g[l]=p[l+1],g[l+1]=p[l],g})},[]),C=c.exports.useCallback(l=>{t(p=>{const g=[...p],E=g.splice(l,1);return r.current[E[0].id]&&delete r.current[E[0].id],g})},[r]),L=c.exports.useCallback(()=>{t([])},[]),P=c.exports.useCallback((l,p)=>{var E;const g=(E=r.current[l])!=null?E:et();r.current[l]={...g,...p}},[r]),T=c.exports.useCallback(l=>{var p;return(p=r.current[l])!=null?p:et()},[r]);return{imageSelections:e,loading:a,addFiles:f,updateImageSelection:y,moveImageUp:d,moveImageDown:v,removeImage:C,clearImages:L,setModifier:P,getModifier:T}},go=e=>{const{imageSelections:t,disabled:a,onAddFiles:o,onClearImages:r}=e,f=c.exports.useRef(null),y=c.exports.useCallback(()=>{var d,v;(v=(d=f.current)==null?void 0:d.files)!=null&&v.length&&(o(f.current.files),f.current.value="")},[o,f]);return i(Lt,{left:d=>B(Be,{children:[B(He,{variant:"outlined",component:"label",children:[t.length>0?Le("button.addImages"):Le("button.chooseImages"),i("input",{hidden:!0,ref:f,type:"file",id:"imageUpload",name:"imageUpload",multiple:!0,disabled:a,accept:"image/jpeg",onChange:y})]},"addFiles"),t.length>0&&i(He,{variant:"outlined",onClick:r,disabled:a,...d,children:Le("button.reset")},"clearImages")]}),right:d=>i(Be,{children:i(He,{variant:"outlined",disabled:a||t.length===0,...d,children:Le("button.share")},"share")})})},Io=()=>{const{imageSelections:e,loading:t,addFiles:a,updateImageSelection:o,moveImageUp:r,moveImageDown:f,removeImage:y,clearImages:d,setModifier:v,getModifier:C}=vo();return console.log(e),B(Be,{children:[i(ut,{currentRoute:"/imageEdit"}),i(go,{imageSelections:e,disabled:t,onAddFiles:a,onClearImages:d}),i(dt,{children:i(re,{p:1,children:i(co,{imageSelections:e,onUpdateImage:o,onMoveUp:r,onMoveDown:f,onRemove:y,setModifier:v,getModifier:C})})}),i(pt,{})]})};export{Io as default};

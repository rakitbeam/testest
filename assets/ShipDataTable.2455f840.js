import{E as P,G as L,H as b,r as c,a as f,F as S,j as n,B as w,Z as k,b as B,$ as R,T as g,ah as V,e as I,s as E,t as J,ai as M,aj as O,ak as v,U as z,al as x,V as _,am as j,X as $,an as o,Y as q,ao as C,ap as G,aq as N,K as W,ar as Y}from"./index.c039a330.js";import{B as U,C as X,g as Z,L as Q}from"./domUtils.ce2430b3.js";import{P as ee,G as re,M as ae,a as te}from"./MenuItem.4c8f9fde.js";import{C as ne}from"./ShipTypeFilterButton.41b02b75.js";import{L as ue}from"./PageContent.0b3f4b0c.js";import{u as se,T as oe}from"./useTable.7ce867a5.js";var F={},ce=L.exports;Object.defineProperty(F,"__esModule",{value:!0});var H=F.default=void 0,ie=ce(P),le=b,me=(0,ie.default)((0,le.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");H=F.default=me;function ke(e={}){return{name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,dpmShip:!1,dpmAntiAir:!1,dpmSiege:!1,hp:!1,speed:!1,warpSpeed:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1,...e}}function pe(e){const{disableResearchAgreementOptions:r}=e;return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"dpmShip",name:"\u5BFE\u8266DPM"},{columnKey:"dpmAntiAir",name:"\u5BFE\u7A7ADPM"},{columnKey:"dpmSiege",name:"\u653B\u57CEDPM"},{columnKey:"hp",name:"HP"},{columnKey:"speed",name:"\u5DE1\u822A\u901F\u5EA6"},{columnKey:"warpSpeed",name:"\u30EF\u30FC\u30D7\u901F\u5EA6"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},...r!==!0?[{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"}]:[],{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const Re=e=>{const{onChange:r,buttonProps:a,disableResearchAgreementOptions:t}=e,[u,s]=c.exports.useState(e.columnConfig),[h,i]=c.exports.useState(!1),[D]=c.exports.useState(()=>pe({disableResearchAgreementOptions:t})),p=c.exports.useRef(null),K=l=>{s(y=>({...y,[l]:!y[l]}))};return c.exports.useEffect(()=>{const l=setTimeout(()=>{r(u)},0);return()=>clearTimeout(l)},[u,r]),f(S,{children:[n(U,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:p,children:n(w,{startIcon:n(H,{}),onClick:()=>i(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),n(ee,{open:h,anchorEl:p.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:l,placement:y})=>{var A;return n(re,{...l,style:{transformOrigin:y==="bottom"?"center top":"center bottom"},children:n("div",{children:n(X,{onClickAway:()=>i(!1),children:f(k,{children:[n(B,{sx:{overflowY:"auto",maxHeight:`${((A=Z(p.current))!=null?A:0)-50}px`},children:n(ae,{id:"split-button-menu",children:D.map(d=>f(te,{selected:u[d.columnKey],onClick:()=>K(d.columnKey),children:[n(Q,{children:n(ne,{edge:"start",checked:u[d.columnKey],tabIndex:-1,disableRipple:!0})}),n(ue,{children:d.name})]},d.columnKey))})}),n(R,{}),n(B,{p:1,display:"flex",justifyContent:"end",children:n(w,{variant:"outlined",onClick:()=>i(!1),children:"\u9589\u3058\u308B"})})]})})})})}})]})},de=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>{var t;return((t=e.decorateName)!=null?t:(u,s)=>u)(n(g,{variant:"body2",children:n(V,{onClick:()=>{e.onClick(r.id)},children:r.name})}),r)},sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),he={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>I(e.type,e.subType),sortFn:[(e,r)=>E(e.type,e.subType)-E(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},ye={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>J(e.row),sortFn:[(e,r)=>M(e.row)-M(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ce={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},fe={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Te={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>O(e.source),sortFn:[(e,r)=>v(e.source)-v(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Se={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>z(e.manufacturer),sortFn:[(e,r)=>x(e.manufacturer)-x(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ge={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?_(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?j(e.researchManufacturer):0)-(r.researchManufacturer?j(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Fe={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return n(S,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>n(g,{variant:"body2",children:$(a)},a))})},sortFn:[(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[0]?o(e.researchStrategyTypes[0]):0)-((t=r.researchStrategyTypes)!=null&&t[0]?o(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[1]?o(e.researchStrategyTypes[1]):0)-((t=r.researchStrategyTypes)!=null&&t[1]?o(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[2]?o(e.researchStrategyTypes[2]):0)-((t=r.researchStrategyTypes)!=null&&t[2]?o(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,t;return((a=e.researchStrategyTypes)!=null&&a[3]?o(e.researchStrategyTypes[3]):0)-((t=r.researchStrategyTypes)!=null&&t[3]?o(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},De={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return n(S,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>n(g,{variant:"body2",children:q(a)},a))})},sortFn:[(e,r)=>{var a,t;return((a=e.researchTacticTypes)!=null&&a[0]?C(e.researchTacticTypes[0]):0)-((t=r.researchTacticTypes)!=null&&t[0]?C(r.researchTacticTypes[0]):0)},(e,r)=>{var a,t;return((a=e.researchTacticTypes)!=null&&a[1]?C(e.researchTacticTypes[1]):0)-((t=r.researchTacticTypes)!=null&&t[1]?C(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ae={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},we=m("\u5BFE\u8266DPM","dpmShip"),Be=m("\u5BFE\u7A7ADPM","dpmAntiAir"),Ee=m("\u653B\u57CEDPM","dpmSiege"),Me=m("HP","hp"),ve=m("\u5DE1\u822A\u901F\u5EA6","speed"),xe=m("\u30EF\u30FC\u30D7\u901F\u5EA6","warpSpeed");function m(e,r){return{id:r,renderHeader:()=>e,renderCell:a=>G(T(a.id,r)),sortFn:[(a,t)=>{var u,s;return((u=T(a.id,r))!=null?u:0)-((s=T(t.id,r))!=null?s:0)},(a,t)=>a.name.localeCompare(t.name,"ja-JP")]}}function T(e,r){var t;const a=(t=N(W(e),null))==null?void 0:t[r];if(typeof a=="boolean")throw new Error(`${r} is not a numeric value`);return a}const Ve=e=>{const{shipDefinitions:r,columnConfig:a,decorateName:t}=e,{table:u,setTableData:s}=se(),{openShipDetailDialog:h}=Y(),i=c.exports.useMemo(()=>[de({onClick:h,decorateName:t}),...a.type?[he]:[],...a.row?[ye]:[],...a.cost?[Ce]:[],...a.operationLimit?[fe]:[],...a.dpmShip?[we]:[],...a.dpmAntiAir?[Be]:[],...a.dpmSiege?[Ee]:[],...a.hp?[Me]:[],...a.speed?[ve]:[],...a.warpSpeed?[xe]:[],...a.source?[Te]:[],...a.manufacturer?[Se]:[],...a.researchManufacturer?[ge]:[],...a.researchStrategyType?[Fe]:[],...a.researchTacticType?[De]:[],...a.weight?[Ae]:[]],[a,t,h]);return c.exports.useEffect(()=>{s({columns:i,data:r,rowIdFn:p=>p.id})},[s,i,r]),n(oe,{table:u,size:"small"})};export{Re as C,Ve as S,ke as c};

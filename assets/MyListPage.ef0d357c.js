var R=Object.defineProperty,k=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var T=(i,t,s)=>t in i?R(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s,D=(i,t)=>{for(var s in t||(t={}))L.call(t,s)&&T(i,s,t[s]);if(b)for(var s of b(t))M.call(t,s)&&T(i,s,t[s]);return i},g=(i,t)=>k(i,$(t));import{j as u,b as h,F as C,h as f,r as c,S as y,T as l,c as j,s as O,i as I,t as U}from"./vendor.612e55a5.js";import{d as N}from"./Settings.1acf125d.js";import{d as V,a as W}from"./ContentCopy.968408c1.js";import{S as _,c as z,a as G,e as H,b as K,d as J,f as P}from"./ShipTypeFilterButton.183365a7.js";import{A as q}from"./ActionBar.a2802d77.js";import{C as Q,S as X,c as Y}from"./ShipDataTable.8dc8742b.js";import{g as Z}from"./userSettingsUtils.304511e2.js";import{E as uu}from"./ExpandStack.42dab450.js";import{t as E,S as B,a as v,b as A,s as x,c as eu,d as tu}from"./index.bcaed592.js";import{n as su}from"./sorting.c6946657.js";import{R as iu}from"./ResponsiveDialog.418e97d8.js";import{N as au,C as nu}from"./NavigationBar.e91af742.js";import"./WishState.3db35fd5.js";import"./domUtils.e9df6b0f.js";import"./useTable.a69db608.js";import"./ExpandMore.57c07b9b.js";const ou=i=>{const{shipFilter:t,columnConfig:s,onEdit:p,onFilter:o,onShare:n,onColumnConfigChange:a}=i;return u(q,{left:e=>h(C,{children:[u(Q,{columnConfig:s,onChange:a,disableResearchAgreementOptions:!0,buttonProps:e},"columnConfig"),u(_,{filter:t,onChange:o,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:e},"filter"),u(f,g(D({variant:"outlined",startIcon:u(N,{}),onClick:p},e),{children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A"}),"edit")]}),right:e=>u(C,{children:u(f,g(D({variant:"outlined",startIcon:u(V,{}),onClick:n},e),{children:"\u5171\u6709"}),"share")})})},S=c.exports.memo(X),ru=i=>{const{shipListState:t,columnConfig:s}=i;return h(y,{spacing:1,children:[u(uu,{expandables:[{id:"possessed-ships",initiallyOpened:!0,summary:u(l,{variant:"body1",children:"\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.possessed,columnConfig:s})},{id:"wished-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.wished,columnConfig:s})},{id:"unwished-by-user-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u6B32\u3057\u304F\u306A\u3044\u8A2D\u8A08\u56F3"}),details:u(S,{shipDefinitions:t.unwishedByUser,columnConfig:s})},{id:"unwished-by-data-ships",initiallyOpened:!1,summary:u(l,{variant:"body1",children:"\u88AB\u3063\u3066\u6B32\u3057\u304F\u306A\u3044\u8266\u8239"}),details:h(C,{children:[u(S,{shipDefinitions:t.unwishedByData,columnConfig:s}),u(j,{pt:1,children:u(l,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u88AB\u308A\u3067\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u304B\u300C\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044\u300D\u30B5\u30D6\u30E2\u30C7\u30EB\u306B\u306A\u308B\u8266\u8239\u304C\u81EA\u52D5\u7684\u306B\u8868\u793A\u3055\u308C\u307E\u3059"})})]})}]}),u(l,{variant:"caption",align:"right",paragraph:!0,children:"\u203B\u8A2D\u5B9A\u30C7\u30FC\u30BF\u306F\u30D6\u30E9\u30A6\u30B6\u306E\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002"})]})};function lu(i){const t=[],s=[],p=[],o=[],n=[];i.forEach(e=>{switch(e.row){case B.FRONT:{t.push(e);break}case B.MIDDLE:{s.push(e);break}case B.BACK:{p.push(e);break}default:switch(e.type){case A.CORVETTE:{o.push(e);break}case A.FIGHTER:{n.push(e);break}}}});const a=su([(e,r)=>x(e.type,e.subType)-x(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]);return["\u6240\u6301\u3057\u3066\u3044\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",[`\u3010${E(B.FRONT)}\u3011`,...t.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.MIDDLE)}\u3011`,...s.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${E(B.BACK)}\u3011`,...p.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${v(A.CORVETTE)}\u3011`,...o.sort(a).map(e=>`\u3000${e.name}`)].join(`
`),[`\u3010${v(A.FIGHTER)}\u3011`,...n.sort(a).map(e=>`\u3000${e.name}`)].join(`
`)].join(`

`)}const pu=i=>{const{ships:t,onClose:s}=i,[p,o]=c.exports.useState(!1),[n,a]=c.exports.useState(()=>lu(t.possessed)),e=()=>{n&&eu(n).then(()=>{o(!0)})},r=F=>{a(F.target.value)},m=()=>{s(),o(!1)};return u(iu,{title:"\u5171\u6709",content:h(y,{spacing:1,children:[u(O,{variant:"filled",id:"outlined-multiline-static",multiline:!0,onChange:r,rows:10,defaultValue:n,fullWidth:!0}),!!navigator.clipboard&&u(f,{variant:"outlined",startIcon:p?u(I,{}):u(W,{}),onClick:e,fullWidth:!0,children:"\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC"})]}),actions:u(f,{variant:"outlined",onClick:m,children:"\u9589\u3058\u308B"}),onClose:m})},vu=()=>{const i=U(),t=c.exports.useMemo(()=>Z(),[]),[s,p]=c.exports.useState(z),[o,n]=c.exports.useState(null),[a,e]=c.exports.useState(()=>Y({name:!0,row:!0,type:!0,cost:!1,operationLimit:!1})),r=c.exports.useMemo(()=>{const d=G(tu,s);return{possessed:H(d,t.ships),wished:K(d,t.ships),unwishedByUser:J(d,t.ships),unwishedByData:P(d,t.ships)}},[t,s]),m=()=>{i("/myList/edit")},F=()=>{n(r)},w=()=>{n(null)};return h(C,{children:[u(au,{currentRoute:"/myList"}),u(ou,{shipFilter:s,columnConfig:a,onEdit:m,onFilter:p,onShare:F,onColumnConfigChange:e}),u(nu,{disabled:Object.values(a).filter(d=>d).length>3,children:h(j,{p:1,children:[h(y,{pt:1,pb:2,spacing:2,children:[u(l,{variant:"body2",children:"\u30DE\u30A4\u30EA\u30B9\u30C8\u3067\u306F\u8266\u8239\u306E\u6240\u6709\u72B6\u614B\u3084\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u7B49\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u304C\u51FA\u6765\u307E\u3059\u3002"}),u(l,{variant:"body2",children:"\u6240\u6709\u72B6\u614B\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u500B\u4EBA\u306B\u5408\u308F\u305B\u305F\u7D30\u304B\u3044\u78BA\u7387\u306E\u8A08\u7B97\u304C\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\uFF08\u30B5\u30D6\u30E2\u30C7\u30EB\u306E\u78BA\u7387\u3084\u6280\u8853\u30DD\u30A4\u30F3\u30C8\u306E\u78BA\u7387\u304C\u5909\u52D5\u3057\u307E\u3059\uFF09\u3002"}),u(l,{variant:"body2",children:"\u6B32\u3057\u3044\u8A2D\u8A08\u56F3\u3092\u8A2D\u5B9A\u3059\u308B\u3068\u305D\u308C\u3089\u306E\u5408\u8A08\u78BA\u7387\u304C\u30D1\u30A4\u30C1\u30E3\u30FC\u30C8\u3067\u8868\u793A\u3055\u308C\u308B\u3088\u3046\u306B\u306A\u308A\u307E\u3059\u3002"})]}),u(ru,{shipListState:r,columnConfig:a})]})}),o&&u(pu,{ships:o,onClose:w})]})};export{vu as MyListPage,vu as default};

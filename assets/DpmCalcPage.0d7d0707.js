import{C as vu,D as Bu,E as mu,T as m,j as T,P as _u,H as bu,J as hu,p as l,_ as q,K as fu,n as p,L as uu,c as Pu,i as gu,r as Nu,F as $,aO as xu,aP as Mu,aQ as Uu,aR as wu,v as Ru,t as yu,bI as C,u as N,B as R,bs as tu,a9 as L,a8 as M}from"./index.4800e8f9.js";import{I as Lu,a as Hu,T as ku,e as ru,N as Gu,P as Ku}from"./PageContent.93cd01f8.js";import{P as zu}from"./PageFooter.bd5749c1.js";import{D as Wu}from"./DialogContentText.f2337ab5.js";import{T as eu,A as Yu}from"./TextField.1dee9297.js";import{u as ju,F as Vu}from"./useFormControl.b562c3e5.js";import{d as qu}from"./Add.f65908a7.js";import{T as Qu}from"./Tooltip.0960a04c.js";import{T as iu,a as ou,b as su,c as K,d as w,e as Eu}from"./TableRow.cff10942.js";import"./Select.c4915843.js";function Zu(u){return vu("MuiAlertTitle",u)}Bu("MuiAlertTitle",["root"]);const Xu=["className"],Ju=u=>{const{classes:a}=u;return hu({root:["root"]},Zu,a)},ue=mu(m,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(u,a)=>a.root})(({theme:u})=>({fontWeight:u.typography.fontWeightMedium,marginTop:-2})),ee=T.exports.forwardRef(function(a,n){const t=_u({props:a,name:"MuiAlertTitle"}),{className:e}=t,r=bu(t,Xu),i=t,o=Ju(i);return l(ue,q({gutterBottom:!0,component:"div",ownerState:i,ref:n,className:fu(o.root,e)},r))});var ae=ee;function te(u){return vu("MuiInputAdornment",u)}const ne=Bu("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var du=ne,cu;const le=["children","className","component","disablePointerEvents","disableTypography","position","variant"],re=(u,a)=>{const{ownerState:n}=u;return[a.root,a[`position${uu(n.position)}`],n.disablePointerEvents===!0&&a.disablePointerEvents,a[n.variant]]},ie=u=>{const{classes:a,disablePointerEvents:n,hiddenLabel:t,position:e,size:r,variant:i}=u,o={root:["root",n&&"disablePointerEvents",e&&`position${uu(e)}`,i,t&&"hiddenLabel",r&&`size${uu(r)}`]};return hu(o,te,a)},oe=mu("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:re})(({theme:u,ownerState:a})=>q({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(u.vars||u).palette.action.active},a.variant==="filled"&&{[`&.${du.positionStart}&:not(.${du.hiddenLabel})`]:{marginTop:16}},a.position==="start"&&{marginRight:8},a.position==="end"&&{marginLeft:8},a.disablePointerEvents===!0&&{pointerEvents:"none"})),se=T.exports.forwardRef(function(a,n){const t=_u({props:a,name:"MuiInputAdornment"}),{children:e,className:r,component:i="div",disablePointerEvents:o=!1,disableTypography:s=!1,position:E,variant:A}=t,c=bu(t,le),D=ju()||{};let O=A;A&&D.variant,D&&!O&&(O=D.variant);const _=q({},t,{hiddenLabel:D.hiddenLabel,size:D.size,disablePointerEvents:o,position:E,variant:O}),b=ie(_);return l(Vu.Provider,{value:null,children:l(oe,q({as:i,ownerState:_,className:fu(b.root,r),ref:n},c,{children:typeof e=="string"&&!s?l(m,{color:"text.secondary",children:e}):p(T.exports.Fragment,{children:[E==="start"?cu||(cu=l("span",{className:"notranslate",children:"\u200B"})):null,e]})}))})});var Ee=se,f=(u=>(u.TYPE="type",u.SQUAD_SIZE="squadSize",u.FIGHTER_ATTACK_PATTERN="fighterAttackPattern",u.CORVETTE_ATTACK_PATTERN="corvetteAttackPattern",u))(f||{}),F=(u=>(u.INSTALLATION="installation",u.DAMAGE_TYPE="damageType",u.DAMAGE_PER_HIT="damagePerHit",u.TUNE="tune",u.DURATION="duration",u.ATTACKS_PER_ROUND="attacksPerRound",u.SHOTS_PER_ATTACK="shotsPerAttack",u.COOLDOWN="cooldown",u.ATTACKS_PER_ROUND_ION="attacksPerRoundIon",u.SHOTS_PER_ATTACK_ION="shotsPerAttackIon",u.LOCK_ON_TIME="lockOnTime",u))(F||{}),S=(u=>(u.INCREASE_DAMAGE_PER_HIT="increaseDamagePerHit",u.REDUCE_DURATION="reduceDuration",u.REDUCE_COOLDOWN="reduceCooldown",u.REDUCE_LOCKON="reduceLockon",u.INCREASE_ATTACKS_PER_ROUND="increaseAttacksPerRound",u))(S||{}),U=(u=>(u.HP="hp",u.ARMOR="armor",u.ENERGY_SHIELD="energyShield",u))(U||{}),v=(u=>(u.PERCENTAGE="PERCENTAGE",u.SECONDS="SECONDS",u.DPM="DPM",u.ION_ATTACK_COUNT="ION_ATTACK_COUNT",u.FIGHTER_COUNT="FIGHTER_COUNT",u))(v||{});function H(u){return Object.keys(u).reduce((a,n)=>({...a,[n]:{...u[n],id:n}}),{})}function de(){return H({[f.TYPE]:V({label:"\u30BF\u30A4\u30D7",value:"ship",options:[{id:"ship",label:"\u8266\u8239",value:"ship"},{id:"corvette",label:"\u8B77\u9001\u8266",value:"corvette"},{id:"fighter",label:"\u6226\u95D8\u6A5F",value:"fighter"}]}),[f.SQUAD_SIZE]:P({label:"\u7DE8\u968A\u30B5\u30A4\u30BA",value:1,unit:v.FIGHTER_COUNT,min:1,max:5,description:"\u8A73\u7D30\u753B\u9762\u306E\u53F3\u4E0A\u306B\u8868\u793A\u3055\u308C\u307E\u3059\u3002\uFF11\u7DE8\u968A\u6BCE\u306E\u6226\u95D8\u6A5F\u306E\u6570\u3067\u3059\uFF08\u4F8B\uFF1A\u30DF\u30B9\u30C8\u30E9\u30EB\u306F\uFF14\u6A5F\uFF09\u3002"}),[f.FIGHTER_ATTACK_PATTERN]:V({label:"\u653B\u6483\u30D1\u30BF\u30FC\u30F3",value:"rtb",options:[{id:"rtb",label:"\u4F4F\u8907\u653B\u6483",value:"rtb"},{id:"noRtb",label:"\u72EC\u7ACB\u4F5C\u6226",value:"noRtb"}],description:"\u6307\u4EE4\u30B7\u30B9\u30C6\u30E0\u306E\u8A73\u7D30\u753B\u9762\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u4F4F\u8907\u653B\u6483\u300D\u304C\u8A18\u8F09\u3055\u308C\u3066\u3044\u308B\u8266\u8F09\u6A5F\u306F\u51B7\u5374\u6642\u306B\u7A7A\u6BCD\u3078\u5E30\u9084\u3057\u307E\u3059\u3002\u518D\u51FA\u6483\u6642\u306B\u306F\u518D\u5EA6\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u304C\u767A\u751F\u3057\u307E\u3059\u3002"}),[f.CORVETTE_ATTACK_PATTERN]:V({label:"\u653B\u6483\u30D1\u30BF\u30FC\u30F3",value:"noRtb",options:[{id:"noRtb",label:"\u72EC\u7ACB\u4F5C\u6226",value:"noRtb"},{id:"rtb",label:"\u4F4F\u8907\u653B\u6483",value:"rtb"}],description:"\u6307\u4EE4\u30B7\u30B9\u30C6\u30E0\u306E\u8A73\u7D30\u753B\u9762\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u4F4F\u8907\u653B\u6483\u300D\u304C\u8A18\u8F09\u3055\u308C\u3066\u3044\u308B\u8266\u8F09\u6A5F\u306F\u51B7\u5374\u6642\u306B\u7A7A\u6BCD\u3078\u5E30\u9084\u3057\u307E\u3059\u3002\u518D\u51FA\u6483\u6642\u306B\u306F\u518D\u5EA6\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u304C\u767A\u751F\u3057\u307E\u3059\u3002"})})}function ce(){return H({[F.INSTALLATION]:P({label:"\u8A2D\u7F6E\u6570",value:1,description:"\u6B66\u5668\u60C5\u5831\u753B\u9762\u5185\u3001\u5DE6\u4E0A\u306B\u8868\u793A\u3055\u308C\u308B\u30AA\u30EC\u30F3\u30B8\u306E\u6570\u5B57\uFF08\u6B66\u5668\u540D\u306E\u524D\uFF09"}),[F.DAMAGE_TYPE]:V({label:"\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7",value:"physicalDamage",options:[{id:"physicalDamage",label:"\u5B9F\u5F3E\u30C0\u30E1\u30FC\u30B8",value:"physicalDamage"},{id:"energyDamageIon",label:"\u30A8\u30CD\u30EB\u30AE\u30FC\uFF08\u30A4\u30AA\u30F3\uFF09",value:"energyDamageIon"},{id:"energyDamage",label:"\u30A8\u30CD\u30EB\u30AE\u30FC\uFF08\u30D1\u30EB\u30B9\u3001\u30D7\u30E9\u30BA\u30DE\uFF09",value:"energyDamage"}]}),[F.DAMAGE_PER_HIT]:P({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8",description:"\u30B9\u30AD\u30EB\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u3066\u304B\u3089\u8AAD\u307F\u53D6\u3063\u3066\u304F\u3060\u3055\u3044\u3002\u30C1\u30E5\u30FC\u30F3\u6E08\u307F\u3067\u6570\u5B57\u304C\u4E8C\u3064\u8868\u793A\u3055\u308C\u308B\u5834\u5408\u306F\u5DE6\u5074\u306E\u6570\u5B57\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u4F8B\u3048\u3070\u300C300+90.0\u300D\u306E\u5834\u5408\u306F\u300C300\u300D\u3067\u3059\u3002\u521D\u671F\u72B6\u614B\u3067\u3082\u30E2\u30B8\u30E5\u30FC\u30EB\u306B\u3088\u308B\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7\u52B9\u679C\u304C\u4E57\u3063\u3066\u3044\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002\u305D\u306E\u5834\u5408\u306F\u3001\u5148\u306B\u5143\u306E\u5358\u767A\u30C0\u30E1\u30FC\u30B8\u3092\u9006\u7B97\u3057\u3066\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u5C0F\u578B\u30A4\u30AA\u30F3\u7832\u306F\u521D\u671F\u72B6\u614B\u3067\u5358\u767A\u30C0\u30E1\u30FC\u30B8\u304C\u300C316\u300D\u3068\u8868\u793A\u3055\u308C\u307E\u3059\u304C\u3001\u30A8\u30CD\u30EB\u30AE\u30FC\u30B7\u30B9\u30C6\u30E0\u306E15\uFF05\u304C\u4E57\u3063\u3066\u3044\u308B\u72B6\u614B\u306A\u306E\u3067\u3001\u5143\u306F\u300C275\u300D\u3067\u3059\uFF09\u3002",value:null}),[F.TUNE]:P({label:"\u6B66\u5668\u30C1\u30E5\u30FC\u30F3",value:0,unit:v.PERCENTAGE,max:30}),[F.DURATION]:P({label:"\u6301\u7D9A\u6642\u9593",value:0,description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C--\u300D\u3068\u8868\u793A\u3055\u308C\u308B\u5834\u5408\u306F\uFF10\u79D2\u3067\u3059\u3002\u5225\u540D\u300C\u51FA\u529B\u6642\u9593\u300D/\u300C\u653B\u6483\u9593\u9694\u300D/\u300C\u653B\u6483\u6642\u9593\u300D",unit:v.SECONDS}),[F.ATTACKS_PER_ROUND]:P({label:"\u653B\u6483\u56DE\u6570",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u653B\u6483\u56DE\u6570\u300D\u306E\u5DE6\u5074\u306E\u6570\u5024\u3067\u3059\u3002\u4F8B\u3048\u3070\u300C1 x 8\u300D\u306E\u5834\u5408\u306F\u300C1\u300D\u3067\u3059\u3002\u9805\u76EE\u304C\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",value:1,min:1}),[F.SHOTS_PER_ATTACK]:P({label:"\u9023\u88C5\u6570",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u653B\u6483\u56DE\u6570\u300D\u306E\u53F3\u5074\u306E\u6570\u5024\u3067\u3059\u3002\u4F8B\u3048\u3070\u300C1 x 8\u300D\u306E\u5834\u5408\u306F\u300C8\u300D\u3067\u3059\u3002\u9805\u76EE\u304C\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",value:1,min:1}),[F.COOLDOWN]:P({label:"\u51B7\u5374\u6642\u9593",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\u300C\u5E30\u9084\u51B7\u5374\u300D\u3068\u3082\u547C\u3070\u308C\u307E\u3059\u3002",unit:v.SECONDS}),[F.ATTACKS_PER_ROUND_ION]:P({label:"\u30C0\u30E1\u30FC\u30B8\u983B\u5EA6",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u3053\u306E\u9805\u76EE\u306F\u30A4\u30AA\u30F3\u7832\u9650\u5B9A\u3067\u3059\u3002\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",value:1,unit:v.ION_ATTACK_COUNT,min:1}),[F.SHOTS_PER_ATTACK_ION]:P({label:"\u9023\u88C5\u6570\uFF08\u30A4\u30AA\u30F3\u7832\uFF09",description:"\u30A4\u30AA\u30F3\u7832\u306E\u9023\u88C5\u6570\u306F\u6B66\u5668\u306E\u540D\u524D\u306B\u96A0\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u6B66\u5668\u60C5\u5831\u753B\u9762\u5185\u3001\u540D\u524D\u306E\u30A2\u30EB\u30D5\u30A1\u30D9\u30C3\u30C8\uFF12\u6587\u5B57\u3068\u6A2A\u7DDA\u306E\u5F8C\u306B\u300C2x\u300D\u3068\u3042\u308C\u3070\uFF12\u9023\u88C5\u3067\u3059\u3002\u4F8B\u3048\u3070\u300CCI-2x700T\u578B\u300D\u306E\u5834\u5408\u306F\u300CC\u300D\u304C\u4F01\u696D\u3001\u300CI\u300D\u304C\u6B66\u5668\u306E\u7A2E\u985E\u3001\u305D\u306E\u5F8C\u308D\u306E\u300C2x\u300D\u304C\u9023\u88C5\u6570\u3067\u3059\u3002",value:1}),[F.LOCK_ON_TIME]:P({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593",description:"\u5225\u540D\u300C\u76EE\u6A19\u9078\u629E\u6642\u9593\u300D",unit:v.SECONDS})})}function Ae(){return H({[S.INCREASE_DAMAGE_PER_HIT]:P({label:"\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7",description:"\u30B9\u30AD\u30EB\u3068\u30E2\u30B8\u30E5\u30FC\u30EB\u304B\u3089\u53CD\u6620\u3055\u308C\u308B\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7\u3092\u5408\u308F\u305B\u3066\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u5834\u5408\u306F\u30B9\u30AD\u30EB\u306E\uFF12\uFF10\uFF05\u3068\u30A8\u30CD\u30EB\u30AE\u30FC\u30B7\u30B9\u30C6\u30E0\u306E\uFF11\uFF15\uFF05\u3067\u5408\u8A08\uFF13\uFF15\uFF05\u3067\u3059\uFF09",value:0,unit:v.PERCENTAGE,min:-500}),[S.REDUCE_DURATION]:P({label:"\u6301\u7D9A\u6642\u9593\u30C0\u30A6\u30F3",description:"\u5225\u540D\u300C\u51FA\u529B\u6642\u9593\u30C0\u30A6\u30F3\u300D/\u300C\u653B\u6483\u9593\u9694\u30C0\u30A6\u30F3\u300D/\u300C\u653B\u6483\u6642\u9593\u30C0\u30A6\u30F3\u300D\u3002\u9006\u306B\u30A2\u30C3\u30D7\u3059\u308B\u5834\u5408\u306F\u30DE\u30A4\u30CA\u30B9\u306E\u6570\u5024\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30AB\u30EA\u30B9\u30C8\u306E\u300C\u91CD\u5F3E\u85AC\u300D\uFF09",value:0,unit:v.PERCENTAGE,min:-500,max:100}),[S.REDUCE_COOLDOWN]:P({label:"\u51B7\u5374\u6642\u9593\u30C0\u30A6\u30F3",description:"\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\u5E30\u9084\u51B7\u5374\u30C0\u30A6\u30F3",value:0,unit:v.PERCENTAGE,min:-500,max:100}),[S.REDUCE_LOCKON]:P({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u30C0\u30A6\u30F3",description:"\u5225\u540D\u300C\u76EE\u6A19\u9078\u629E\u6642\u9593\u30C0\u30A6\u30F3\u300D",value:0,unit:v.PERCENTAGE,min:-500,max:100}),[S.INCREASE_ATTACKS_PER_ROUND]:P({label:"\u653B\u6483\u56DE\u6570\u30A2\u30C3\u30D7",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u3042\u305F\u308A\u306E\u653B\u6483\u6570\u304C\u5897\u52A0\u3059\u308B\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u300C\u6301\u7D9A\u51FA\u529B\u5F37\u5316\u300D\uFF09",value:0,min:-10,max:10})})}function Ce(){return H({[U.HP]:P({label:"HP",min:1,max:1e6}),[U.ARMOR]:P({label:"\u30C0\u30E1\u30FC\u30B8\u62B5\u6297",value:0,min:0,max:1e4}),[U.ENERGY_SHIELD]:P({label:"\u30B7\u30FC\u30EB\u30C9\u5024",value:0,unit:v.PERCENTAGE,min:0,max:100})})}function P(u){return{id:"[id]",label:"[label]",type:"numeric",value:null,min:0,...u}}function V(u){return{id:"[id]",label:"[label]",type:"select",value:"",options:[],...u}}function X(u,a){switch(a.type){case"numeric":{const n=Number.isFinite(u)?u:null;return a.value===n?a:{...a,value:n}}case"select":{const n=u===null?null:`${u}`;return a.value===n?a:{...a,value:n}}default:throw new Error(`Unsupported input property type "${a.type}"`)}}function Fe(u,a){switch(u.id){case f.SQUAD_SIZE:case f.FIGHTER_ATTACK_PATTERN:return a.type.value==="fighter";case f.CORVETTE_ATTACK_PATTERN:return a.type.value==="corvette";default:return!0}}function pe(u,a){switch(u.id){case F.ATTACKS_PER_ROUND:case F.SHOTS_PER_ATTACK:return a.damageType.value==="physicalDamage"||a.damageType.value==="energyDamage";case F.ATTACKS_PER_ROUND_ION:case F.SHOTS_PER_ATTACK_ION:return a.damageType.value==="energyDamageIon";default:return!0}}var nu={},Te=gu.exports;Object.defineProperty(nu,"__esModule",{value:!0});var Ou=nu.default=void 0,De=Te(Pu),ve=Nu,Be=(0,De.default)((0,ve.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");Ou=nu.default=Be;const Q=u=>{const{title:a,text:n}=u,[t,e]=T.exports.useState(!1),r=()=>{e(!0)},i=()=>{e(!1)};return p($,{children:[l(Lu,{onClick:r,children:l(Ou,{fontSize:"small",color:"secondary"})}),p(xu,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[l(Mu,{id:"alert-dialog-title",children:a}),l(Uu,{children:l(Wu,{id:"alert-dialog-description",children:n})}),l(wu,{children:l(Ru,{onClick:i,variant:"outlined",children:yu("button.close")})})]})]})};function Su(u){switch(u){case v.PERCENTAGE:return"%";case v.SECONDS:return"\u79D2";case v.DPM:return"/\u5206";case v.ION_ATTACK_COUNT:return"\u6B21";case v.FIGHTER_COUNT:return"\u6A5F"}}function z(u){return 1+u/100}function W(u){return 1-u/100}function Au(u){return`100% + ${C(u)}%`}function Y(u){return`100% - ${C(u)}%`}const me="8em",_e="15em",$u=u=>{const{inputProperty:a,onChange:n,width:t}=u,[e,r]=T.exports.useState(a),[i,o]=T.exports.useTransition();T.exports.useEffect(()=>{o(()=>{e!==a&&n(e)})},[e,a,n]);const s=E=>{switch(e.type){case"numeric":{if(E.target.value===""){r(X(null,e));return}const A=Number(E.target.value),c=Number.isFinite(A)?A:null;r(X(c,e));break}case"select":{r(X(E.target.value,e));break}default:throw new Error(`Unsupported input property type "${e.type}"`)}};switch(e.type){case"numeric":{const{value:E,unit:A,min:c,max:D}=e;return l($,{children:p(N,{direction:"row",children:[l(R,{sx:{width:t!=null?t:me},children:l(eu,{id:e.id,size:"small",required:!0,type:"number",value:E!=null?E:"",InputProps:{endAdornment:A?l(Ee,{position:"end",children:Su(A)}):void 0,inputProps:{min:c,max:D}},onChange:s,fullWidth:!0})}),e.description&&l(Q,{title:e.label,text:e.description})]})})}case"select":{const{value:E,options:A}=e;return l($,{children:p(N,{direction:"row",children:[l(R,{sx:{width:t!=null?t:_e},children:l(eu,{id:e.id,size:"small",select:!0,value:E,onChange:s,fullWidth:!0,children:A.map(c=>l(Hu,{value:c.value,children:c.label},c.id))})}),e.description&&l(Q,{title:e.label,text:e.description})]})})}default:throw new Error(`Unsupported input property type "${e.type}"`)}},Cu=u=>{const{properties:a,onChange:n,isVisibleProperty:t}=u;return l(tu,{sx:{alignItems:"center"},rows:Object.values(a).filter(e=>t(e,a)).map(e=>({key:e.id,label:e.label,value:l($u,{inputProperty:e,onChange:n})}))})},Fu=5,pu=u=>{const{idPrefix:a,tabNamePrefix:n,propertyFactoryFn:t}=u,e=T.exports.useRef(0),[r,i]=T.exports.useState(()=>[Tu(a,e,n,t)]),[o,s]=T.exports.useState(0),E=T.exports.useRef(null),A=T.exports.useCallback(()=>{const _=Tu(a,e,n,t);E.current=_.id,i(b=>b.length>=Fu?b:[...b,_])},[a,n,t]),c=T.exports.useCallback(_=>{s(0),i(b=>b.filter(B=>B.id!==_))},[]),D=T.exports.useCallback((_,b)=>{i(B=>B.map(h=>h.id!==_?h:{...h,name:b}))},[]),O=T.exports.useCallback((_,b)=>{i(B=>B.map(h=>h.id!==_?h:{...h,properties:{...h.properties,[b.id]:b}}))},[]);return T.exports.useEffect(()=>{if(E.current===null)return;const _=r.findIndex(b=>b.id===E.current);o!==_&&s(_),E.current=null},[r,o]),{tabIndex:o,canAddTab:r.length<Fu,tabs:r,setTabIndex:s,addTab:A,removeTab:c,renameTab:D,changeProperty:O}};function Tu(u,a,n,t){const e=a.current++;return{id:`${u}${e}`,name:"",defaultName:r=>`${n}${r+1}`,properties:t()}}var lu={},be=gu.exports;Object.defineProperty(lu,"__esModule",{value:!0});var Iu=lu.default=void 0,he=be(Pu),fe=Nu,Pe=(0,he.default)((0,fe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");Iu=lu.default=Pe;const ge=u=>{const{tabId:a,properties:n,onChange:t}=u,e=T.exports.useCallback(r=>{t(a,r)},[t,a]);return l(tu,{sx:{alignItems:"center"},rows:Object.values(n).map(r=>({key:r.id,label:r.label,value:l($u,{inputProperty:r,onChange:e})}))})},Ne=20,Re=u=>{const{idPrefix:a,tab:n,tabIndex:t,canDelete:e,canRename:r,onChangeProperty:i,onDeleteTab:o,onRename:s}=u,[E,A]=T.exports.useState(n.name),[c,D]=T.exports.useTransition();return T.exports.useEffect(()=>{D(()=>{n.name!==E&&s(n.id,E)})},[n,E,s]),p(N,{spacing:3,children:[p(N,{direction:"row",alignItems:"center",flexWrap:"wrap",sx:{gap:"8px"},children:[r&&l(R,{sx:{flexGrow:1},children:l(eu,{id:`${a}_name_${n.id}`,size:"small",required:!0,type:"text",value:E,placeholder:n.defaultName(t),InputProps:{inputProps:{maxLength:Ne}},onChange:O=>A(O.target.value.trim()),fullWidth:!0})}),e&&l("div",{children:l(Ru,{onClick:()=>o(n.id),startIcon:l(Iu,{}),variant:"outlined",children:l(m,{noWrap:!0,variant:"button",children:"\u8A2D\u5B9A\u3092\u524A\u9664"})})})]}),l(ge,{tabId:n.id,properties:n.properties,onChange:i})]})},Du=u=>{const{idPrefix:a,tabs:n,tabIndex:t,canAddTab:e,addTab:r,removeTab:i,renameTab:o,changeProperty:s,setTabIndex:E}=u,A=T.exports.useCallback((c,D)=>{D<n.length&&E(D)},[n,E]);return p($,{children:[p(ku,{value:t,onChange:A,variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[n.map((c,D)=>l(ru,{label:l(m,{variant:"body2",children:c.name||c.defaultName(D)})},c.id)),e&&l(ru,{label:l(qu,{}),onClick:r})]}),l(R,{p:1,pt:2,children:n.map((c,D)=>[c,D]).filter(([c,D])=>D===t).map(([c,D])=>l(Re,{idPrefix:a,tab:c,tabIndex:D,canDelete:n.length>1,canRename:n.length>1,onChangeProperty:s,onDeleteTab:i,onRename:o},c.id))})]})};var d=(u=>(u.DAMAGE_PER_HIT_IN_STATUS="damagePerHitInStatus",u.DAMAGE_PER_HIT_IN_BATTLE="damagePerHitInBattle",u.DURATION="duration",u.COOLDOWN="cooldown",u.LOCK_ON_TIME="lockOnTime",u.ATTACKS_PER_ROUND="attacksPerRound",u.SHOTS_PER_ATTACK="shotsPerAttack",u.ROUND_TIME="roundTime",u.DAMAGE_PER_ROUND_IN_STATUS="damagePerRoundInStatus",u.DAMAGE_PER_ROUND_IN_BATTLE="damagePerRoundInBattle",u.TIME_TO_DESTROY_TARGET="timeToDestroyTarget",u.WEAPON_DPM_IN_STATUS="weaponDpmInStatus",u.WEAPON_DPM_IN_BATTLE="weaponDpmInBattle",u.SQUAD_WEAPON_DPM_IN_STATUS="squadDpmInStatus",u.SQUAD_WEAPON_DPM_IN_BATTLE="squadDpmInBattle",u))(d||{});function Oe(){return H({[d.DAMAGE_PER_HIT_IN_STATUS]:g({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8",description:"\u30B9\u30AD\u30EB\u8A2D\u5B9A\u5F8C\u306E\u6B66\u5668\u60C5\u5831\u753B\u9762\u306B\u8868\u793A\u3055\u308C\u308B\u6570\u5024\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\uFF09",dependsOn:{weaponBaseProperties:[F.DAMAGE_PER_HIT,F.TUNE],weaponEnhancementProperties:[S.INCREASE_DAMAGE_PER_HIT]},update:({weaponBaseProperties:u,weaponEnhancementProperties:a},n)=>{const{damagePerHit:t,tune:e}=u,{increaseDamagePerHit:r}=a;return t.value===null||r.value===null||e.value===null?n:{...n,value:t.value*z(r.value)*z(e.value),formula:{formula:`([${t.label}] * (100% + [${r.label}])) + ([${t.label}] * [${e.label}] * (100% + [${r.label}]))`,filledFormula:[`(${C(t.value)} * (${Au(r.value)})) + (${C(t.value)} * ${e.value}% * (${Au(r.value)})))`,`${t.value*z(r.value)} + ${t.value*(e.value/100)*z(r.value)}`]}}}}),[d.DAMAGE_PER_HIT_IN_BATTLE]:g({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024",dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE],targetProperties:[U.ARMOR,U.ENERGY_SHIELD],outputProperties:[d.DAMAGE_PER_HIT_IN_STATUS]},update:({weaponBaseProperties:u,targetProperties:a,outputProperties:n},t)=>{const{damagePerHitInStatus:e}=n,{armor:r,energyShield:i}=a;return e.value===null?t:u.damageType.value==="energyDamage"||u.damageType.value==="energyDamageIon"?i.value===null?t:{...t,value:e.value*W(i.value),formula:{formula:`[${e.label}] * (100% - [${i.label}])`,filledFormula:`${C(e.value)} * (${Y(i.value)})`}}:r.value===null?t:{...t,value:Math.max(e.value-r.value,Math.floor(e.value*.1)),formula:{formula:`max([${e.label}] - [${r.label}], trunc([${e.label}] * 10%))`,filledFormula:`max(${C(e.value)} - ${C(r.value)}, trunc(${C(e.value)} * 0.1))`}}}}),[d.DURATION]:g({label:"\u6301\u7D9A\u6642\u9593",unit:v.SECONDS,dependsOn:{weaponBaseProperties:[F.DURATION],weaponEnhancementProperties:[S.REDUCE_DURATION]},update:({weaponBaseProperties:u,weaponEnhancementProperties:a},n)=>{const{duration:t}=u,{reduceDuration:e}=a;return t.value===null||e.value===null?n:{...n,value:Math.max(t.value*W(e.value),0),formula:{formula:`max([${t.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${t.value} * (${Y(e.value)}), 0)`}}}}),[d.COOLDOWN]:g({label:"\u51B7\u5374\u6642\u9593",unit:v.SECONDS,dependsOn:{weaponBaseProperties:[F.COOLDOWN],weaponEnhancementProperties:[S.REDUCE_COOLDOWN]},update:({weaponBaseProperties:u,weaponEnhancementProperties:a},n)=>{const{cooldown:t}=u,{reduceCooldown:e}=a;return t.value===null||e.value===null?n:{...n,value:Math.max(t.value*W(e.value),0),formula:{formula:`max([${t.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${t.value} * (${Y(e.value)}), 0)`}}}}),[d.LOCK_ON_TIME]:g({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593",unit:v.SECONDS,dependsOn:{weaponBaseProperties:[F.LOCK_ON_TIME],weaponEnhancementProperties:[S.REDUCE_LOCKON]},update:({weaponBaseProperties:u,weaponEnhancementProperties:a},n)=>{const{lockOnTime:t}=u,{reduceLockon:e}=a;return t.value===null||e.value===null?n:{...n,value:Math.max(t.value*W(e.value),0),formula:{formula:`max([${t.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${t.value} * (${Y(e.value)}), 0)`}}}}),[d.ATTACKS_PER_ROUND]:g({label:"\u653B\u6483\u56DE\u6570",dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE,F.ATTACKS_PER_ROUND,F.ATTACKS_PER_ROUND_ION],weaponEnhancementProperties:[S.INCREASE_ATTACKS_PER_ROUND]},update:({weaponBaseProperties:u,weaponEnhancementProperties:a},n)=>{const{damageType:t,attacksPerRound:e,attacksPerRoundIon:r}=u,{increaseAttacksPerRound:i}=a;return t.value===""||i.value===null?n:u.damageType.value==="energyDamageIon"?r.value===null?n:{...n,value:r.value+i.value,formula:{formula:`[${r.label}] + [${i.label}]`,filledFormula:`${r.value} + ${i.value}`}}:e.value===null?n:{...n,value:e.value+i.value,formula:{formula:`[${e.label}] + [${i.label}]`,filledFormula:`${e.value} + ${i.value}`}}}}),[d.SHOTS_PER_ATTACK]:g({label:"\u9023\u88C5\u6570",hidden:!0,dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE,F.SHOTS_PER_ATTACK,F.SHOTS_PER_ATTACK_ION]},update:({weaponBaseProperties:u},a)=>{const{damageType:n,shotsPerAttack:t,shotsPerAttackIon:e}=u;return n.value===""?a:u.damageType.value==="energyDamageIon"?e.value===null?a:{...a,value:e.value}:t.value===null?a:{...a,value:t.value}}}),[d.ROUND_TIME]:g({label:"\u30E9\u30A6\u30F3\u30C9\u6642\u9593",unit:v.SECONDS,dependsOn:{shipProperties:[f.TYPE,f.FIGHTER_ATTACK_PATTERN,f.CORVETTE_ATTACK_PATTERN],outputProperties:[d.DURATION,d.COOLDOWN,d.LOCK_ON_TIME]},update:({shipProperties:u,outputProperties:a},n)=>{const{type:t,fighterAttackPattern:e,corvetteAttackPattern:r}=u,{duration:i,cooldown:o,lockOnTime:s}=a;return t.value===""||e.value===""||r.value===""||i.value===null||o.value===null?n:t.value==="fighter"&&e.value==="rtb"||t.value==="corvette"&&r.value==="rtb"?s.value===null?n:{...n,value:i.value+o.value+s.value,formula:{formula:`[${i.label}] + [${o.label}] + [${s.label}]`,filledFormula:`${C(i.value)} \u79D2 + ${C(o.value)} \u79D2 + ${C(s.value)} \u79D2`,description:"\u91CD\u8907\u653B\u6483\u3092\u884C\u3046\u8266\u8F09\u6A5F\u3067\u306F\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u3082\u30E9\u30A6\u30F3\u30C9\u6642\u9593\u306B\u542B\u307E\u308C\u307E\u3059"}}:{...n,value:i.value+o.value,formula:{formula:`[${i.label}] + [${o.label}]`,filledFormula:`${C(i.value)} + ${C(o.value)}`}}}}),[d.DAMAGE_PER_ROUND_IN_STATUS]:g({label:"\u30E9\u30A6\u30F3\u30C9\u30C0\u30E1\u30FC\u30B8",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u3042\u305F\u308A\u306E\u5408\u8A08\u30C0\u30E1\u30FC\u30B8\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\uFF09",dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],weaponBaseProperties:[F.INSTALLATION],outputProperties:[d.DAMAGE_PER_HIT_IN_STATUS,d.ATTACKS_PER_ROUND,d.SHOTS_PER_ATTACK]},update:({shipProperties:u,weaponBaseProperties:a,outputProperties:n},t)=>{const{type:e,squadSize:r}=u,{installation:i}=a,{damagePerHitInStatus:o,attacksPerRound:s,shotsPerAttack:E}=n;return e.value===""||i.value===null||o.value===null||s.value===null||E.value===null?t:e.value==="fighter"?r.value===null?t:{...t,value:r.value*o.value*i.value*s.value*E.value,formula:{formula:`[${r.label}] * [${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${r.value} * ${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}:{...t,value:o.value*i.value*s.value*E.value,formula:{formula:`[${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}}}),[d.DAMAGE_PER_ROUND_IN_BATTLE]:g({label:"\u30E9\u30A6\u30F3\u30C9\u30C0\u30E1\u30FC\u30B8\uFF08\u76EE\u6A19\u5225\uFF09",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u3042\u305F\u308A\u306E\u5408\u8A08\u30C0\u30E1\u30FC\u30B8\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024\uFF09",dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],weaponBaseProperties:[F.INSTALLATION],outputProperties:[d.DAMAGE_PER_HIT_IN_BATTLE,d.ATTACKS_PER_ROUND,d.SHOTS_PER_ATTACK]},update:({shipProperties:u,weaponBaseProperties:a,outputProperties:n},t)=>{const{type:e,squadSize:r}=u,{installation:i}=a,{damagePerHitInBattle:o,attacksPerRound:s,shotsPerAttack:E}=n;return e.value===""||i.value===null||o.value===null||s.value===null||E.value===null?t:e.value==="fighter"?r.value===null?t:{...t,value:r.value*o.value*i.value*s.value*E.value,formula:{formula:`[${r.label}] * [${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${r.value} * ${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}:{...t,value:o.value*i.value*s.value*E.value,formula:{formula:`[${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}}}),[d.TIME_TO_DESTROY_TARGET]:g({label:"\u76EE\u6A19\u6483\u7834\u307E\u3067\u306E\u6642\u9593",description:"\u653B\u6483\u76EE\u6A19\u3092\u6483\u7834\u3059\u308B\u307E\u3067\u306E\u6642\u9593\u3067\u3059\u3002\u76EE\u6A19\u3092\u6483\u7834\u3057\u305F\u6700\u5F8C\u306E\u30E9\u30A6\u30F3\u30C9\u306E\u6301\u7D9A\u6642\u9593\u307E\u3067\u304C\u542B\u307E\u308C\u307E\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u8A08\u7B97\u3067\u3059\u3002",unit:v.SECONDS,dependsOn:{targetProperties:[U.HP],outputProperties:[d.COOLDOWN,d.ROUND_TIME,d.DAMAGE_PER_ROUND_IN_BATTLE]},update:({targetProperties:u,outputProperties:a},n)=>{const{hp:t}=u,{cooldown:e,roundTime:r,damagePerRoundInBattle:i}=a;return t.value===null||e.value===null||r.value===null||i.value===null?n:{...n,value:Math.ceil(t.value/i.value)*r.value-e.value,formula:{formula:`ceil([${t.label}] / [${i.label}]) * [${r.label}] - [${e.label}]`,filledFormula:`ceil(${t.value} / ${C(i.value)}) * ${C(r.value)} - ${C(e.value)}`}}}}),[d.WEAPON_DPM_IN_STATUS]:g({label:"\u6B66\u88C5DPM",description:"\u6B66\u88C5\u306E\u8A73\u7D30\u753B\u9762\u306B\u8868\u793A\u3055\u308C\u3066\u3044\u308B\u6B66\u88C5DPM\u3067\u3059\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\u3067\u3059\uFF09\u3002\u30B2\u30FC\u30E0\u5185\u306B\u8868\u793A\u3055\u308C\u308B\u6570\u5024\u3068\u6BD4\u8F03\u3057\u3066\u5408\u308F\u306A\u3044\u5834\u5408\u306F\u4E0A\u3067\u5165\u529B\u3057\u305F\u5404\u6570\u5024\u3092\u518D\u5EA6\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\uFF11\u6A5F\u5206\u306E\u6570\u5024\u3067\u3059\u3002",unit:v.DPM,dependsOn:{outputProperties:[d.DAMAGE_PER_ROUND_IN_STATUS,d.ROUND_TIME]},update:({outputProperties:u},a)=>{const{damagePerRoundInStatus:n,roundTime:t}=u;return n.value===null||t.value===null?a:{...a,value:n.value/t.value*60,formula:{formula:`[${n.label}] / [${t.label}] * 60`,filledFormula:`${C(n.value)} / ${C(t.value)} * 60`}}}}),[d.WEAPON_DPM_IN_BATTLE]:g({label:"\u6B66\u88C5DPM\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6B66\u88C5DPM\u3067\u3059\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\uFF11\u6A5F\u5206\u306E\u6570\u5024\u3067\u3059\u3002",unit:v.DPM,dependsOn:{outputProperties:[d.DAMAGE_PER_ROUND_IN_BATTLE,d.ROUND_TIME]},update:({outputProperties:u},a)=>{const{damagePerRoundInBattle:n,roundTime:t}=u;return n.value===null||t.value===null?a:{...a,value:n.value/t.value*60,formula:{formula:`[${n.label}] / [${t.label}] * 60`,filledFormula:`${C(n.value)} / ${C(t.value)} * 60`}}}}),[d.SQUAD_WEAPON_DPM_IN_STATUS]:g({label:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM",description:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\u3067\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\u3067\u3059\u3002",unit:v.DPM,dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],outputProperties:[d.WEAPON_DPM_IN_STATUS]},update:({shipProperties:u,outputProperties:a},n)=>{const{type:t,squadSize:e}=u,{weaponDpmInStatus:r}=a;return t.value===""||e.value===null||r.value===null?n:t.value==="fighter"?e.value===null?n:{...n,value:e.value*r.value,formula:{formula:`[${e.label}] * [${r.label}]`,filledFormula:`${C(e.value)} * ${C(r.value)}`}}:n}}),[d.SQUAD_WEAPON_DPM_IN_BATTLE]:g({label:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\u3067\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024\u3067\u3059\u3002",unit:v.DPM,dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],outputProperties:[d.WEAPON_DPM_IN_BATTLE]},update:({shipProperties:u,outputProperties:a},n)=>{const{type:t,squadSize:e}=u,{weaponDpmInBattle:r}=a;return t.value===""||e.value===null||r.value===null?n:t.value==="fighter"?e.value===null?n:{...n,value:e.value*r.value,formula:{formula:`[${e.label}] * [${r.label}]`,filledFormula:`${C(e.value)} * ${C(r.value)}`}}:n}})})}function Se(u){const{shipProperties:a,weaponBaseProperties:n,enhancementTabs:t,attackTargetTabs:e,baseOutputProperties:r}=u,i={};return t.forEach(o=>{e.forEach(s=>{i[o.id]||(i[o.id]={}),i[o.id][s.id]=$e({shipProperties:a,weaponBaseProperties:n,weaponEnhancementProperties:o.properties,targetProperties:s.properties,outputProperties:r})})}),i}function $e(u){const{shipProperties:a,weaponBaseProperties:n,weaponEnhancementProperties:t,targetProperties:e,outputProperties:r}=u;return Object.values(d).map(i=>i).reduce((i,o)=>{const s=r[o];if(Ie(s,{...u,outputProperties:i}))return{...i,[o]:Me(s)};if(s.type==="numeric"){const E=s;return{...i,[o]:E.update({shipProperties:a,weaponBaseProperties:n,weaponEnhancementProperties:t,targetProperties:e,outputProperties:i},E)}}return i},{...r})}function Ie(u,a){if(!u.dependsOn)return!1;let n=!1;return u.dependsOn.weaponBaseProperties&&(n=n||!!u.dependsOn.weaponBaseProperties.find(t=>!J(a.weaponBaseProperties[t]))),u.dependsOn.weaponEnhancementProperties&&(n=n||!!u.dependsOn.weaponEnhancementProperties.find(t=>!J(a.weaponEnhancementProperties[t]))),u.dependsOn.targetProperties&&(n=n||!!u.dependsOn.targetProperties.find(t=>!J(a.targetProperties[t]))),u.dependsOn.outputProperties&&(n=n||!!u.dependsOn.outputProperties.find(t=>!xe(a.outputProperties[t]))),n}function J(u){switch(u.type){case"numeric":return u.value!==null;case"select":return!!u.value;default:throw new Error(`Cannot determine whether "${u.label}" is set`)}}function xe(u){switch(u.type){case"numeric":return u.value!==null;default:throw new Error(`Cannot determine whether "${u.label}" is set, unsupported property type`)}}function Me(u){switch(u.type){case"numeric":{const a=u;return{...a,value:null,formula:a.formula?{...a.formula,filledFormula:null,description:void 0}:void 0}}default:throw new Error(`Cannot reset "${u.label}", unsupported property type`)}}function g(u){return{type:"numeric",id:"[id]",label:"[label]",value:null,update:(a,n)=>n,...u}}function au(u,a,n){var t,e,r,i,o,s,E,A;return((r=(e=(t=u.dependsOn)==null?void 0:t[a])==null?void 0:e.length)!=null?r:0)>0?!0:((s=(o=(i=u.dependsOn)==null?void 0:i.outputProperties)==null?void 0:o.length)!=null?s:0)>0?!!((A=(E=u.dependsOn)==null?void 0:E.outputProperties)!=null&&A.find(c=>au(n[c],a,n))):!1}const j=u=>{var e,r;const{property:a}=u,n=(()=>{if(!a)return"-";if(a.type==="numeric"){const i=a.value;if(i===null)return"-";const o=a.unit;return o?`${C(i)} ${Su(o)}`:C(i)}return"?"})(),t=l(m,{component:"span",variant:"body2",color:"text.secondary",children:n});return((e=a==null?void 0:a.formula)==null?void 0:e.formula)&&((r=a==null?void 0:a.formula)==null?void 0:r.filledFormula)?l(Qu,{title:p(N,{spacing:1,children:[l(m,{variant:"body2",children:`[${a.label}]`}),l(L,{}),l(m,{variant:"body2",children:`= ${a.formula.formula}`}),l(L,{}),Array.isArray(a.formula.filledFormula)?l($,{children:a.formula.filledFormula.map((i,o)=>p(T.exports.Fragment,{children:[l(m,{variant:"body2",children:`= ${i}`}),l(L,{})]},`filledFormula_${o}`))}):p($,{children:[l(m,{variant:"body2",children:`= ${a.formula.filledFormula}`}),l(L,{})]}),l(m,{variant:"body2",children:`= ${n}`}),a.formula.description&&p($,{children:[l(L,{}),l(m,{variant:"body2",children:a.formula.description})]})]}),children:t}):t},Ue=u=>{const{shipProperties:a,weaponBaseProperties:n,enhancementTabs:t,attackTargetTabs:e}=u,r=T.exports.useMemo(()=>Oe(),[]),i=T.exports.useMemo(()=>Se({shipProperties:a,weaponBaseProperties:n,enhancementTabs:t,attackTargetTabs:e,baseOutputProperties:r}),[a,n,t,e,r]);return p($,{children:[t.length===1&&e.length===1&&l(tu,{sx:{alignItems:"center"},rows:Object.values(r).filter(o=>o.hidden!==!0).map(o=>({key:o.id,label:o.label,value:(()=>{var E,A;const s=(A=(E=i[t[0].id])==null?void 0:E[e[0].id])==null?void 0:A[o.id];return p(N,{direction:"row",spacing:2,sx:{alignItems:"center"},children:[l(j,{property:s!=null?s:null}),(s==null?void 0:s.description)&&l(Q,{title:s.label,text:s.description})]})})()}))}),(t.length>1||e.length>1)&&Object.values(r).filter(o=>o.hidden!==!0).map(o=>{var O,_,b;const s=au(o,"weaponEnhancementProperties",r),E=au(o,"targetProperties",r),A=s&&t.length>1,c=A&&E&&e.length>1,D=!A&&E&&e.length>1;return p(R,{pb:6,children:[l(R,{pb:2,children:p(N,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[l(m,{variant:"body1",children:o.label}),o.description&&l(Q,{title:o.label,text:o.description})]})}),A&&l(R,{pl:2,children:l(iu,{component:M,sx:{width:"fit-content"},children:p(ou,{size:"small",sx:{width:"fit-content"},children:[l(su,{children:p(K,{children:[c&&l(w,{children:""}),t.map((B,h)=>l(w,{children:l(m,{variant:"body2",color:"text.secondary",children:B.name||B.defaultName(h)})},B.id))]})}),l(Eu,{children:(c?e:[e[0]]).map((B,h)=>p(K,{children:[c&&l(w,{children:l(m,{variant:"body2",color:"text.secondary",children:B.name||B.defaultName(h)})}),t.map(I=>{var x,k,G;return l(w,{children:l(j,{property:(G=(k=(x=i[I.id])==null?void 0:x[B.id])==null?void 0:k[o.id])!=null?G:null})},I.id)})]},B.id))})]})})}),!A&&D&&l(R,{pl:2,children:l(iu,{component:M,sx:{width:"fit-content"},children:p(ou,{size:"small",sx:{width:"fit-content"},children:[l(su,{children:l(K,{children:e.map((B,h)=>l(w,{children:l(m,{variant:"body2",color:"text.secondary",children:B.name||B.defaultName(h)})},B.id))})}),l(Eu,{children:l(K,{children:e.map(B=>{var h,I,x;return l(w,{children:l(j,{property:(x=(I=(h=i[t[0].id])==null?void 0:h[B.id])==null?void 0:I[o.id])!=null?x:null})},B.id)})})})]})})}),!A&&!D&&l(R,{pl:2,children:l(j,{property:(b=(_=(O=i[t[0].id])==null?void 0:O[e[0].id])==null?void 0:_[o.id])!=null?b:null})})]},o.id)})]})},je=()=>{const[u,a]=T.exports.useState(()=>de()),[n,t]=T.exports.useState(()=>ce()),{tabIndex:e,canAddTab:r,tabs:i,setTabIndex:o,addTab:s,removeTab:E,renameTab:A,changeProperty:c}=pu({idPrefix:"enhancementTab",tabNamePrefix:"\u30B9\u30AD\u30EB\u8A2D\u5B9A",propertyFactoryFn:Ae}),{tabIndex:D,canAddTab:O,tabs:_,setTabIndex:b,addTab:B,removeTab:h,renameTab:I,changeProperty:x}=pu({idPrefix:"attackTargetTab",tabNamePrefix:"\u653B\u6483\u76EE\u6A19",propertyFactoryFn:Ce}),k=T.exports.useCallback(y=>{a(Z=>({...Z,[y.id]:y}))},[]),G=T.exports.useCallback(y=>{t(Z=>({...Z,[y.id]:y}))},[]);return p($,{children:[l(Gu,{currentRoute:"/dpmCalc"}),l(Ku,{children:l(R,{p:1,children:p(N,{pt:1,spacing:4,children:[l(m,{variant:"body2",children:"\u3053\u3061\u3089\u306EDPM\u8A08\u7B97\u6A5F\u3067\u306F\u8907\u6570\u306E\u30B9\u30AD\u30EB\u8A2D\u5B9A\u3092\u540C\u6642\u306B\u8907\u6570\u306E\u653B\u6483\u76EE\u6A19\u306B\u5BFE\u3057\u3066\u6BD4\u8F03\u3067\u304D\u307E\u3059\u3002"}),p(N,{spacing:1,children:[l(m,{variant:"body1",children:"\u8266\u8239\u60C5\u5831"}),l(M,{children:l(R,{p:1,children:l(Cu,{properties:u,onChange:k,isVisibleProperty:Fe})})})]}),p(N,{spacing:1,children:[l(m,{variant:"body1",children:"\u6B66\u88C5\u60C5\u5831\uFF08\u521D\u671F\u30B9\u30C6\u30FC\u30BF\u30B9\uFF09"}),l(M,{children:l(R,{p:1,children:l(Cu,{properties:n,onChange:G,isVisibleProperty:pe})})})]}),p(N,{spacing:1,children:[l(m,{variant:"body1",children:"\u30B9\u30AD\u30EB"}),l(M,{children:l(Du,{idPrefix:"enhancementTab",tabs:i,tabIndex:e,canAddTab:r,addTab:s,removeTab:E,renameTab:A,changeProperty:c,setTabIndex:o})})]}),p(N,{spacing:1,children:[l(m,{variant:"body1",children:"\u653B\u6483\u76EE\u6A19"}),l(M,{children:l(Du,{idPrefix:"attackTargetTab",tabs:_,tabIndex:D,canAddTab:O,addTab:B,removeTab:h,renameTab:I,changeProperty:x,setTabIndex:b})})]}),p(N,{spacing:1,children:[l(m,{variant:"body1",children:"\u8A08\u7B97\u7D50\u679C"}),l(M,{children:l(R,{p:1,children:l(Ue,{shipProperties:u,weaponBaseProperties:n,enhancementTabs:i,attackTargetTabs:_})})})]}),p(Yu,{severity:"warning",children:[l(ae,{children:"\u73FE\u5728\u3053\u306E\u8A08\u7B97\u6A5F\u3067\u306F\u300C\u547D\u4E2D\u7387\u300D\u3068\u300C\u56DE\u907F\u7387\u300D\u3092\u542B\u307E\u306A\u3044\u8A08\u7B97\u3092\u3057\u3066\u3044\u307E\u3059\u3002"}),"\u547D\u4E2D\u7387\u3068\u56DE\u907F\u7387\u3092\u542B\u3081\u305F\u8A08\u7B97\u3092\u884C\u3046\u5834\u5408\u3001\u30B2\u30FC\u30E0\u5185\u3067\u306F\u898B\u308C\u306A\u3044\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u8907\u6570\u63C3\u3048\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002\u6B66\u5668\u6BCE\u306B\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308B\u300C\u653B\u6483\u76EE\u6A19\u306E\u8266\u7A2E\u5225\u306E\u57FA\u790E\u547D\u4E2D\u7387\u300D\u3068\u300C\u5BFE\u8266/\u5BFE\u7A7A/\u653B\u57CE\u57FA\u790E\u547D\u4E2D\u7387\u300D\u304C\u4E0D\u8DB3\u3057\u3066\u3044\u307E\u3059\u3002\u5165\u624B\u65B9\u6CD5\u304C\u96E3\u3057\u304F\u3001\u6B66\u5668\u306E\u69CB\u6210\u6B21\u7B2C\u3067\u306F\u9006\u7B97\u3067\u304D\u306A\u3044\u5834\u5408\u3082\u3042\u308A\u307E\u3059\u3002\u4ECA\u5F8C\u3053\u308C\u3089\u306E\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u5FC5\u8981\u3068\u3057\u306A\u3044\u7C21\u7565\u5316\u3057\u305F\u8A08\u7B97\u5F0F\u3092\u4F7F\u3046\u300C\u30CE\u30FC\u30DE\u30EB\u30E2\u30FC\u30C9\u300D\u3068\u5168\u3066\u306E\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u5165\u529B\u3067\u304D\u308B\u300C\u30A8\u30AD\u30B9\u30D1\u30FC\u30C8\u30E2\u30FC\u30C9\u300D\u3092\u5206\u3051\u3066\u5B9F\u88C5\u3059\u308B\u4E88\u5B9A\u3067\u3059\u3002"]})]})})}),l(zu,{})]})};export{je as DpmCalcPage,je as default};

import{P as y,Q as I,R as S,r as h,k as e,j as a,w as n,q as $,T as s,t,B as o,aQ as L,F as R,x as T,aR as Q,y as W}from"./index.c806712b.js";import{R as V}from"./ResponsiveDialog.5a595fdc.js";import{C as G,d as J}from"./ConfirmationDialog.cd3ca75c.js";import{A as w,T as N}from"./TextField.e0e1b73e.js";var k={},K=I.exports;Object.defineProperty(k,"__esModule",{value:!0});var H=k.default=void 0,U=K(y),X=S,Y=(0,U.default)((0,X.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");H=k.default=Y;var D={},Z=I.exports;Object.defineProperty(D,"__esModule",{value:!0});var ee=D.default=void 0,te=Z(y),ae=S,ne=(0,te.default)((0,ae.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen");ee=D.default=ne;const pe=m=>{const{confirmDialogTitle:b,confirmWarning:l,createPreview:u,parseInput:p,canRestore:C,onImport:g,onClose:i,onSelectFile:x,onRestoreFromBackup:v}=m,[c,d]=h.exports.useState(null),[_,P]=h.exports.useState(""),[j,f]=h.exports.useState(!1),B=()=>{x(r=>{d(r)},()=>{i()})},q=()=>{v==null||v(r=>{d(r)},()=>{i()})},M=r=>{f(!1),P(r.target.value)},O=()=>{f(!1);let r;try{r=p(_)}catch(A){console.error(A),f(!0);return}if(r===null){f(!0);return}d(r)},E=()=>{c&&g(c),i()};return c?e(G,{title:b,question:a(n,{children:[l&&e(w,{severity:"warning",children:l}),e($,{p:1,children:e(s,{variant:"body2",component:"div",children:e("pre",{children:u(c)})})})]}),onConfirm:E,onCancel:()=>d(null)}):e(V,{title:t("label.dataImport"),content:a(n,{spacing:4,children:[l&&e(w,{severity:"warning",children:l}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.importFromFile")}),e(o,{variant:"outlined",onClick:B,disabled:!L(),children:t("button.chooseFile")})]}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.directInput")}),a(n,{direction:"row",spacing:1,children:[e($,{sx:{flexGrow:1},children:e(N,{id:"json-input",placeholder:t("label.pasteHere"),variant:"outlined",value:_,onChange:M,error:j,helperText:j?t("validation.invalidValue"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(o,{variant:"outlined",onClick:O,disabled:_.length===0,children:t("button.parseInput")})})]})]}),C&&a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.restoreFromBackup")}),e(o,{variant:"outlined",onClick:q,children:t("button.restoreFromStorage")})]})]}),onClose:i,actions:e(R,{children:e(o,{variant:"outlined",onClick:i,children:t("button.cancel")})})})};var F={},re=I.exports;Object.defineProperty(F,"__esModule",{value:!0});var z=F.default=void 0,oe=re(y),le=S,ie=(0,oe.default)((0,le.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");z=F.default=ie;const ve=m=>{const{fileName:b,jsonContent:l,onClose:u,onStoreBackup:p}=m,[C,g]=h.exports.useState(!1),[i,x]=h.exports.useState(!1),v=()=>{Q(l,b),u()},c=()=>{p&&(p(),x(!0))},d=()=>{W(l).then(()=>{g(!0)})};return e(V,{title:t("label.dataExport"),content:a(n,{spacing:4,children:[a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.exportToFile")}),e(o,{variant:"outlined",onClick:v,startIcon:e(z,{}),children:t("button.downloadFile")})]}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.directCopy")}),e(o,{variant:"outlined",onClick:d,startIcon:C?e(T,{}):e(H,{}),children:t("button.copyToClipboard")})]}),p&&a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.createBackup")}),e(o,{variant:"outlined",onClick:c,startIcon:i?e(T,{}):e(J,{}),children:t("button.storeBackupInStorage")})]})]}),onClose:u,actions:e(R,{children:e(o,{variant:"outlined",onClick:u,children:t("button.close")})})})};export{ve as E,pe as I,ee as a,H as d};

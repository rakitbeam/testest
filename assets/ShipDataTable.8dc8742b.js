var P=Object.defineProperty,R=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var v=(e,r,a)=>r in e?P(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,d=(e,r)=>{for(var a in r||(r={}))I.call(r,a)&&v(e,a,r[a]);if(x)for(var a of x(r))J.call(r,a)&&v(e,a,r[a]);return e},C=(e,r)=>R(e,E(r));import{v as V,w as z,x as O,r as c,b as g,F as S,j as t,y as _,h as j,P as q,G,z as W,A as $,c as A,M as N,E as U,I as Y,J as Q,K as X,D as Z,T as F}from"./vendor.612e55a5.js";import{g as ee}from"./domUtils.e9df6b0f.js";import{u as re,T as ae}from"./useTable.a69db608.js";import{p as te,a as ne,s as M,t as se,q as B,r as ue,u as b,k as ce,v as H,l as oe,w as k,m as le,x as s,n as ie,y,z as me}from"./index.bcaed592.js";var D={},pe=z.exports;Object.defineProperty(D,"__esModule",{value:!0});var L=D.default=void 0,he=pe(V),de=O,ye=(0,he.default)((0,de.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");L=D.default=ye;function Le(e={}){return d({name:!0,type:!1,row:!1,cost:!1,operationLimit:!1,source:!1,manufacturer:!1,researchManufacturer:!1,researchStrategyType:!1,researchTacticType:!1,weight:!1},e)}function Te(e){const{disableResearchAgreementOptions:r}=e;return[{columnKey:"type",name:"\u8266\u7A2E"},{columnKey:"row",name:"\u914D\u7F6E"},{columnKey:"cost",name:"\u30B3\u30B9\u30C8"},{columnKey:"operationLimit",name:"\u7A3C\u50CD\u4E0A\u9650"},{columnKey:"source",name:"\u5165\u624B\u65B9\u6CD5"},{columnKey:"manufacturer",name:"\u4F01\u696D"},...r!==!0?[{columnKey:"researchManufacturer",name:"\u59D4\u8A17\u4F01\u696D\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchStrategyType",name:"\u6226\u7565\u80FD\u529B\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"},{columnKey:"researchTacticType",name:"\u6226\u8853\u6027\u80FD\uFF08\u7814\u7A76\u5354\u5B9A\uFF09"}]:[],{columnKey:"weight",name:"\u78BA\u7387\u306E\u91CD\u307F"}]}const Ke=e=>{const{onChange:r,buttonProps:a,disableResearchAgreementOptions:n}=e,[u,i]=c.exports.useState(e.columnConfig),[m,p]=c.exports.useState(!1),[T]=c.exports.useState(()=>Te({disableResearchAgreementOptions:n})),f=c.exports.useRef(null),K=o=>{i(h=>C(d({},h),{[o]:!h[o]}))};return c.exports.useEffect(()=>{const o=setTimeout(()=>{r(u)},0);return()=>clearTimeout(o)},[u,r]),g(S,{children:[t(_,{variant:"outlined",fullWidth:a==null?void 0:a.fullWidth,size:a==null?void 0:a.size,ref:f,children:t(j,{startIcon:t(L,{}),onClick:()=>p(!0),children:"\u8868\u793A\u9805\u76EE"})},"columnConfig"),t(q,{open:m,anchorEl:f.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1},children:({TransitionProps:o,placement:h})=>{var w;return t(G,C(d({},o),{style:{transformOrigin:h==="bottom"?"center top":"center bottom"},children:t("div",{children:t(W,{onClickAway:()=>p(!1),children:g($,{children:[t(A,{sx:{overflowY:"auto",maxHeight:`${((w=ee(f.current))!=null?w:0)-50}px`},children:t(N,{id:"split-button-menu",children:T.map(l=>g(U,{selected:u[l.columnKey],onClick:()=>K(l.columnKey),children:[t(Y,{children:t(Q,{edge:"start",checked:u[l.columnKey],tabIndex:-1,disableRipple:!0})}),t(X,{children:l.name})]},l.columnKey))})}),t(Z,{}),t(A,{p:1,display:"flex",justifyContent:"end",children:t(j,{variant:"outlined",onClick:()=>p(!1),children:"\u9589\u3058\u308B"})})]})})})}))}})]})},fe=e=>({id:"nameLink",renderHeader:()=>"\u8266\u540D",renderCell:r=>t(F,{variant:"body2",children:t(te,{onClick:()=>{e.onClick(r.id)},children:r.name})}),sortFn:(r,a)=>r.name.localeCompare(a.name,"ja-JP")}),Ce={id:"type",renderHeader:()=>"\u8266\u7A2E",renderCell:e=>ne(e.type,e.subType),sortFn:[(e,r)=>M(e.type,e.subType)-M(r.type,r.subType),(e,r)=>e.name.localeCompare(r.name,"ja-JP")],initialSortDirection:"asc"},ge={id:"row",renderHeader:()=>"\u914D\u7F6E",renderCell:e=>se(e.row),sortFn:[(e,r)=>B(e.row)-B(r.row),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Se={id:"cost",renderHeader:()=>"\u30B3\u30B9\u30C8",renderCell:e=>e.cost,sortFn:[(e,r)=>e.cost-r.cost,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Fe={id:"operationLimit",renderHeader:()=>"\u7A3C\u50CD\u4E0A\u9650",renderCell:e=>e.operationLimit,sortFn:[(e,r)=>e.operationLimit-r.operationLimit,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},De={id:"source",renderHeader:()=>"\u5165\u624B\u65B9\u6CD5",renderCell:e=>ue(e.source),sortFn:[(e,r)=>b(e.source)-b(r.source),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},we={id:"manufacturer",renderHeader:()=>"\u4F01\u696D",renderCell:e=>ce(e.manufacturer),sortFn:[(e,r)=>H(e.manufacturer)-H(r.manufacturer),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},xe={id:"researchManufacturer",renderHeader:()=>"\u59D4\u8A17\u4F01\u696D",renderCell:e=>e.researchManufacturer?oe(e.researchManufacturer):null,sortFn:[(e,r)=>(e.researchManufacturer?k(e.researchManufacturer):0)-(r.researchManufacturer?k(r.researchManufacturer):0),(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},ve={id:"researchStrategyType",renderHeader:()=>"\u6226\u7565\u80FD\u529B",renderCell:e=>{var r;return t(S,{children:((r=e.researchStrategyTypes)!=null?r:[]).map(a=>t(F,{variant:"body2",children:le(a)},a))})},sortFn:[(e,r)=>{var a,n;return(((a=e.researchStrategyTypes)==null?void 0:a[0])?s(e.researchStrategyTypes[0]):0)-(((n=r.researchStrategyTypes)==null?void 0:n[0])?s(r.researchStrategyTypes[0]):0)},(e,r)=>{var a,n;return(((a=e.researchStrategyTypes)==null?void 0:a[1])?s(e.researchStrategyTypes[1]):0)-(((n=r.researchStrategyTypes)==null?void 0:n[1])?s(r.researchStrategyTypes[1]):0)},(e,r)=>{var a,n;return(((a=e.researchStrategyTypes)==null?void 0:a[2])?s(e.researchStrategyTypes[2]):0)-(((n=r.researchStrategyTypes)==null?void 0:n[2])?s(r.researchStrategyTypes[2]):0)},(e,r)=>{var a,n;return(((a=e.researchStrategyTypes)==null?void 0:a[3])?s(e.researchStrategyTypes[3]):0)-(((n=r.researchStrategyTypes)==null?void 0:n[3])?s(r.researchStrategyTypes[3]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},je={id:"researchTacticType",renderHeader:()=>"\u6226\u8853\u6027\u80FD",renderCell:e=>{var r;return t(S,{children:((r=e.researchTacticTypes)!=null?r:[]).map(a=>t(F,{variant:"body2",children:ie(a)},a))})},sortFn:[(e,r)=>{var a,n;return(((a=e.researchTacticTypes)==null?void 0:a[0])?y(e.researchTacticTypes[0]):0)-(((n=r.researchTacticTypes)==null?void 0:n[0])?y(r.researchTacticTypes[0]):0)},(e,r)=>{var a,n;return(((a=e.researchTacticTypes)==null?void 0:a[1])?y(e.researchTacticTypes[1]):0)-(((n=r.researchTacticTypes)==null?void 0:n[1])?y(r.researchTacticTypes[1]):0)},(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Ae={id:"weight",renderHeader:()=>"\u91CD\u307F",renderCell:e=>e.weight,sortFn:[(e,r)=>e.weight-r.weight,(e,r)=>e.name.localeCompare(r.name,"ja-JP")]},Pe=e=>{const{shipDefinitions:r,columnConfig:a}=e,{table:n,setTableData:u}=re(),{openShipDetailDialog:i}=me(),m=c.exports.useMemo(()=>[fe({onClick:i}),...a.type?[Ce]:[],...a.row?[ge]:[],...a.cost?[Se]:[],...a.operationLimit?[Fe]:[],...a.source?[De]:[],...a.manufacturer?[we]:[],...a.researchManufacturer?[xe]:[],...a.researchStrategyType?[ve]:[],...a.researchTacticType?[je]:[],...a.weight?[Ae]:[]],[a,i]);return c.exports.useEffect(()=>{u({columns:m,data:r,rowIdFn:T=>T.id})},[u,m,r]),t(ae,{table:n,size:"small"})};export{Ke as C,Pe as S,Le as c};

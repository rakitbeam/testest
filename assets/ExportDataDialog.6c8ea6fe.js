import{P as m,Q as b,R as C,r as h,k as e,j as a,w as r,q as R,T as c,t,B as o,aQ as Q,F as V,x as T,aR as W,y as G}from"./index.5c26d7d4.js";import{R as z}from"./ResponsiveDialog.af931224.js";import{C as J,d as N}from"./ConfirmationDialog.81b74af0.js";import{A as w,T as K}from"./TextField.c65e00c4.js";var $={},U=b.exports;Object.defineProperty($,"__esModule",{value:!0});var X=$.default=void 0,Y=U(m),Z=C,ee=(0,Y.default)((0,Z.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");X=$.default=ee;var j={},te=b.exports;Object.defineProperty(j,"__esModule",{value:!0});var H=j.default=void 0,ae=te(m),re=C,ne=(0,ae.default)((0,re.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");H=j.default=ne;var D={},oe=b.exports;Object.defineProperty(D,"__esModule",{value:!0});var le=D.default=void 0,ie=oe(m),ce=C,se=(0,ie.default)((0,ce.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen");le=D.default=se;const Ce=g=>{const{confirmDialogTitle:_,confirmWarning:l,createPreview:u,parseInput:p,canRestore:x,onImport:y,onClose:i,onSelectFile:I,onRestoreFromBackup:v}=g,[s,d]=h.exports.useState(null),[S,M]=h.exports.useState(""),[F,f]=h.exports.useState(!1),q=()=>{I(n=>{d(n)},()=>{i()})},B=()=>{v==null||v(n=>{d(n)},()=>{i()})},O=n=>{f(!1),M(n.target.value)},L=()=>{f(!1);let n;try{n=p(S)}catch(A){console.error(A),f(!0);return}if(n===null){f(!0);return}d(n)},E=()=>{s&&y(s),i()};return s?e(J,{title:_,question:a(r,{children:[l&&e(w,{severity:"warning",children:l}),e(R,{p:1,children:e(c,{variant:"body2",component:"div",children:e("pre",{children:u(s)})})})]}),onConfirm:E,onCancel:()=>d(null)}):e(z,{title:t("label.dataImport"),content:a(r,{spacing:4,children:[l&&e(w,{severity:"warning",children:l}),a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.importFromFile")}),e(o,{variant:"outlined",onClick:q,disabled:!Q(),children:t("button.chooseFile")})]}),a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.directInput")}),a(r,{direction:"row",spacing:1,children:[e(R,{sx:{flexGrow:1},children:e(K,{id:"json-input",placeholder:t("label.pasteHere"),variant:"outlined",value:S,onChange:O,error:F,helperText:F?t("validation.invalidValue"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(o,{variant:"outlined",onClick:L,disabled:S.length===0,children:t("button.parseInput")})})]})]}),x&&a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.restoreFromBackup")}),e(o,{variant:"outlined",onClick:B,children:t("button.restoreFromStorage")})]})]}),onClose:i,actions:e(V,{children:e(o,{variant:"outlined",onClick:i,children:t("button.cancel")})})})};var k={},de=b.exports;Object.defineProperty(k,"__esModule",{value:!0});var P=k.default=void 0,ue=de(m),pe=C,ve=(0,ue.default)((0,pe.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");P=k.default=ve;const ge=g=>{const{fileName:_,jsonContent:l,onClose:u,onStoreBackup:p}=g,[x,y]=h.exports.useState(!1),[i,I]=h.exports.useState(!1),v=()=>{W(l,_),u()},s=()=>{p&&(p(),I(!0))},d=()=>{G(l).then(()=>{y(!0)})};return e(z,{title:t("label.dataExport"),content:a(r,{spacing:4,children:[a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.exportToFile")}),e(o,{variant:"outlined",onClick:v,startIcon:e(P,{}),children:t("button.downloadFile")})]}),a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.directCopy")}),e(o,{variant:"outlined",onClick:d,startIcon:x?e(T,{}):e(H,{}),children:t("button.copyToClipboard")})]}),p&&a(r,{spacing:1,children:[e(c,{variant:"body1",children:t("label.createBackup")}),e(o,{variant:"outlined",onClick:s,startIcon:i?e(T,{}):e(N,{}),children:t("button.storeBackupInStorage")})]})]}),onClose:u,actions:e(V,{children:e(o,{variant:"outlined",onClick:u,children:t("button.close")})})})};export{ge as E,Ce as I,H as a,le as b,X as d};

import{P as y,Q as I,R as S,r as h,k as e,j as a,w as n,q as D,T as c,t,B as o,aO as E,F as V,x as T,aP as A,y as W}from"./index.3f106ff4.js";import{R as w}from"./ResponsiveDialog.b54eeea7.js";import{C as G}from"./ConfirmationDialog.c3051a53.js";import{A as R}from"./Alert.7677d380.js";import{T as J}from"./TextField.6424d2d4.js";import{d as N}from"./Download.718236ce.js";import{d as Q}from"./Save.7d2692c9.js";var k={},K=I.exports;Object.defineProperty(k,"__esModule",{value:!0});var U=k.default=void 0,X=K(y),Y=S,Z=(0,X.default)((0,Y.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");U=k.default=Z;var F={},ee=I.exports;Object.defineProperty(F,"__esModule",{value:!0});var P=F.default=void 0,te=ee(y),ae=S,ne=(0,te.default)((0,ae.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}),"ContentCopy");P=F.default=ne;var $={},re=I.exports;Object.defineProperty($,"__esModule",{value:!0});var oe=$.default=void 0,le=re(y),ie=S,ce=(0,le.default)((0,ie.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen");oe=$.default=ce;const me=m=>{const{confirmDialogTitle:b,confirmWarning:l,createPreview:u,parseInput:p,canRestore:C,onImport:g,onClose:i,onSelectFile:x,onRestoreFromBackup:v}=m,[s,d]=h.exports.useState(null),[_,z]=h.exports.useState(""),[j,f]=h.exports.useState(!1),B=()=>{x(r=>{d(r)},()=>{i()})},q=()=>{v==null||v(r=>{d(r)},()=>{i()})},H=r=>{f(!1),z(r.target.value)},O=()=>{f(!1);let r;try{r=p(_)}catch(L){console.error(L),f(!0);return}if(r===null){f(!0);return}d(r)},M=()=>{s&&g(s),i()};return s?e(G,{title:b,question:a(n,{children:[l&&e(R,{severity:"warning",children:l}),e(D,{component:"div",p:1,children:e(c,{variant:"body2",component:"div",children:e("pre",{children:u(s)})})})]}),onConfirm:M,onCancel:()=>d(null)}):e(w,{title:t("label.dataImport"),content:a(n,{spacing:4,children:[l&&e(R,{severity:"warning",children:l}),a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.importFromFile")}),e(o,{variant:"outlined",onClick:B,disabled:!E(),children:t("button.chooseFile")})]}),a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.directInput")}),a(n,{direction:"row",spacing:1,children:[e(D,{component:"div",sx:{flexGrow:1},children:e(J,{id:"json-input",placeholder:t("label.pasteHere"),variant:"outlined",value:_,onChange:H,error:j,helperText:j?t("validation.invalidValue"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(o,{variant:"outlined",onClick:O,disabled:_.length===0,children:t("button.parseInput")})})]})]}),C&&a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.restoreFromBackup")}),e(o,{variant:"outlined",onClick:q,children:t("button.restoreFromStorage")})]})]}),onClose:i,actions:e(V,{children:e(o,{variant:"outlined",onClick:i,children:t("button.cancel")})})})},be=m=>{const{fileName:b,jsonContent:l,onClose:u,onStoreBackup:p}=m,[C,g]=h.exports.useState(!1),[i,x]=h.exports.useState(!1),v=()=>{A(l,b),u()},s=()=>{p&&(p(),x(!0))},d=()=>{W(l).then(()=>{g(!0)})};return e(w,{title:t("label.dataExport"),content:a(n,{spacing:4,children:[a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.exportToFile")}),e(o,{variant:"outlined",onClick:v,startIcon:e(N,{}),children:t("button.downloadFile")})]}),a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.directCopy")}),e(o,{variant:"outlined",onClick:d,startIcon:C?e(T,{}):e(P,{}),children:t("button.copyToClipboard")})]}),p&&a(n,{spacing:1,children:[e(c,{variant:"body1",children:t("label.createBackup")}),e(o,{variant:"outlined",onClick:s,startIcon:i?e(T,{}):e(Q,{}),children:t("button.storeBackupInStorage")})]})]}),onClose:u,actions:e(V,{children:e(o,{variant:"outlined",onClick:u,children:t("button.close")})})})};export{be as E,me as I,P as a,oe as b,U as d};

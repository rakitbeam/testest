import{k as i,j as C,F as S,bq as F,r as s,au as D,q as d,m as x}from"./index.e09c918d.js";import{C as P,c as b,S as j}from"./ShipDataTable.e16c9b34.js";import{S as A,c as T,a as k}from"./ShipTypeFilterButton.0832a61b.js";import{A as v}from"./ActionBar.5767a048.js";import{N as O,P as q}from"./PageContent.5263394f.js";import{P as I}from"./PageFooter.bba38c8f.js";import"./domUtils.394882ad.js";import"./MenuItem.30ab5562.js";import"./Popper.4496c0b5.js";import"./ClickAwayListener.b7d5f134.js";import"./useTable.ebfa1ec5.js";import"./sorting.c6946657.js";import"./TableRow.72a14b32.js";import"./useFormControl.df91f741.js";const M=t=>{const{shipFilter:o,columnConfig:e,onFilterChange:a,onColumnConfigChange:r}=t;return i(v,{left:n=>C(S,{children:[i(P,{columnConfig:e,onChange:r,buttonProps:n},"columnConfig"),i(A,{filter:o,onChange:a,buttonProps:n},"filter")]})})},Y=()=>{var m,u;const[t,o]=F(),[e,a]=s.exports.useState(()=>f(t.getAll("filter"),T())),[r,n]=s.exports.useState(()=>f(t.getAll("columns"),b({name:!0,row:!0,type:!0,cost:!0,operationLimit:!0}))),[c,y]=s.exports.useState([(m=t.get("sortBy"))!=null?m:"type",(u=t.get("sortDirection"))!=null?u:"asc"]);s.exports.useEffect(()=>{var l,h;o(D.shipData.createSearchParams({filter:g(e),columns:g(r),sortBy:(l=c[0])!=null?l:null,sortDirection:(h=c[1])!=null?h:"asc"}))},[e,r,c]);const B=s.exports.useMemo(()=>k(x,e),[e]),p=Object.values(r).filter(l=>l).length>3;return C(S,{children:[i(O,{currentRoute:"/shipData"}),i(M,{shipFilter:e,columnConfig:r,onFilterChange:a,onColumnConfigChange:n}),i(q,{disableContainer:p,children:i(d,{component:"div",p:1,children:i(j,{shipDefinitions:B,columnConfig:r,initialSorting:c,onChangeSorting:y})})}),i(I,{disableContainer:p})]})};function f(t,o){if(t.length>0){const e=N(t);return Object.keys(o).reduce((a,r)=>{var n;return{...a,[r]:(n=e[r])!=null?n:!1}},{...o})}return o}function g(t){const o=Object.keys(t).filter(e=>t[e]);return o.length>0?o:[]}function N(t){return t.reduce((o,e)=>({...o,[e]:!0}),{})}export{Y as ShipDataPage,Y as default};

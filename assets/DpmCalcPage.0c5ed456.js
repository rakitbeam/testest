import{A as mu,C as Du,D as vu,T as v,r as B,O as _u,G as bu,I as hu,k as l,_ as Q,J as fu,j as p,K as uu,P as Ou,Q as Su,R as Iu,F as I,aQ as $u,aR as xu,aS as Mu,aT as Uu,B as Pu,t as wu,bO as C,w as N,q as R,bx as tu,ab as L,aa as M}from"./index.995450ba.js";import{I as yu,a as Lu,T as Hu,e as lu,N as ku,P as Gu}from"./PageContent.465cd9f9.js";import{P as Ku}from"./PageFooter.1fdb1290.js";import{D as ru}from"./DialogContentText.453e353a.js";import{T as eu,A as Wu}from"./TextField.3a904a99.js";import{u as Yu,F as zu}from"./useFormControl.0eb6c120.js";import{d as ju}from"./Add.952b1472.js";import{d as qu}from"./Delete.0e201dd5.js";import{T as Qu}from"./Tooltip.b72f63a2.js";import{T as iu,a as ou,b as su,c as K,d as w,e as Eu}from"./TableRow.f31075aa.js";import"./Select.e4f01c7f.js";import"./Popper.0d1c02ad.js";function Vu(u){return mu("MuiAlertTitle",u)}Du("MuiAlertTitle",["root"]);const Zu=["className"],Xu=u=>{const{classes:t}=u;return hu({root:["root"]},Vu,t)},Ju=vu(v,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(u,t)=>t.root})(({theme:u})=>({fontWeight:u.typography.fontWeightMedium,marginTop:-2})),ue=B.exports.forwardRef(function(t,a){const n=_u({props:t,name:"MuiAlertTitle"}),{className:e}=n,r=bu(n,Zu),i=n,o=Xu(i);return l(Ju,Q({gutterBottom:!0,component:"div",ownerState:i,ref:a,className:fu(o.root,e)},r))});var ee=ue;function ae(u){return mu("MuiInputAdornment",u)}const te=Du("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var cu=te,du;const ne=["children","className","component","disablePointerEvents","disableTypography","position","variant"],le=(u,t)=>{const{ownerState:a}=u;return[t.root,t[`position${uu(a.position)}`],a.disablePointerEvents===!0&&t.disablePointerEvents,t[a.variant]]},re=u=>{const{classes:t,disablePointerEvents:a,hiddenLabel:n,position:e,size:r,variant:i}=u,o={root:["root",a&&"disablePointerEvents",e&&`position${uu(e)}`,i,n&&"hiddenLabel",r&&`size${uu(r)}`]};return hu(o,ae,t)},ie=vu("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:le})(({theme:u,ownerState:t})=>Q({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(u.vars||u).palette.action.active},t.variant==="filled"&&{[`&.${cu.positionStart}&:not(.${cu.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),oe=B.exports.forwardRef(function(t,a){const n=_u({props:t,name:"MuiInputAdornment"}),{children:e,className:r,component:i="div",disablePointerEvents:o=!1,disableTypography:s=!1,position:E,variant:A}=n,d=bu(n,ne),T=Yu()||{};let O=A;A&&T.variant,T&&!O&&(O=T.variant);const _=Q({},n,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:o,position:E,variant:O}),b=re(_);return l(zu.Provider,{value:null,children:l(ie,Q({as:i,ownerState:_,className:fu(b.root,r),ref:a},d,{children:typeof e=="string"&&!s?l(v,{color:"text.secondary",children:e}):p(B.exports.Fragment,{children:[E==="start"?du||(du=l("span",{className:"notranslate",children:"\u200B"})):null,e]})}))})});var se=oe,f=(u=>(u.TYPE="type",u.SQUAD_SIZE="squadSize",u.FIGHTER_ATTACK_PATTERN="fighterAttackPattern",u.CORVETTE_ATTACK_PATTERN="corvetteAttackPattern",u))(f||{}),F=(u=>(u.INSTALLATION="installation",u.DAMAGE_TYPE="damageType",u.DAMAGE_PER_HIT="damagePerHit",u.TUNE="tune",u.DURATION="duration",u.ATTACKS_PER_ROUND="attacksPerRound",u.SHOTS_PER_ATTACK="shotsPerAttack",u.COOLDOWN="cooldown",u.ATTACKS_PER_ROUND_ION="attacksPerRoundIon",u.SHOTS_PER_ATTACK_ION="shotsPerAttackIon",u.LOCK_ON_TIME="lockOnTime",u))(F||{}),S=(u=>(u.INCREASE_DAMAGE_PER_HIT="increaseDamagePerHit",u.REDUCE_DURATION="reduceDuration",u.REDUCE_COOLDOWN="reduceCooldown",u.REDUCE_LOCKON="reduceLockon",u.INCREASE_ATTACKS_PER_ROUND="increaseAttacksPerRound",u))(S||{}),U=(u=>(u.HP="hp",u.ARMOR="armor",u.ENERGY_SHIELD="energyShield",u))(U||{}),m=(u=>(u.PERCENTAGE="PERCENTAGE",u.SECONDS="SECONDS",u.DPM="DPM",u.ION_ATTACK_COUNT="ION_ATTACK_COUNT",u.FIGHTER_COUNT="FIGHTER_COUNT",u))(m||{});function H(u){return Object.keys(u).reduce((t,a)=>({...t,[a]:{...u[a],id:a}}),{})}function Ee(){return H({[f.TYPE]:q({label:"\u30BF\u30A4\u30D7",value:"ship",options:[{id:"ship",label:"\u8266\u8239",value:"ship"},{id:"corvette",label:"\u8B77\u9001\u8266",value:"corvette"},{id:"fighter",label:"\u6226\u95D8\u6A5F",value:"fighter"}]}),[f.SQUAD_SIZE]:P({label:"\u7DE8\u968A\u30B5\u30A4\u30BA",value:1,unit:m.FIGHTER_COUNT,min:1,max:5,description:"\u8A73\u7D30\u753B\u9762\u306E\u53F3\u4E0A\u306B\u8868\u793A\u3055\u308C\u307E\u3059\u3002\uFF11\u7DE8\u968A\u6BCE\u306E\u6226\u95D8\u6A5F\u306E\u6570\u3067\u3059\uFF08\u4F8B\uFF1A\u30DF\u30B9\u30C8\u30E9\u30EB\u306F\uFF14\u6A5F\uFF09\u3002"}),[f.FIGHTER_ATTACK_PATTERN]:q({label:"\u653B\u6483\u30D1\u30BF\u30FC\u30F3",value:"rtb",options:[{id:"rtb",label:"\u4F4F\u8907\u653B\u6483",value:"rtb"},{id:"noRtb",label:"\u72EC\u7ACB\u4F5C\u6226",value:"noRtb"}],description:"\u6307\u4EE4\u30B7\u30B9\u30C6\u30E0\u306E\u8A73\u7D30\u753B\u9762\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u4F4F\u8907\u653B\u6483\u300D\u304C\u8A18\u8F09\u3055\u308C\u3066\u3044\u308B\u8266\u8F09\u6A5F\u306F\u51B7\u5374\u6642\u306B\u7A7A\u6BCD\u3078\u5E30\u9084\u3057\u307E\u3059\u3002\u518D\u51FA\u6483\u6642\u306B\u306F\u518D\u5EA6\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u304C\u767A\u751F\u3057\u307E\u3059\u3002"}),[f.CORVETTE_ATTACK_PATTERN]:q({label:"\u653B\u6483\u30D1\u30BF\u30FC\u30F3",value:"noRtb",options:[{id:"noRtb",label:"\u72EC\u7ACB\u4F5C\u6226",value:"noRtb"},{id:"rtb",label:"\u4F4F\u8907\u653B\u6483",value:"rtb"}],description:"\u6307\u4EE4\u30B7\u30B9\u30C6\u30E0\u306E\u8A73\u7D30\u753B\u9762\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u4F4F\u8907\u653B\u6483\u300D\u304C\u8A18\u8F09\u3055\u308C\u3066\u3044\u308B\u8266\u8F09\u6A5F\u306F\u51B7\u5374\u6642\u306B\u7A7A\u6BCD\u3078\u5E30\u9084\u3057\u307E\u3059\u3002\u518D\u51FA\u6483\u6642\u306B\u306F\u518D\u5EA6\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u304C\u767A\u751F\u3057\u307E\u3059\u3002"})})}function ce(){return H({[F.INSTALLATION]:P({label:"\u8A2D\u7F6E\u6570",value:1,description:"\u6B66\u5668\u60C5\u5831\u753B\u9762\u5185\u3001\u5DE6\u4E0A\u306B\u8868\u793A\u3055\u308C\u308B\u30AA\u30EC\u30F3\u30B8\u306E\u6570\u5B57\uFF08\u6B66\u5668\u540D\u306E\u524D\uFF09"}),[F.DAMAGE_TYPE]:q({label:"\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7",value:"physicalDamage",options:[{id:"physicalDamage",label:"\u5B9F\u5F3E\u30C0\u30E1\u30FC\u30B8",value:"physicalDamage"},{id:"energyDamageIon",label:"\u30A8\u30CD\u30EB\u30AE\u30FC\uFF08\u30A4\u30AA\u30F3\uFF09",value:"energyDamageIon"},{id:"energyDamage",label:"\u30A8\u30CD\u30EB\u30AE\u30FC\uFF08\u30D1\u30EB\u30B9\u3001\u30D7\u30E9\u30BA\u30DE\uFF09",value:"energyDamage"}]}),[F.DAMAGE_PER_HIT]:P({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8",description:"\u30B9\u30AD\u30EB\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u3066\u304B\u3089\u8AAD\u307F\u53D6\u3063\u3066\u304F\u3060\u3055\u3044\u3002\u30C1\u30E5\u30FC\u30F3\u6E08\u307F\u3067\u6570\u5B57\u304C\u4E8C\u3064\u8868\u793A\u3055\u308C\u308B\u5834\u5408\u306F\u5DE6\u5074\u306E\u6570\u5B57\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u4F8B\u3048\u3070\u300C300+90.0\u300D\u306E\u5834\u5408\u306F\u300C300\u300D\u3067\u3059\u3002\u521D\u671F\u72B6\u614B\u3067\u3082\u30E2\u30B8\u30E5\u30FC\u30EB\u306B\u3088\u308B\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7\u52B9\u679C\u304C\u4E57\u3063\u3066\u3044\u308B\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002\u305D\u306E\u5834\u5408\u306F\u3001\u5148\u306B\u5143\u306E\u5358\u767A\u30C0\u30E1\u30FC\u30B8\u3092\u9006\u7B97\u3057\u3066\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u5C0F\u578B\u30A4\u30AA\u30F3\u7832\u306F\u521D\u671F\u72B6\u614B\u3067\u5358\u767A\u30C0\u30E1\u30FC\u30B8\u304C\u300C316\u300D\u3068\u8868\u793A\u3055\u308C\u307E\u3059\u304C\u3001\u30A8\u30CD\u30EB\u30AE\u30FC\u30B7\u30B9\u30C6\u30E0\u306E15\uFF05\u304C\u4E57\u3063\u3066\u3044\u308B\u72B6\u614B\u306A\u306E\u3067\u3001\u5143\u306F\u300C275\u300D\u3067\u3059\uFF09\u3002",value:null}),[F.TUNE]:P({label:"\u6B66\u5668\u30C1\u30E5\u30FC\u30F3",value:0,unit:m.PERCENTAGE,max:30}),[F.DURATION]:P({label:"\u6301\u7D9A\u6642\u9593",value:0,description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C--\u300D\u3068\u8868\u793A\u3055\u308C\u308B\u5834\u5408\u306F\uFF10\u79D2\u3067\u3059\u3002\u5225\u540D\u300C\u51FA\u529B\u6642\u9593\u300D/\u300C\u653B\u6483\u9593\u9694\u300D/\u300C\u653B\u6483\u6642\u9593\u300D",unit:m.SECONDS}),[F.SHOTS_PER_ATTACK]:P({label:"\u540C\u6642\u5C04\u6483\u6570",description:["\uFF11\u56DE\u306E\u653B\u6483\u3067\u540C\u6642\u306B\u6483\u3066\u308B\u5F3E\u6570","\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u653B\u6483\u56DE\u6570\u300D\u306E\u5DE6\u5074\u306E\u6570\u5024\u3067\u3059\u3002","\u4F8B\u3048\u3070\u300C2 x 8\u300D\u306E\u5834\u5408\u306F\u300C2\u300D\u3067\u3059\uFF088\u56DE\u306B\u308F\u305F\u3063\u30662\u767A\u305A\u3064\u653B\u6483\u3057\u3066\u307E\u3059\uFF09\u3002","\u9805\u76EE\u304C\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"],value:1,min:1}),[F.ATTACKS_PER_ROUND]:P({label:"\u653B\u6483\u56DE\u6570",description:["\uFF11\u30E9\u30A6\u30F3\u30C9\u6BCE\u306E\u653B\u6483\u56DE\u6570","\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u300C\u653B\u6483\u56DE\u6570\u300D\u306E\u53F3\u5074\u306E\u6570\u5024\u3067\u3059","\u4F8B\u3048\u3070\u300C2 x 8\u300D\u306E\u5834\u5408\u306F\u300C8\u300D\u3067\u3059\uFF088\u56DE\u306B\u308F\u305F\u3063\u30662\u767A\u305A\u3064\u653B\u6483\u3057\u3066\u307E\u3059\uFF09\u3002","\u9805\u76EE\u304C\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"],value:1,min:1}),[F.COOLDOWN]:P({label:"\u51B7\u5374\u6642\u9593",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\u300C\u5E30\u9084\u51B7\u5374\u300D\u3068\u3082\u547C\u3070\u308C\u307E\u3059\u3002",unit:m.SECONDS}),[F.ATTACKS_PER_ROUND_ION]:P({label:"\u30C0\u30E1\u30FC\u30B8\u983B\u5EA6",description:"\u30E2\u30B8\u30E5\u30FC\u30EB\u30B9\u30C6\u30FC\u30BF\u30B9\u3067\u78BA\u8A8D\u3067\u304D\u307E\u3059\u3002\u3053\u306E\u9805\u76EE\u306F\u30A4\u30AA\u30F3\u7832\u9650\u5B9A\u3067\u3059\u3002\u8868\u793A\u3055\u308C\u306A\u3044\u5834\u5408\u306F\u300C\u30C0\u30E1\u30FC\u30B8\u30BF\u30A4\u30D7\u300D\u3092\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002",value:1,unit:m.ION_ATTACK_COUNT,min:1}),[F.SHOTS_PER_ATTACK_ION]:P({label:"\u540C\u6642\u5C04\u6483\u6570\uFF08\u30A4\u30AA\u30F3\u7832\uFF09",description:"\u30A4\u30AA\u30F3\u7832\u304C\uFF11\u56DE\u306E\u653B\u6483\u3067\u540C\u6642\u306B\u6483\u3064\u5F3E\u6570\u306F\u6B66\u5668\u306E\u540D\u524D\u306B\u96A0\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u6B66\u5668\u60C5\u5831\u753B\u9762\u5185\u3001\u540D\u524D\u306E\u30A2\u30EB\u30D5\u30A1\u30D9\u30C3\u30C8\uFF12\u6587\u5B57\u3068\u6A2A\u7DDA\u306E\u5F8C\u306B\u300C2x\u300D\u3068\u3042\u308C\u3070\uFF12\u767A\u3067\u3059\u3002\u4F8B\u3048\u3070\u300CCI-2x700T\u578B\u300D\u306E\u5834\u5408\u306F\u300CC\u300D\u304C\u4F01\u696D\u3001\u300CI\u300D\u304C\u6B66\u5668\u306E\u7A2E\u985E\u3001\u305D\u306E\u5F8C\u308D\u306E\u300C2x\u300D\u304C\u540C\u6642\u5C04\u6483\u6570\u3067\u3059\u3002",value:1}),[F.LOCK_ON_TIME]:P({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593",description:"\u5225\u540D\u300C\u76EE\u6A19\u9078\u629E\u6642\u9593\u300D",unit:m.SECONDS})})}function de(){return H({[S.INCREASE_DAMAGE_PER_HIT]:P({label:"\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7",description:"\u30B9\u30AD\u30EB\u3068\u30E2\u30B8\u30E5\u30FC\u30EB\u304B\u3089\u53CD\u6620\u3055\u308C\u308B\u30C0\u30E1\u30FC\u30B8\u30A2\u30C3\u30D7\u3092\u5408\u308F\u305B\u3066\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u5834\u5408\u306F\u30B9\u30AD\u30EB\u306E\uFF12\uFF10\uFF05\u3068\u30A8\u30CD\u30EB\u30AE\u30FC\u30B7\u30B9\u30C6\u30E0\u306E\uFF11\uFF15\uFF05\u3067\u5408\u8A08\uFF13\uFF15\uFF05\u3067\u3059\uFF09",value:0,unit:m.PERCENTAGE,min:-500}),[S.REDUCE_DURATION]:P({label:"\u6301\u7D9A\u6642\u9593\u30C0\u30A6\u30F3",description:"\u5225\u540D\u300C\u51FA\u529B\u6642\u9593\u30C0\u30A6\u30F3\u300D/\u300C\u653B\u6483\u9593\u9694\u30C0\u30A6\u30F3\u300D/\u300C\u653B\u6483\u6642\u9593\u30C0\u30A6\u30F3\u300D\u3002\u9006\u306B\u30A2\u30C3\u30D7\u3059\u308B\u5834\u5408\u306F\u30DE\u30A4\u30CA\u30B9\u306E\u6570\u5024\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u4F8B\uFF1A\u30AB\u30EA\u30B9\u30C8\u306E\u300C\u91CD\u5F3E\u85AC\u300D\uFF09",value:0,unit:m.PERCENTAGE,min:-500,max:100}),[S.REDUCE_COOLDOWN]:P({label:"\u51B7\u5374\u6642\u9593\u30C0\u30A6\u30F3",description:"\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\u5E30\u9084\u51B7\u5374\u30C0\u30A6\u30F3",value:0,unit:m.PERCENTAGE,min:-500,max:100}),[S.REDUCE_LOCKON]:P({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u30C0\u30A6\u30F3",description:"\u5225\u540D\u300C\u76EE\u6A19\u9078\u629E\u6642\u9593\u30C0\u30A6\u30F3\u300D",value:0,unit:m.PERCENTAGE,min:-500,max:100}),[S.INCREASE_ATTACKS_PER_ROUND]:P({label:"\u653B\u6483\u56DE\u6570\u30A2\u30C3\u30D7",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u6BCE\u306E\u653B\u6483\u56DE\u6570\u304C\u5897\u52A0\u3059\u308B\uFF08\u4F8B\uFF1A\u30EB\u30D3\u30FC\u7D1A\u306E\u300C\u6301\u7D9A\u51FA\u529B\u5F37\u5316\u300D\uFF09",value:0,min:-10,max:10})})}function Ae(){return H({[U.HP]:P({label:"HP",min:1,max:1e6}),[U.ARMOR]:P({label:"\u30C0\u30E1\u30FC\u30B8\u62B5\u6297",value:0,min:0,max:1e4}),[U.ENERGY_SHIELD]:P({label:"\u30B7\u30FC\u30EB\u30C9\u5024",value:0,unit:m.PERCENTAGE,min:0,max:100})})}function P(u){return{id:"[id]",label:"[label]",type:"numeric",value:null,min:0,...u}}function q(u){return{id:"[id]",label:"[label]",type:"select",value:"",options:[],...u}}function X(u,t){switch(t.type){case"numeric":{const a=Number.isFinite(u)?u:null;return t.value===a?t:{...t,value:a}}case"select":{const a=u===null?null:`${u}`;return t.value===a?t:{...t,value:a}}default:throw new Error(`Unsupported input property type "${t.type}"`)}}function Ce(u,t){switch(u.id){case f.SQUAD_SIZE:case f.FIGHTER_ATTACK_PATTERN:return t.type.value==="fighter";case f.CORVETTE_ATTACK_PATTERN:return t.type.value==="corvette";default:return!0}}function Fe(u,t){switch(u.id){case F.ATTACKS_PER_ROUND:case F.SHOTS_PER_ATTACK:return t.damageType.value==="physicalDamage"||t.damageType.value==="energyDamage";case F.ATTACKS_PER_ROUND_ION:case F.SHOTS_PER_ATTACK_ION:return t.damageType.value==="energyDamageIon";default:return!0}}var nu={},pe=Su.exports;Object.defineProperty(nu,"__esModule",{value:!0});var gu=nu.default=void 0,Be=pe(Ou),Te=Iu,me=(0,Be.default)((0,Te.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");gu=nu.default=me;const V=u=>{const{title:t,text:a}=u,[n,e]=B.exports.useState(!1),r=()=>{e(!0)},i=()=>{e(!1)};return p(I,{children:[l(yu,{onClick:r,children:l(gu,{fontSize:"small",color:"secondary"})}),p($u,{open:n,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[l(xu,{id:"alert-dialog-title",children:t}),l(Mu,{children:Array.isArray(a)?a.map((o,s)=>l(ru,{id:`alert-dialog-description-${s}`,gutterBottom:!0,children:o},`line_${s}`)):l(ru,{id:"alert-dialog-description",children:a})}),l(Uu,{children:l(Pu,{onClick:i,variant:"outlined",children:wu("button.close")})})]})]})};function Nu(u){switch(u){case m.PERCENTAGE:return"%";case m.SECONDS:return"\u79D2";case m.DPM:return"/\u5206";case m.ION_ATTACK_COUNT:return"\u6B21";case m.FIGHTER_COUNT:return"\u6A5F"}}function W(u){return 1+u/100}function Y(u){return 1-u/100}function Au(u){return`100% + ${C(u)}%`}function z(u){return`100% - ${C(u)}%`}const De="8em",ve="15em",Ru=u=>{const{inputProperty:t,onChange:a,width:n}=u,[e,r]=B.exports.useState(t),[i,o]=B.exports.useTransition();B.exports.useEffect(()=>{o(()=>{e!==t&&a(e)})},[e,t,a]);const s=E=>{switch(e.type){case"numeric":{if(E.target.value===""){r(X(null,e));return}const A=Number(E.target.value),d=Number.isFinite(A)?A:null;r(X(d,e));break}case"select":{r(X(E.target.value,e));break}default:throw new Error(`Unsupported input property type "${e.type}"`)}};switch(e.type){case"numeric":{const{value:E,unit:A,min:d,max:T}=e;return l(I,{children:p(N,{direction:"row",children:[l(R,{sx:{width:n!=null?n:De},children:l(eu,{id:e.id,size:"small",required:!0,type:"number",value:E!=null?E:"",InputProps:{endAdornment:A?l(se,{position:"end",children:Nu(A)}):void 0,inputProps:{min:d,max:T}},onChange:s,fullWidth:!0})}),e.description&&l(V,{title:e.label,text:e.description})]})})}case"select":{const{value:E,options:A}=e;return l(I,{children:p(N,{direction:"row",children:[l(R,{sx:{width:n!=null?n:ve},children:l(eu,{id:e.id,size:"small",select:!0,value:E,onChange:s,fullWidth:!0,children:A.map(d=>l(Lu,{value:d.value,children:d.label},d.id))})}),e.description&&l(V,{title:e.label,text:e.description})]})})}default:throw new Error(`Unsupported input property type "${e.type}"`)}},Cu=u=>{const{properties:t,onChange:a,isVisibleProperty:n}=u;return l(tu,{sx:{alignItems:"center"},rows:Object.values(t).filter(e=>n(e,t)).map(e=>({key:e.id,label:e.label,value:l(Ru,{inputProperty:e,onChange:a})}))})},Fu=5,pu=u=>{const{idPrefix:t,tabNamePrefix:a,propertyFactoryFn:n}=u,e=B.exports.useRef(0),[r,i]=B.exports.useState(()=>[Bu(t,e,a,n)]),[o,s]=B.exports.useState(0),E=B.exports.useRef(null),A=B.exports.useCallback(()=>{const _=Bu(t,e,a,n);E.current=_.id,i(b=>b.length>=Fu?b:[...b,_])},[t,a,n]),d=B.exports.useCallback(_=>{s(0),i(b=>b.filter(D=>D.id!==_))},[]),T=B.exports.useCallback((_,b)=>{i(D=>D.map(h=>h.id!==_?h:{...h,name:b}))},[]),O=B.exports.useCallback((_,b)=>{i(D=>D.map(h=>h.id!==_?h:{...h,properties:{...h.properties,[b.id]:b}}))},[]);return B.exports.useEffect(()=>{if(E.current===null)return;const _=r.findIndex(b=>b.id===E.current);o!==_&&s(_),E.current=null},[r,o]),{tabIndex:o,canAddTab:r.length<Fu,tabs:r,setTabIndex:s,addTab:A,removeTab:d,renameTab:T,changeProperty:O}};function Bu(u,t,a,n){const e=t.current++;return{id:`${u}${e}`,name:"",defaultName:r=>`${a}${r+1}`,properties:n()}}const _e=u=>{const{tabId:t,properties:a,onChange:n}=u,e=B.exports.useCallback(r=>{n(t,r)},[n,t]);return l(tu,{sx:{alignItems:"center"},rows:Object.values(a).map(r=>({key:r.id,label:r.label,value:l(Ru,{inputProperty:r,onChange:e})}))})},be=20,he=u=>{const{idPrefix:t,tab:a,tabIndex:n,canDelete:e,canRename:r,onChangeProperty:i,onDeleteTab:o,onRename:s}=u,[E,A]=B.exports.useState(a.name),[d,T]=B.exports.useTransition();return B.exports.useEffect(()=>{T(()=>{a.name!==E&&s(a.id,E)})},[a,E,s]),p(N,{spacing:3,children:[p(N,{direction:"row",alignItems:"center",flexWrap:"wrap",sx:{gap:"8px"},children:[r&&l(R,{sx:{flexGrow:1},children:l(eu,{id:`${t}_name_${a.id}`,size:"small",required:!0,type:"text",value:E,placeholder:a.defaultName(n),InputProps:{inputProps:{maxLength:be}},onChange:O=>A(O.target.value.trim()),fullWidth:!0})}),e&&l("div",{children:l(Pu,{onClick:()=>o(a.id),startIcon:l(qu,{}),variant:"outlined",children:l(v,{noWrap:!0,variant:"button",children:"\u8A2D\u5B9A\u3092\u524A\u9664"})})})]}),l(_e,{tabId:a.id,properties:a.properties,onChange:i})]})},Tu=u=>{const{idPrefix:t,tabs:a,tabIndex:n,canAddTab:e,addTab:r,removeTab:i,renameTab:o,changeProperty:s,setTabIndex:E}=u,A=B.exports.useCallback((d,T)=>{T<a.length&&E(T)},[a,E]);return p(I,{children:[p(Hu,{value:n,onChange:A,variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[a.map((d,T)=>l(lu,{label:l(v,{variant:"body2",children:d.name||d.defaultName(T)})},d.id)),e&&l(lu,{label:l(ju,{}),onClick:r})]}),l(R,{p:1,pt:2,children:a.map((d,T)=>[d,T]).filter(([d,T])=>T===n).map(([d,T])=>l(he,{idPrefix:t,tab:d,tabIndex:T,canDelete:a.length>1,canRename:a.length>1,onChangeProperty:s,onDeleteTab:i,onRename:o},d.id))})]})};var c=(u=>(u.DAMAGE_PER_HIT_IN_STATUS="damagePerHitInStatus",u.DAMAGE_PER_HIT_IN_BATTLE="damagePerHitInBattle",u.DURATION="duration",u.COOLDOWN="cooldown",u.LOCK_ON_TIME="lockOnTime",u.ATTACKS_PER_ROUND="attacksPerRound",u.SHOTS_PER_ATTACK="shotsPerAttack",u.BATTLE_CYCLE_TIME="battleCycleTime",u.DAMAGE_PER_ROUND_IN_STATUS="damagePerRoundInStatus",u.DAMAGE_PER_ROUND_IN_BATTLE="damagePerRoundInBattle",u.TIME_TO_DESTROY_TARGET="timeToDestroyTarget",u.WEAPON_DPM_IN_STATUS="weaponDpmInStatus",u.WEAPON_DPM_IN_BATTLE="weaponDpmInBattle",u.SQUAD_WEAPON_DPM_IN_STATUS="squadDpmInStatus",u.SQUAD_WEAPON_DPM_IN_BATTLE="squadDpmInBattle",u))(c||{});function fe(){return H({[c.DAMAGE_PER_HIT_IN_STATUS]:g({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8",description:"\u30B9\u30AD\u30EB\u8A2D\u5B9A\u5F8C\u306E\u6B66\u5668\u60C5\u5831\u753B\u9762\u306B\u8868\u793A\u3055\u308C\u308B\u6570\u5024\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\uFF09",dependsOn:{weaponBaseProperties:[F.DAMAGE_PER_HIT,F.TUNE],weaponEnhancementProperties:[S.INCREASE_DAMAGE_PER_HIT]},update:({weaponBaseProperties:u,weaponEnhancementProperties:t},a)=>{const{damagePerHit:n,tune:e}=u,{increaseDamagePerHit:r}=t;return n.value===null||r.value===null||e.value===null?a:{...a,value:n.value*W(r.value)*W(e.value),formula:{formula:`([${n.label}] * (100% + [${r.label}])) + ([${n.label}] * [${e.label}] * (100% + [${r.label}]))`,filledFormula:[`(${C(n.value)} * (${Au(r.value)})) + (${C(n.value)} * ${e.value}% * (${Au(r.value)})))`,`${n.value*W(r.value)} + ${n.value*(e.value/100)*W(r.value)}`]}}}}),[c.DAMAGE_PER_HIT_IN_BATTLE]:g({label:"\u5358\u767A\u30C0\u30E1\u30FC\u30B8\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024",dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE],targetProperties:[U.ARMOR,U.ENERGY_SHIELD],outputProperties:[c.DAMAGE_PER_HIT_IN_STATUS]},update:({weaponBaseProperties:u,targetProperties:t,outputProperties:a},n)=>{const{damagePerHitInStatus:e}=a,{armor:r,energyShield:i}=t;return e.value===null?n:u.damageType.value==="energyDamage"||u.damageType.value==="energyDamageIon"?i.value===null?n:{...n,value:e.value*Y(i.value),formula:{formula:`[${e.label}] * (100% - [${i.label}])`,filledFormula:`${C(e.value)} * (${z(i.value)})`}}:r.value===null?n:{...n,value:Math.max(e.value-r.value,Math.floor(e.value*.1)),formula:{formula:`max([${e.label}] - [${r.label}], trunc([${e.label}] * 10%))`,filledFormula:`max(${C(e.value)} - ${C(r.value)}, trunc(${C(e.value)} * 0.1))`}}}}),[c.DURATION]:g({label:"\u6301\u7D9A\u6642\u9593",unit:m.SECONDS,dependsOn:{weaponBaseProperties:[F.DURATION],weaponEnhancementProperties:[S.REDUCE_DURATION]},update:({weaponBaseProperties:u,weaponEnhancementProperties:t},a)=>{const{duration:n}=u,{reduceDuration:e}=t;return n.value===null||e.value===null?a:{...a,value:Math.max(n.value*Y(e.value),0),formula:{formula:`max([${n.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${n.value} * (${z(e.value)}), 0)`}}}}),[c.COOLDOWN]:g({label:"\u51B7\u5374\u6642\u9593",unit:m.SECONDS,dependsOn:{weaponBaseProperties:[F.COOLDOWN],weaponEnhancementProperties:[S.REDUCE_COOLDOWN]},update:({weaponBaseProperties:u,weaponEnhancementProperties:t},a)=>{const{cooldown:n}=u,{reduceCooldown:e}=t;return n.value===null||e.value===null?a:{...a,value:Math.max(n.value*Y(e.value),0),formula:{formula:`max([${n.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${n.value} * (${z(e.value)}), 0)`}}}}),[c.LOCK_ON_TIME]:g({label:"\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593",unit:m.SECONDS,dependsOn:{weaponBaseProperties:[F.LOCK_ON_TIME],weaponEnhancementProperties:[S.REDUCE_LOCKON]},update:({weaponBaseProperties:u,weaponEnhancementProperties:t},a)=>{const{lockOnTime:n}=u,{reduceLockon:e}=t;return n.value===null||e.value===null?a:{...a,value:Math.max(n.value*Y(e.value),0),formula:{formula:`max([${n.label}] * (100% - [${e.label}]), 0)`,filledFormula:`max(${n.value} * (${z(e.value)}), 0)`}}}}),[c.ATTACKS_PER_ROUND]:g({label:"\u653B\u6483\u56DE\u6570",dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE,F.ATTACKS_PER_ROUND,F.ATTACKS_PER_ROUND_ION],weaponEnhancementProperties:[S.INCREASE_ATTACKS_PER_ROUND]},update:({weaponBaseProperties:u,weaponEnhancementProperties:t},a)=>{const{damageType:n,attacksPerRound:e,attacksPerRoundIon:r}=u,{increaseAttacksPerRound:i}=t;return n.value===""||i.value===null?a:u.damageType.value==="energyDamageIon"?r.value===null?a:{...a,value:r.value+i.value,formula:{formula:`[${r.label}] + [${i.label}]`,filledFormula:`${r.value} + ${i.value}`}}:e.value===null?a:{...a,value:e.value+i.value,formula:{formula:`[${e.label}] + [${i.label}]`,filledFormula:`${e.value} + ${i.value}`}}}}),[c.SHOTS_PER_ATTACK]:g({label:"\u9023\u88C5\u6570",hidden:!0,dependsOn:{weaponBaseProperties:[F.DAMAGE_TYPE,F.SHOTS_PER_ATTACK,F.SHOTS_PER_ATTACK_ION]},update:({weaponBaseProperties:u},t)=>{const{damageType:a,shotsPerAttack:n,shotsPerAttackIon:e}=u;return a.value===""?t:u.damageType.value==="energyDamageIon"?e.value===null?t:{...t,value:e.value}:n.value===null?t:{...t,value:n.value}}}),[c.BATTLE_CYCLE_TIME]:g({label:"\u30E9\u30A6\u30F3\u30C9\u6642\u9593",unit:m.SECONDS,dependsOn:{shipProperties:[f.TYPE,f.FIGHTER_ATTACK_PATTERN,f.CORVETTE_ATTACK_PATTERN],outputProperties:[c.DURATION,c.COOLDOWN,c.LOCK_ON_TIME]},update:({shipProperties:u,outputProperties:t},a)=>{const{type:n,fighterAttackPattern:e,corvetteAttackPattern:r}=u,{duration:i,cooldown:o,lockOnTime:s}=t;return n.value===""||e.value===""||r.value===""||i.value===null||o.value===null?a:n.value==="fighter"&&e.value==="rtb"||n.value==="corvette"&&r.value==="rtb"?s.value===null?a:{...a,value:i.value+o.value+s.value,formula:{formula:`[${i.label}] + [${o.label}] + [${s.label}]`,filledFormula:`${C(i.value)} \u79D2 + ${C(o.value)} \u79D2 + ${C(s.value)} \u79D2`,description:"\u91CD\u8907\u653B\u6483\u3092\u884C\u3046\u8266\u8F09\u6A5F\u3067\u306F\u30ED\u30C3\u30AF\u30AA\u30F3\u6642\u9593\u3082\u30E9\u30A6\u30F3\u30C9\u6642\u9593\u306B\u542B\u307E\u308C\u307E\u3059"}}:{...a,value:i.value+o.value,formula:{formula:`[${i.label}] + [${o.label}]`,filledFormula:`${C(i.value)} + ${C(o.value)}`}}}}),[c.DAMAGE_PER_ROUND_IN_STATUS]:g({label:"\u30E9\u30A6\u30F3\u30C9\u30C0\u30E1\u30FC\u30B8",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u3042\u305F\u308A\u306E\u5408\u8A08\u30C0\u30E1\u30FC\u30B8\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\uFF09",dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],weaponBaseProperties:[F.INSTALLATION],outputProperties:[c.DAMAGE_PER_HIT_IN_STATUS,c.ATTACKS_PER_ROUND,c.SHOTS_PER_ATTACK]},update:({shipProperties:u,weaponBaseProperties:t,outputProperties:a},n)=>{const{type:e,squadSize:r}=u,{installation:i}=t,{damagePerHitInStatus:o,attacksPerRound:s,shotsPerAttack:E}=a;return e.value===""||i.value===null||o.value===null||s.value===null||E.value===null?n:e.value==="fighter"?r.value===null?n:{...n,value:r.value*o.value*i.value*s.value*E.value,formula:{formula:`[${r.label}] * [${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${r.value} * ${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}:{...n,value:o.value*i.value*s.value*E.value,formula:{formula:`[${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}}}),[c.DAMAGE_PER_ROUND_IN_BATTLE]:g({label:"\u30E9\u30A6\u30F3\u30C9\u30C0\u30E1\u30FC\u30B8\uFF08\u76EE\u6A19\u5225\uFF09",description:"\uFF11\u30E9\u30A6\u30F3\u30C9\u3042\u305F\u308A\u306E\u5408\u8A08\u30C0\u30E1\u30FC\u30B8\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024\uFF09",dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],weaponBaseProperties:[F.INSTALLATION],outputProperties:[c.DAMAGE_PER_HIT_IN_BATTLE,c.ATTACKS_PER_ROUND,c.SHOTS_PER_ATTACK]},update:({shipProperties:u,weaponBaseProperties:t,outputProperties:a},n)=>{const{type:e,squadSize:r}=u,{installation:i}=t,{damagePerHitInBattle:o,attacksPerRound:s,shotsPerAttack:E}=a;return e.value===""||i.value===null||o.value===null||s.value===null||E.value===null?n:e.value==="fighter"?r.value===null?n:{...n,value:r.value*o.value*i.value*s.value*E.value,formula:{formula:`[${r.label}] * [${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${r.value} * ${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}:{...n,value:o.value*i.value*s.value*E.value,formula:{formula:`[${o.label}] * [${i.label}] * [${s.label}] * [${E.label}]`,filledFormula:`${C(o.value)} * ${i.value} * ${s.value} * ${E.value}`}}}}),[c.TIME_TO_DESTROY_TARGET]:g({label:"\u76EE\u6A19\u6483\u7834\u307E\u3067\u306E\u6642\u9593",description:"\u653B\u6483\u76EE\u6A19\u3092\u6483\u7834\u3059\u308B\u307E\u3067\u306E\u6642\u9593\u3067\u3059\u3002\u76EE\u6A19\u3092\u6483\u7834\u3057\u305F\u6700\u5F8C\u306E\u30E9\u30A6\u30F3\u30C9\u306E\u6301\u7D9A\u6642\u9593\u307E\u3067\u304C\u542B\u307E\u308C\u307E\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u8A08\u7B97\u3067\u3059\u3002",unit:m.SECONDS,dependsOn:{targetProperties:[U.HP],outputProperties:[c.COOLDOWN,c.BATTLE_CYCLE_TIME,c.DAMAGE_PER_ROUND_IN_BATTLE]},update:({targetProperties:u,outputProperties:t},a)=>{const{hp:n}=u,{cooldown:e,battleCycleTime:r,damagePerRoundInBattle:i}=t;return n.value===null||e.value===null||r.value===null||i.value===null?a:{...a,value:Math.ceil(n.value/i.value)*r.value-e.value,formula:{formula:`ceil([${n.label}] / [${i.label}]) * [${r.label}] - [${e.label}]`,filledFormula:`ceil(${n.value} / ${C(i.value)}) * ${C(r.value)} - ${C(e.value)}`}}}}),[c.WEAPON_DPM_IN_STATUS]:g({label:"\u6B66\u88C5DPM",description:"\u6B66\u88C5\u306E\u8A73\u7D30\u753B\u9762\u306B\u8868\u793A\u3055\u308C\u3066\u3044\u308B\u6B66\u88C5DPM\u3067\u3059\uFF08\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\u3067\u3059\uFF09\u3002\u30B2\u30FC\u30E0\u5185\u306B\u8868\u793A\u3055\u308C\u308B\u6570\u5024\u3068\u6BD4\u8F03\u3057\u3066\u5408\u308F\u306A\u3044\u5834\u5408\u306F\u4E0A\u3067\u5165\u529B\u3057\u305F\u5404\u6570\u5024\u3092\u518D\u5EA6\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\uFF11\u6A5F\u5206\u306E\u6570\u5024\u3067\u3059\u3002",unit:m.DPM,dependsOn:{outputProperties:[c.DAMAGE_PER_ROUND_IN_STATUS,c.BATTLE_CYCLE_TIME]},update:({outputProperties:u},t)=>{const{damagePerRoundInStatus:a,battleCycleTime:n}=u;return a.value===null||n.value===null?t:{...t,value:a.value/n.value*60,formula:{formula:`[${a.label}] / [${n.label}] * 60`,filledFormula:`${C(a.value)} / ${C(n.value)} * 60`}}}}),[c.WEAPON_DPM_IN_BATTLE]:g({label:"\u6B66\u88C5DPM\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6B66\u88C5DPM\u3067\u3059\u3002\u6226\u95D8\u6A5F\u306E\u5834\u5408\u306F\uFF11\u6A5F\u5206\u306E\u6570\u5024\u3067\u3059\u3002",unit:m.DPM,dependsOn:{outputProperties:[c.DAMAGE_PER_ROUND_IN_BATTLE,c.BATTLE_CYCLE_TIME]},update:({outputProperties:u},t)=>{const{damagePerRoundInBattle:a,battleCycleTime:n}=u;return a.value===null||n.value===null?t:{...t,value:a.value/n.value*60,formula:{formula:`[${a.label}] / [${n.label}] * 60`,filledFormula:`${C(a.value)} / ${C(n.value)} * 60`}}}}),[c.SQUAD_WEAPON_DPM_IN_STATUS]:g({label:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM",description:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\u3067\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u306F\u8003\u616E\u3057\u306A\u3044\u6570\u5024\u3067\u3059\u3002",unit:m.DPM,dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],outputProperties:[c.WEAPON_DPM_IN_STATUS]},update:({shipProperties:u,outputProperties:t},a)=>{const{type:n,squadSize:e}=u,{weaponDpmInStatus:r}=t;return n.value===""||e.value===null||r.value===null?a:n.value==="fighter"?e.value===null?a:{...a,value:e.value*r.value,formula:{formula:`[${e.label}] * [${r.label}]`,filledFormula:`${C(e.value)} * ${C(r.value)}`}}:a}}),[c.SQUAD_WEAPON_DPM_IN_BATTLE]:g({label:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\uFF08\u76EE\u6A19\u5225\uFF09",description:"\u7DE8\u968A\u5168\u4F53\u306E\u6B66\u88C5DPM\u3067\u3059\u3002\u653B\u6483\u76EE\u6A19\u306E\u62B5\u6297\u5024/\u30B7\u30FC\u30EB\u30C9\u5024\u3092\u8003\u616E\u3057\u305F\u6570\u5024\u3067\u3059\u3002",unit:m.DPM,dependsOn:{shipProperties:[f.TYPE,f.SQUAD_SIZE],outputProperties:[c.WEAPON_DPM_IN_BATTLE]},update:({shipProperties:u,outputProperties:t},a)=>{const{type:n,squadSize:e}=u,{weaponDpmInBattle:r}=t;return n.value===""||e.value===null||r.value===null?a:n.value==="fighter"?e.value===null?a:{...a,value:e.value*r.value,formula:{formula:`[${e.label}] * [${r.label}]`,filledFormula:`${C(e.value)} * ${C(r.value)}`}}:a}})})}function Pe(u){const{shipProperties:t,weaponBaseProperties:a,enhancementTabs:n,attackTargetTabs:e,baseOutputProperties:r}=u,i={};return n.forEach(o=>{e.forEach(s=>{i[o.id]||(i[o.id]={}),i[o.id][s.id]=ge({shipProperties:t,weaponBaseProperties:a,weaponEnhancementProperties:o.properties,targetProperties:s.properties,outputProperties:r})})}),i}function ge(u){const{shipProperties:t,weaponBaseProperties:a,weaponEnhancementProperties:n,targetProperties:e,outputProperties:r}=u;return Object.values(c).map(i=>i).reduce((i,o)=>{const s=r[o];if(Ne(s,{...u,outputProperties:i}))return{...i,[o]:Oe(s)};if(s.type==="numeric"){const E=s;return{...i,[o]:E.update({shipProperties:t,weaponBaseProperties:a,weaponEnhancementProperties:n,targetProperties:e,outputProperties:i},E)}}return i},{...r})}function Ne(u,t){if(!u.dependsOn)return!1;let a=!1;return u.dependsOn.weaponBaseProperties&&(a=a||!!u.dependsOn.weaponBaseProperties.find(n=>!J(t.weaponBaseProperties[n]))),u.dependsOn.weaponEnhancementProperties&&(a=a||!!u.dependsOn.weaponEnhancementProperties.find(n=>!J(t.weaponEnhancementProperties[n]))),u.dependsOn.targetProperties&&(a=a||!!u.dependsOn.targetProperties.find(n=>!J(t.targetProperties[n]))),u.dependsOn.outputProperties&&(a=a||!!u.dependsOn.outputProperties.find(n=>!Re(t.outputProperties[n]))),a}function J(u){switch(u.type){case"numeric":return u.value!==null;case"select":return!!u.value;default:throw new Error(`Cannot determine whether "${u.label}" is set`)}}function Re(u){switch(u.type){case"numeric":return u.value!==null;default:throw new Error(`Cannot determine whether "${u.label}" is set, unsupported property type`)}}function Oe(u){switch(u.type){case"numeric":{const t=u;return{...t,value:null,formula:t.formula?{...t.formula,filledFormula:null,description:void 0}:void 0}}default:throw new Error(`Cannot reset "${u.label}", unsupported property type`)}}function g(u){return{type:"numeric",id:"[id]",label:"[label]",value:null,update:(t,a)=>a,...u}}function au(u,t,a){var n,e,r,i,o,s,E,A;return((r=(e=(n=u.dependsOn)==null?void 0:n[t])==null?void 0:e.length)!=null?r:0)>0?!0:((s=(o=(i=u.dependsOn)==null?void 0:i.outputProperties)==null?void 0:o.length)!=null?s:0)>0?!!((A=(E=u.dependsOn)==null?void 0:E.outputProperties)!=null&&A.find(d=>au(a[d],t,a))):!1}const j=u=>{var e,r;const{property:t}=u,a=(()=>{if(!t)return"-";if(t.type==="numeric"){const i=t.value;if(i===null)return"-";const o=t.unit;return o?`${C(i)} ${Nu(o)}`:C(i)}return"?"})(),n=l(v,{component:"span",variant:"body2",color:"text.secondary",children:a});return((e=t==null?void 0:t.formula)==null?void 0:e.formula)&&((r=t==null?void 0:t.formula)==null?void 0:r.filledFormula)?l(Qu,{title:p(N,{spacing:1,children:[l(v,{variant:"body2",children:`[${t.label}]`}),l(L,{}),l(v,{variant:"body2",children:`= ${t.formula.formula}`}),l(L,{}),Array.isArray(t.formula.filledFormula)?l(I,{children:t.formula.filledFormula.map((i,o)=>p(B.exports.Fragment,{children:[l(v,{variant:"body2",children:`= ${i}`}),l(L,{})]},`filledFormula_${o}`))}):p(I,{children:[l(v,{variant:"body2",children:`= ${t.formula.filledFormula}`}),l(L,{})]}),l(v,{variant:"body2",children:`= ${a}`}),t.formula.description&&p(I,{children:[l(L,{}),l(v,{variant:"body2",children:t.formula.description})]})]}),children:n}):n},Se=u=>{const{shipProperties:t,weaponBaseProperties:a,enhancementTabs:n,attackTargetTabs:e}=u,r=B.exports.useMemo(()=>fe(),[]),i=B.exports.useMemo(()=>Pe({shipProperties:t,weaponBaseProperties:a,enhancementTabs:n,attackTargetTabs:e,baseOutputProperties:r}),[t,a,n,e,r]);return p(I,{children:[n.length===1&&e.length===1&&l(tu,{sx:{alignItems:"center"},rows:Object.values(r).filter(o=>o.hidden!==!0).map(o=>({key:o.id,label:o.label,value:(()=>{var E,A;const s=(A=(E=i[n[0].id])==null?void 0:E[e[0].id])==null?void 0:A[o.id];return p(N,{direction:"row",spacing:2,sx:{alignItems:"center"},children:[l(j,{property:s!=null?s:null}),(s==null?void 0:s.description)&&l(V,{title:s.label,text:s.description})]})})()}))}),(n.length>1||e.length>1)&&Object.values(r).filter(o=>o.hidden!==!0).map(o=>{var O,_,b;const s=au(o,"weaponEnhancementProperties",r),E=au(o,"targetProperties",r),A=s&&n.length>1,d=A&&E&&e.length>1,T=!A&&E&&e.length>1;return p(R,{pb:6,children:[l(R,{pb:2,children:p(N,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[l(v,{variant:"body1",children:o.label}),o.description&&l(V,{title:o.label,text:o.description})]})}),A&&l(R,{pl:2,children:l(iu,{component:M,sx:{width:"fit-content"},children:p(ou,{size:"small",sx:{width:"fit-content"},children:[l(su,{children:p(K,{children:[d&&l(w,{children:""}),n.map((D,h)=>l(w,{children:l(v,{variant:"body2",color:"text.secondary",children:D.name||D.defaultName(h)})},D.id))]})}),l(Eu,{children:(d?e:[e[0]]).map((D,h)=>p(K,{children:[d&&l(w,{children:l(v,{variant:"body2",color:"text.secondary",children:D.name||D.defaultName(h)})}),n.map($=>{var x,k,G;return l(w,{children:l(j,{property:(G=(k=(x=i[$.id])==null?void 0:x[D.id])==null?void 0:k[o.id])!=null?G:null})},$.id)})]},D.id))})]})})}),!A&&T&&l(R,{pl:2,children:l(iu,{component:M,sx:{width:"fit-content"},children:p(ou,{size:"small",sx:{width:"fit-content"},children:[l(su,{children:l(K,{children:e.map((D,h)=>l(w,{children:l(v,{variant:"body2",color:"text.secondary",children:D.name||D.defaultName(h)})},D.id))})}),l(Eu,{children:l(K,{children:e.map(D=>{var h,$,x;return l(w,{children:l(j,{property:(x=($=(h=i[n[0].id])==null?void 0:h[D.id])==null?void 0:$[o.id])!=null?x:null})},D.id)})})})]})})}),!A&&!T&&l(R,{pl:2,children:l(j,{property:(b=(_=(O=i[n[0].id])==null?void 0:O[e[0].id])==null?void 0:_[o.id])!=null?b:null})})]},o.id)})]})},We=()=>{const[u,t]=B.exports.useState(()=>Ee()),[a,n]=B.exports.useState(()=>ce()),{tabIndex:e,canAddTab:r,tabs:i,setTabIndex:o,addTab:s,removeTab:E,renameTab:A,changeProperty:d}=pu({idPrefix:"enhancementTab",tabNamePrefix:"\u30B9\u30AD\u30EB\u8A2D\u5B9A",propertyFactoryFn:de}),{tabIndex:T,canAddTab:O,tabs:_,setTabIndex:b,addTab:D,removeTab:h,renameTab:$,changeProperty:x}=pu({idPrefix:"attackTargetTab",tabNamePrefix:"\u653B\u6483\u76EE\u6A19",propertyFactoryFn:Ae}),k=B.exports.useCallback(y=>{t(Z=>({...Z,[y.id]:y}))},[]),G=B.exports.useCallback(y=>{n(Z=>({...Z,[y.id]:y}))},[]);return p(I,{children:[l(ku,{currentRoute:"/dpmCalc"}),l(Gu,{children:l(R,{p:1,children:p(N,{pt:1,spacing:4,children:[l(v,{variant:"body2",children:"\u3053\u3061\u3089\u306EDPM\u8A08\u7B97\u6A5F\u3067\u306F\u8907\u6570\u306E\u30B9\u30AD\u30EB\u8A2D\u5B9A\u3092\u540C\u6642\u306B\u8907\u6570\u306E\u653B\u6483\u76EE\u6A19\u306B\u5BFE\u3057\u3066\u6BD4\u8F03\u3067\u304D\u307E\u3059\u3002"}),p(N,{spacing:1,children:[l(v,{variant:"body1",children:"\u8266\u8239\u60C5\u5831"}),l(M,{children:l(R,{p:1,children:l(Cu,{properties:u,onChange:k,isVisibleProperty:Ce})})})]}),p(N,{spacing:1,children:[l(v,{variant:"body1",children:"\u6B66\u88C5\u60C5\u5831\uFF08\u521D\u671F\u30B9\u30C6\u30FC\u30BF\u30B9\uFF09"}),l(M,{children:l(R,{p:1,children:l(Cu,{properties:a,onChange:G,isVisibleProperty:Fe})})})]}),p(N,{spacing:1,children:[l(v,{variant:"body1",children:"\u30B9\u30AD\u30EB"}),l(M,{children:l(Tu,{idPrefix:"enhancementTab",tabs:i,tabIndex:e,canAddTab:r,addTab:s,removeTab:E,renameTab:A,changeProperty:d,setTabIndex:o})})]}),p(N,{spacing:1,children:[l(v,{variant:"body1",children:"\u653B\u6483\u76EE\u6A19"}),l(M,{children:l(Tu,{idPrefix:"attackTargetTab",tabs:_,tabIndex:T,canAddTab:O,addTab:D,removeTab:h,renameTab:$,changeProperty:x,setTabIndex:b})})]}),p(N,{spacing:1,children:[l(v,{variant:"body1",children:"\u8A08\u7B97\u7D50\u679C"}),l(M,{children:l(R,{p:1,children:l(Se,{shipProperties:u,weaponBaseProperties:a,enhancementTabs:i,attackTargetTabs:_})})})]}),p(Wu,{severity:"warning",children:[l(ee,{children:"\u73FE\u5728\u3053\u306E\u8A08\u7B97\u6A5F\u3067\u306F\u300C\u547D\u4E2D\u7387\u300D\u3068\u300C\u56DE\u907F\u7387\u300D\u3092\u542B\u307E\u306A\u3044\u8A08\u7B97\u3092\u3057\u3066\u3044\u307E\u3059\u3002"}),"\u547D\u4E2D\u7387\u3068\u56DE\u907F\u7387\u3092\u542B\u3081\u305F\u8A08\u7B97\u3092\u884C\u3046\u5834\u5408\u3001\u30B2\u30FC\u30E0\u5185\u3067\u306F\u898B\u308C\u306A\u3044\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u8907\u6570\u63C3\u3048\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002\u6B66\u5668\u6BCE\u306B\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u308B\u300C\u653B\u6483\u76EE\u6A19\u306E\u8266\u7A2E\u5225\u306E\u57FA\u790E\u547D\u4E2D\u7387\u300D\u3068\u300C\u5BFE\u8266/\u5BFE\u7A7A/\u653B\u57CE\u57FA\u790E\u547D\u4E2D\u7387\u300D\u304C\u4E0D\u8DB3\u3057\u3066\u3044\u307E\u3059\u3002\u5165\u624B\u65B9\u6CD5\u304C\u96E3\u3057\u304F\u3001\u6B66\u5668\u306E\u69CB\u6210\u6B21\u7B2C\u3067\u306F\u9006\u7B97\u3067\u304D\u306A\u3044\u5834\u5408\u3082\u3042\u308A\u307E\u3059\u3002\u4ECA\u5F8C\u3053\u308C\u3089\u306E\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u5FC5\u8981\u3068\u3057\u306A\u3044\u7C21\u7565\u5316\u3057\u305F\u8A08\u7B97\u5F0F\u3092\u4F7F\u3046\u300C\u30CE\u30FC\u30DE\u30EB\u30E2\u30FC\u30C9\u300D\u3068\u5168\u3066\u306E\u96A0\u3057\u30B9\u30C6\u30FC\u30BF\u30B9\u3092\u5165\u529B\u3067\u304D\u308B\u300C\u30A8\u30AD\u30B9\u30D1\u30FC\u30C8\u30E2\u30FC\u30C9\u300D\u3092\u5206\u3051\u3066\u5B9F\u88C5\u3059\u308B\u4E88\u5B9A\u3067\u3059\u3002"]})]})})}),l(Ku,{})]})};export{We as DpmCalcPage,We as default};

import{r as n,ai as L,as as C,at as E,k as T}from"./index.4e0e661f.js";function v(s){return s.substring(2).toLowerCase()}function g(s,o){return o.documentElement.clientWidth<s.clientX||o.documentElement.clientHeight<s.clientY}function y(s){const{children:o,disableReactTree:R=!1,mouseEvent:u="onClick",onClickAway:x,touchEvent:i="onTouchEnd"}=s,f=n.exports.useRef(!1),c=n.exports.useRef(null),l=n.exports.useRef(!1),d=n.exports.useRef(!1);n.exports.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const k=L(o.ref,c),a=C(e=>{const t=d.current;d.current=!1;const r=E(c.current);if(!l.current||!c.current||"clientX"in e&&g(e,r))return;if(f.current){f.current=!1;return}let p;e.composedPath?p=e.composedPath().indexOf(c.current)>-1:p=!r.documentElement.contains(e.target)||c.current.contains(e.target),!p&&(R||!t)&&x(e)}),h=e=>t=>{d.current=!0;const r=o.props[e];r&&r(t)},m={ref:k};return i!==!1&&(m[i]=h(i)),n.exports.useEffect(()=>{if(i!==!1){const e=v(i),t=E(c.current),r=()=>{f.current=!0};return t.addEventListener(e,a),t.addEventListener("touchmove",r),()=>{t.removeEventListener(e,a),t.removeEventListener("touchmove",r)}}},[a,i]),u!==!1&&(m[u]=h(u)),n.exports.useEffect(()=>{if(u!==!1){const e=v(u),t=E(c.current);return t.addEventListener(e,a),()=>{t.removeEventListener(e,a)}}},[a,u]),T(n.exports.Fragment,{children:n.exports.cloneElement(o,m)})}export{y as C};

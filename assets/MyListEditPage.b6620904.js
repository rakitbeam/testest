import{j as e,a as o,F as P,B as A,S as C,T as p,P as g,J as b,K as L,L as M,W as D,u as N,aT as $,aU as W,r as f,Y as d,a2 as U,b as I,i as k,aV as w,c as j,aW as H,aB as q,aC as Y,aE as z,p as K,n as G,o as y}from"./index.bfcd82d6.js";import{d as J,a as V,b as Q,C as X}from"./ConfirmationDialog.5a6afb0e.js";import{S as Z,a as ee,s as ie,c as te}from"./ShipTypeFilterButton.00fa208d.js";import{A as se}from"./ActionBar.95475989.js";import{d as ne}from"./Settings.df9c8645.js";import{T as R,a as B}from"./ToggleButtonGroup.bcf66529.js";import{N as ue,P as ae}from"./PageContent.cbb5aef4.js";import{P as re}from"./PageFooter.ca44d500.js";import"./ResponsiveDialog.947b5234.js";import"./domUtils.7c958e3f.js";import"./useFormControl.20b55ce4.js";const oe=s=>{const{shipFilter:i,onCancel:t,onSave:n,onReset:l,onFilter:r}=s;return e(se,{left:a=>e(Z,{filter:i,onChange:r,researchManufacturer:!1,researchStrategyTypes:!1,researchTacticTypes:!1,buttonProps:a},"filter"),right:a=>o(P,{children:[e(A,{variant:"outlined",startIcon:e(J,{}),onClick:l,...a,children:"\u521D\u671F\u5316"},"reset"),e(A,{variant:"outlined",startIcon:e(V,{}),onClick:t,...a,children:"\u30AD\u30E3\u30F3\u30BB\u30EB"},"cancel"),e(A,{variant:"contained",startIcon:e(Q,{}),onClick:n,...a,children:"\u4FDD\u5B58"},"save")]})})},_=s=>{const{label:i,options:t,possession:n,onChange:l}=s,r=(a,c)=>{l(c===null?g.UNDEFINED:Number(c))};return o(C,{spacing:1,direction:"row",alignItems:"center",children:[e(p,{variant:"body2",children:i}),o(R,{size:"small",color:"primary",value:`${n}`,exclusive:!0,onChange:r,children:[e(B,{value:`${g.POSSESSED}`,children:t[0]}),e(B,{value:`${g.NOT_POSSESSED}`,children:t[1]})]})]})};var T={},le=L.exports;Object.defineProperty(T,"__esModule",{value:!0});var O=T.default=void 0,ce=le(b),de=M,he=(0,ce.default)((0,de.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");O=T.default=he;const x=s=>{const{wish:i,onChange:t}=s,n=(l,r)=>{t(r===null||r==="clear"?D.UNDEFINED:Number(r))};return o(C,{spacing:1,direction:"row",alignItems:"center",children:[e(p,{variant:"body2",children:"\u30AC\u30C1\u30E3\u3067"}),o(R,{size:"small",color:"primary",value:`${i}`,exclusive:!0,onChange:n,children:[e(B,{value:`${D.WANTED}`,children:"\u51FA\u3066\u6B32\u3057\u3044"}),e(B,{value:`${D.NOT_WANTED}`,children:"\u51FA\u3066\u6B32\u3057\u304F\u306A\u3044"}),i!==D.UNDEFINED&&e(B,{value:"clear",children:e(O,{})})]})]})},pe=s=>{const{ship:i,...t}=s,{userSettings:n,setShipPossession:l,setShipWish:r,setModulePossession:a,setModuleWish:c}=N(),S=$(i.id,n),h=W(i.id,n),E=f.exports.useMemo(()=>h!==D.UNDEFINED?!0:i.source===d.TECH_FILE&&S===g.NOT_POSSESSED,[i,S,h]);return e(U,{elevation:2,...t,children:e(I,{p:1,children:o(C,{spacing:3,children:[e(p,{variant:"h6",children:k(i)}),e(_,{label:Se(i),options:fe(i),possession:S,onChange:u=>l(i.id,u)}),E&&e(x,{wish:h,onChange:u=>r(i.id,u)}),(i.source===d.TECH_FILE||i.source===d.STARTER_SHIP)&&S===g.POSSESSED&&i.modules&&i.modules.filter(u=>!u.defaultModule).map(u=>{const m=w(u.id,i.id,n);return o(f.exports.Fragment,{children:[e(p,{variant:"h6",children:`${u.category}${u.categoryNumber} ${j(i.id,u)}`}),e(_,{label:"\u30B7\u30B9\u30C6\u30E0\u3092",options:["\u6301\u3063\u3066\u3044\u308B","\u6301\u3063\u3066\u3044\u306A\u3044"],possession:m,onChange:v=>a(u.id,i.id,v)}),m===g.NOT_POSSESSED&&e(x,{wish:H(u.id,i.id,n),onChange:v=>c(u.id,i.id,v)})]},u.id)})]})})})};function Se(s){switch(s.source){case d.CITY_TRADE:return"\u90FD\u5E02\u3067";case d.DOCK_EFFECT:return"\u81E8\u6642\u8A2D\u8A08\u56F3\u3092";default:return"\u8A2D\u8A08\u56F3\u3092"}}function fe(s){switch(s.source){case d.CITY_TRADE:return["\u8CB7\u3063\u3066\u3044\u308B","\u8CB7\u3063\u3066\u3044\u306A\u3044"];default:return["\u6301\u3063\u3066\u3044\u308B","\u6301\u3063\u3066\u3044\u306A\u3044"]}}const F=s=>{const{id:i,title:t,shipDefinitions:n,initiallyOpened:l,preRenderDetails:r=!1}=s,[a,c]=f.exports.useState(l);return o(q,{expanded:a,onChange:(h,E)=>{c(E)},children:[e(Y,{id:i,expandIcon:e(ne,{}),children:e(p,{variant:"body1",children:t})}),e(z,{children:(a||r)&&e(C,{spacing:3,children:n.map(h=>e(pe,{ship:h},h.id))})})]})},ge=s=>{const{shipFilter:i}=s,t=f.exports.useMemo(()=>{const n=ee(K,i);return ie(n)},[i]);return o(C,{spacing:1,children:[e("div",{children:e(F,{id:"tech-file-ships",title:"\u6280\u8853\u30D5\u30A1\u30A4\u30EB\u304B\u3089\u624B\u306B\u5165\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",initiallyOpened:!1,preRenderDetails:!0,shipDefinitions:t[d.TECH_FILE]})}),e("div",{children:e(F,{id:"city-trade-ships",title:"\u90FD\u5E02\u3067\u8CB7\u3048\u308B\u8266\u8239",initiallyOpened:!1,shipDefinitions:t[d.CITY_TRADE]})}),e("div",{children:e(F,{id:"dock-effect-ships",title:"\u7D50\u5408\u52B9\u679C\u3067\u624B\u306B\u5165\u308B\u8266\u8239/\u81E8\u6642\u8A2D\u8A08\u56F3",initiallyOpened:!1,shipDefinitions:t[d.DOCK_EFFECT]})}),e("div",{children:e(F,{id:"starter-ships",title:"\u521D\u671F\u914D\u5E03\u3067\u624B\u306B\u5165\u308B\u8266\u8239/\u8A2D\u8A08\u56F3",initiallyOpened:!1,shipDefinitions:t[d.STARTER_SHIP]})})]})},xe=()=>{const s=G(),{saveUserSettings:i,restoreUserSettings:t,resetUserSettings:n}=N(),[l,r]=f.exports.useState(te),[a,c]=f.exports.useState(!1);f.exports.useEffect(()=>()=>{t()},[t]);const S=()=>{t(),s("/myList")},h=()=>{i(),s("/myList")},E=()=>{c(!1)},u=()=>{c(!0)},m=()=>{c(!1),n()};return o(P,{children:[e(ue,{currentRoute:"/myList"}),e(oe,{shipFilter:l,onCancel:S,onReset:u,onSave:h,onFilter:r}),e(ae,{children:o(I,{p:1,children:[o(C,{pt:1,pb:2,spacing:2,children:[e(p,{variant:"body2",children:y("myListConfig.pageDescription1")}),e(p,{variant:"body2",children:y("myListConfig.pageDescription2")}),e(p,{variant:"body2",children:y("myListConfig.pageDescription3")})]}),e(ge,{shipFilter:l})]})}),a&&e(X,{title:"\u521D\u671F\u5316",question:"\u30DE\u30A4\u30EA\u30B9\u30C8\u8A2D\u5B9A\u3092\u521D\u671F\u72B6\u614B\u306B\u623B\u3057\u307E\u3059\u304B\uFF1F",cancelText:"\u30AD\u30E3\u30F3\u30BB\u30EB",confirmText:"\u521D\u671F\u5316",onCancel:E,onConfirm:m}),e(re,{})]})};export{xe as MyListEditPage,xe as default};

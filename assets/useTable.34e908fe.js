import{D as j,t as B,c as H,s as $}from"./sorting.c6946657.js";import{E as k,j as a,q as E,v as P,w as A,x as O,D as N,_ as h,r as b,I as q,y as V,A as W,a as U,C,a4 as G,T as f,F as m}from"./index.82d38be4.js";import{T as J,a as K,b as Q,c as F,d as _,e as X}from"./TableRow.b166f222.js";var Y=k(a("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Z(t){return E("MuiTableSortLabel",t)}const tt=P("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);var y=tt;const ot=["active","children","className","direction","hideSortIcon","IconComponent"],et=t=>{const{classes:r,direction:e,active:o}=t,s={root:["root",o&&"active"],icon:["icon",`iconDirection${N(e)}`]};return W(s,Z,r)},rt=A(O,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:e}=t;return[r.root,e.active&&r.active]}})(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${y.icon}`]:{opacity:.5}},[`&.${y.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${y.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}})),nt=A("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:e}=t;return[r.icon,r[`iconDirection${N(e.direction)}`]]}})(({theme:t,ownerState:r})=>h({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},r.direction==="desc"&&{transform:"rotate(0deg)"},r.direction==="asc"&&{transform:"rotate(180deg)"})),st=b.exports.forwardRef(function(r,e){const o=q({props:r,name:"MuiTableSortLabel"}),{active:s=!1,children:n,className:c,direction:l="asc",hideSortIcon:d=!1,IconComponent:i=Y}=o,u=V(o,ot),p=h({},o,{active:s,direction:l,hideSortIcon:d,IconComponent:i}),S=et(p);return U(rt,h({className:C(S.root,c),component:"span",disableRipple:!0,ownerState:p,ref:e},u,{children:[n,d&&!s?null:a(nt,{as:i,className:C(S.icon),ownerState:p})]}))});var at=st;const dt=t=>{const{table:r,size:e="medium"}=t;return a(J,{component:G,children:U(K,{size:e,children:[a(Q,{children:a(F,{children:r.header.map(o=>{var s,n;return a(_,{sortDirection:(s=o.sortDirection)!=null?s:!1,children:o.toggleSort?a(at,{active:!!o.sortDirection,direction:(n=o.sortDirection)!=null?n:j,onClick:o.toggleSort,children:typeof o.content=="string"?a(f,{variant:"body2",children:o.content}):a(m,{children:o.content})}):a(m,{children:typeof o.content=="string"?a(f,{variant:"body2",children:o.content}):a(m,{children:o.content})})},o.id)})})}),a(X,{children:r.rows.map(o=>a(F,{children:o.cells.map(s=>a(_,{component:"th",scope:"row",children:typeof s.content=="string"?a(f,{variant:"body2",children:s.content}):a(m,{children:s.content})},s.id))},o.id))})]})})};function D(t,r,e,o){if(!t.sortFn)return{id:`header_${t.id}`,content:t.renderHeader(null,null),sortDirection:null,toggleSort:null};const s=()=>{o(t.id,t.id===r?B(e):j)},n=t.id===r?e:null;return{id:`header_${t.id}`,content:t.renderHeader(n,s),sortDirection:n,toggleSort:s}}function M(t,r){return t.data.map(e=>({id:t.rowIdFn(e),cells:r.map(o=>({id:`${t.rowIdFn(e)}_${o.id}`,content:o.renderCell(e)}))}))}const ut=()=>{const[t,r]=b.exports.useState({header:[],rows:[],sortBy:null,sortDirection:null}),e=b.exports.useRef(null),o=b.exports.useCallback(n=>{var d,i;const c=((d=e.current)==null?void 0:d.columns)!==n.columns,l=((i=e.current)==null?void 0:i.data)!==n.data;!c&&!l||(e.current={...e.current,...n},r(u=>{var w,x,L,I,R;const{initialSortBy:p,initialSortDirection:S}=H(n.columns),T=(x=(w=u.sortBy)!=null?w:p)!=null?x:null,g=(L=u.sortDirection)!=null?L:S,z=(R=(I=n.columns.find(v=>v.id===T))==null?void 0:I.sortFn)!=null?R:null;return{...u,header:c?n.columns.map(v=>D(v,T,g,s)):u.header,rows:c||l?M($(n,z,g),n.columns):u.rows,sortBy:T,sortDirection:g}}))},[]),s=b.exports.useCallback((n,c)=>{var l;if(e.current){const d=(l=e.current.columns.find(i=>i.id===n))==null?void 0:l.sortFn;r({...t,header:e.current.columns.map(i=>D(i,n,c,s)),rows:M($(e.current,d,c),e.current.columns),sortBy:n,sortDirection:c})}},[t,e]);return{table:t,setTableData:o,setSorting:s}};export{dt as T,ut as u};

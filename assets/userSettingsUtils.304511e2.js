var N=Object.defineProperty,l=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var c=(s,e,i)=>e in s?N(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,r=(s,e)=>{for(var i in e||(e={}))f.call(e,i)&&c(s,i,e[i]);if(p)for(var i of p(e))w.call(e,i)&&c(s,i,e[i]);return s},E=(s,e)=>l(s,U(e));import{o,i as O}from"./index.bcaed592.js";import{P as t,W as n}from"./WishState.3db35fd5.js";const u="settings";function T(){var s;return(s=m())!=null?s:d()}function y(s){const e=JSON.stringify(P(s));window.localStorage.setItem(u,e)}function m(){const s=window.localStorage.getItem(u);if(!s)return null;const e=C(s);return e?F(_(e)):null}function P(s){return E(r({},s),{ships:Object.keys(s.ships).map(e=>{const{possession:i,wish:S}=s.ships[e];return[e,i,S]}),modules:Object.keys(s.modules).map(e=>{const{possession:i,wish:S}=s.modules[e];return[e,i,S]})})}function F(s){const e=s.ships.AC721_C;return e&&(s.ships[o.AC721_TE_A]=e,delete s.ships.AC721_C),s}function _(s){var e,i;return E(r({},s),{ships:s.ships.reduce((S,[D,a,h])=>E(r({},S),{[D]:{possession:a,wish:h}}),{}),modules:(i=(e=s.modules)==null?void 0:e.reduce((S,[D,a,h])=>E(r({},S),{[D]:{possession:a,wish:h}}),{}))!=null?i:{}})}function C(s){try{return JSON.parse(s)}catch(e){return alert("ERROR - Failed to restore user settings"),console.error(e),null}}function d(){return{formatVersion:1,ships:{[o.FG300_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.FG300_B]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.FG300_C]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.AC721_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.AC721_D]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.CAS066_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.CV_II003]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.KCCPV2_0_A]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.KCCPV2_0_D]:{possession:t.POSSESSED,wish:n.UNDEFINED},[o.ST59]:{possession:t.POSSESSED,wish:n.UNDEFINED}},modules:{}}}function b(s,e,i){var S,D;return E(r({},s),{[e]:E(r({},s[e]),{possession:i,wish:O(e)&&i===t.POSSESSED?n.UNDEFINED:(D=(S=s[e])==null?void 0:S.wish)!=null?D:n.UNDEFINED})})}function W(s,e){var i;return((i=e.ships[s])==null?void 0:i.possession)===t.POSSESSED}function j(s,e){var i;return((i=e.ships[s])==null?void 0:i.wish)===n.WANTED}function G(s,e){var i;return((i=e.ships[s])==null?void 0:i.wish)===n.NOT_WANTED}export{b as a,G as b,d as c,W as d,T as g,j as i,y as s};

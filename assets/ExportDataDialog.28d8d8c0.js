import{P as q,Q as z,R as H,r as v,k as e,j as a,w as n,q as F,T as s,t,B as r,b1 as O,F as D,x as S,b2 as E,y as A}from"./index.995450ba.js";import{R as _}from"./ResponsiveDialog.793e243d.js";import{C as L,d as M}from"./ConfirmationDialog.181ca33f.js";import{A as T,T as W}from"./TextField.3a904a99.js";import{b as G,a as J}from"./Download.30bec09d.js";var I={},N=z.exports;Object.defineProperty(I,"__esModule",{value:!0});var Q=I.default=void 0,K=N(q),U=H,X=(0,K.default)((0,U.jsx)("path",{d:"M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H15v-8h5V8l-6-6zm-1 7V3.5L18.5 9H13zm4 12.66V16h5.66v2h-2.24l2.95 2.95-1.41 1.41L19 19.41v2.24h-2z"}),"FileOpen");Q=I.default=X;const ne=m=>{const{confirmDialogTitle:b,confirmWarning:l,createPreview:u,parseInput:p,canRestore:g,onImport:C,onClose:i,onSelectFile:x,onRestoreFromBackup:h}=m,[c,d]=v.exports.useState(null),[y,w]=v.exports.useState(""),[k,f]=v.exports.useState(!1),j=()=>{x(o=>{d(o)},()=>{i()})},B=()=>{h==null||h(o=>{d(o)},()=>{i()})},P=o=>{f(!1),w(o.target.value)},R=()=>{f(!1);let o;try{o=p(y)}catch($){console.error($),f(!0);return}if(o===null){f(!0);return}d(o)},V=()=>{c&&C(c),i()};return c?e(L,{title:b,question:a(n,{children:[l&&e(T,{severity:"warning",children:l}),e(F,{p:1,children:e(s,{variant:"body2",component:"div",children:e("pre",{children:u(c)})})})]}),onConfirm:V,onCancel:()=>d(null)}):e(_,{title:t("label.dataImport"),content:a(n,{spacing:4,children:[l&&e(T,{severity:"warning",children:l}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.importFromFile")}),e(r,{variant:"outlined",onClick:j,disabled:!O(),children:t("button.chooseFile")})]}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.directInput")}),a(n,{direction:"row",spacing:1,children:[e(F,{sx:{flexGrow:1},children:e(W,{id:"json-input",placeholder:t("label.pasteHere"),variant:"outlined",value:y,onChange:P,error:k,helperText:k?t("validation.invalidValue"):void 0,fullWidth:!0,autoComplete:"off",size:"small"})}),e("div",{children:e(r,{variant:"outlined",onClick:R,disabled:y.length===0,children:t("button.parseInput")})})]})]}),g&&a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.restoreFromBackup")}),e(r,{variant:"outlined",onClick:B,children:t("button.restoreFromStorage")})]})]}),onClose:i,actions:e(D,{children:e(r,{variant:"outlined",onClick:i,children:t("button.cancel")})})})},oe=m=>{const{fileName:b,jsonContent:l,onClose:u,onStoreBackup:p}=m,[g,C]=v.exports.useState(!1),[i,x]=v.exports.useState(!1),h=()=>{E(l,b),u()},c=()=>{p&&(p(),x(!0))},d=()=>{A(l).then(()=>{C(!0)})};return e(_,{title:t("label.dataExport"),content:a(n,{spacing:4,children:[a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.exportToFile")}),e(r,{variant:"outlined",onClick:h,startIcon:e(G,{}),children:t("button.downloadFile")})]}),a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.directCopy")}),e(r,{variant:"outlined",onClick:d,startIcon:g?e(S,{}):e(J,{}),children:t("button.copyToClipboard")})]}),p&&a(n,{spacing:1,children:[e(s,{variant:"body1",children:t("label.createBackup")}),e(r,{variant:"outlined",onClick:c,startIcon:i?e(S,{}):e(M,{}),children:t("button.storeBackupInStorage")})]})]}),onClose:u,actions:e(D,{children:e(r,{variant:"outlined",onClick:u,children:t("button.close")})})})};export{oe as E,ne as I,Q as d};

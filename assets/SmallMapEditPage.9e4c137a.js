import{d as _}from"./Add.976b84a2.js";import{P as k,Q as j,R as W,j as p,w as X,k as e,r as m,q as h,D as g,F as O}from"./index.17be86a6.js";import{I as $}from"./IconButton.7687540a.js";const T=l=>{const{gridData:n,gridControlSize:d,rootPadding:t}=l,r=n.maxX-n.minX+1,o=n.maxY-n.minY+1,c=(window.innerHeight-2*d-2*t)/(window.innerWidth-2*d-2*t),s=o/r;return{gridContainerWidth:c>s?"100%":(()=>`${(window.innerHeight-2*d-2*t)/o*r+2*d}px`)()}};var w={},H=j.exports;Object.defineProperty(w,"__esModule",{value:!0});var Y=w.default=void 0,B=H(k),M=W,P=(0,B.default)((0,M.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");Y=w.default=P;const u=l=>{const{side:n,onAddCells:d,onRemoveCells:t,removeDisabled:r}=l;return p(X,{spacing:1,direction:n==="left"||n==="right"?"column":"row",children:[e($,{color:"primary",component:"label",onClick:()=>d(n),children:e(_,{})}),e($,{color:"primary",component:"label",onClick:()=>t(n),disabled:r,children:e(Y,{})})]})},q=l=>{const{gridData:n}=l;return{cellContentById:m.exports.useMemo(()=>n.cellContent.reduce((t,r)=>{var o;return{...t,[r.id]:[...(o=t[r.id])!=null?o:[],r]}},{}),[n])}},z=l=>{const{id:n,x:d,y:t,content:r,gridData:o}=l;return p(h,{component:"div",sx:{flexGrow:1,position:"relative",overflow:"hidden"},children:[e(h,{component:"div",sx:{position:"absolute",top:0,left:0,color:"lightgrey",opacity:.1},children:`(${d}/${t})`}),e(h,{component:"div",sx:{display:"flex",position:"absolute",top:0,left:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},children:"ABC"})]})},A=50,G=8,E=g(h)(({theme:l})=>({display:"grid",gap:"1px",flexGrow:1})),F=g(h)(({theme:l})=>({display:"flex",aspectRatio:"1 / 1",overflow:"hidden",outline:"1px dashed #7bacbb","&:hover":{backgroundColor:"rgb(137 214 255 / 10%)"},cursor:"pointer"})),v=g(h)(({theme:l})=>({display:"flex",alignItems:"center",justifyContent:"center"})),N=l=>{const{gridData:n,onToggleCell:d,onAddCells:t,onRemoveCells:r}=l,o=n.maxX-n.minX+1,c=n.maxY-n.minY+1,s=1,i=1,{gridContainerWidth:a}=T({gridData:n,gridControlSize:A,rootPadding:G}),{cellContentById:b}=q({gridData:n});return e(X,{sx:{padding:`${G}px`},direction:"row",justifyContent:"center",children:e(h,{component:"div",sx:{width:a},children:p(E,{sx:{gridTemplateColumns:`${A}px repeat(${o}, 1fr) ${A}px`,gridTemplateRows:`${A}px repeat(${c}, 1fr) ${A}px`},children:[e(v,{sx:{gridRow:`2 / ${2+c}`},children:e(u,{side:"left",onAddCells:t,onRemoveCells:r,removeDisabled:o===1})}),e(v,{sx:{gridRow:`2 / ${2+c}`,gridColumn:o+2},children:e(u,{side:"right",onAddCells:t,onRemoveCells:r,removeDisabled:o===1})}),e(v,{sx:{gridColumn:`2 / ${2+o}`},children:e(u,{side:"top",onAddCells:t,onRemoveCells:r,removeDisabled:c===1})}),e(v,{sx:{gridRow:c+2,gridColumn:`2 / ${2+o}`},children:e(u,{side:"bottom",onAddCells:t,onRemoveCells:r,removeDisabled:c===1})}),[...Array(c)].flatMap((I,R)=>{const x=R+n.minY;return[...Array(o)].map((Z,S)=>{var y;const f=S+n.minX,C=`${f}/${x}`;return e(F,{sx:{gridColumn:f-n.minX+s+1,gridRow:x-n.minY+i+1},onClick:()=>d(C),children:e(z,{id:C,x:f,y:x,content:(y=b[C])!=null?y:[],gridData:n})},C)})})]})})})};function L(){return{minX:-1,maxX:2,minY:-1,maxY:1,cellContent:[],multiCellContent:[]}}const Q=()=>{const[l,n]=m.exports.useState(L()),[d,t]=m.exports.useState(null),r=m.exports.useCallback(s=>{n(i=>{switch(s){case"left":return{...i,minX:i.minX-1};case"right":return{...i,maxX:i.maxX+1};case"top":return{...i,minY:i.minY-1};case"bottom":return{...i,maxY:i.maxY+1}}})},[]),o=m.exports.useCallback(s=>{n(i=>{switch(s){case"left":return{...i,cellContent:i.cellContent.filter(a=>a.x>i.minX),minX:i.minX+1};case"right":return{...i,cellContent:i.cellContent.filter(a=>a.x<i.maxX),maxX:i.maxX-1};case"top":return{...i,cellContent:i.cellContent.filter(a=>a.y>i.minY),minY:i.minY+1};case"bottom":return{...i,cellContent:i.cellContent.filter(a=>a.y<i.maxY),maxY:i.maxY-1}}})},[]),c=m.exports.useCallback(s=>{t(i=>i===s?null:s)},[]);return{gridData:l,openedCellId:d,addCells:r,removeCells:o,toggleCell:c}},V=()=>{const{openedCellId:l,gridData:n,addCells:d,removeCells:t,toggleCell:r}=Q();return p(O,{children:[!l&&e(N,{gridData:n,onToggleCell:r,onAddCells:d,onRemoveCells:t}),l&&e("button",{onClick:()=>r(l),children:"Clear"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"}),e("div",{children:"AA"})]})};export{V as default};
